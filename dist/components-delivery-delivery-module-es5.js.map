{"version":3,"sources":["webpack:///src/app/shared/interfaces/delivery-boy.ts","webpack:///src/app/components/delivery/list-delivery-boys/list-delivery-boys.component.ts","webpack:///src/app/components/delivery/list-delivery-boys/list-delivery-boys.component.html","webpack:///src/app/components/delivery/orders-board/orders-board.component.html","webpack:///src/app/components/delivery/orders-board/orders-board.component.ts","webpack:///node_modules/@datorama/akita/__ivy_ngcc__/fesm2015/datorama-akita.js","webpack:///node_modules/@angular/cdk/__ivy_ngcc__/fesm2015/drag-drop.js","webpack:///src/app/components/delivery/delivery-summery/delivery-summery.component.ts","webpack:///src/app/components/delivery/delivery-summery/delivery-summery.component.html","webpack:///src/app/components/delivery/view-delivery-boy/view-delivery-boy.component.ts","webpack:///src/app/components/delivery/view-delivery-boy/view-delivery-boy.component.html","webpack:///src/app/components/delivery/delivery-hour-report/delivery-hour-report.component.ts","webpack:///src/app/components/delivery/delivery-hour-report/delivery-hour-report.component.html","webpack:///src/app/components/delivery/delivery-orders/delivery-orders.component.ts","webpack:///src/app/components/delivery/delivery-orders/delivery-orders.component.html","webpack:///src/app/components/delivery/zone-orders/zone-orders.component.html","webpack:///src/app/components/delivery/zone-orders/zone-orders.component.ts","webpack:///src/app/shared/data/utils/issue.ts","webpack:///src/app/components/delivery/delivery-accounts/delivery-accounts.component.ts","webpack:///src/app/components/delivery/delivery-accounts/delivery-accounts.component.html","webpack:///src/app/shared/data/project.store.ts","webpack:///src/app/components/delivery/zone-chat/zone-chat.component.ts","webpack:///src/app/components/delivery/zone-chat/zone-chat.component.html","webpack:///src/assets/filter/filter.store.ts","webpack:///src/app/components/delivery/issue-loader/issue-loader.component.ts","webpack:///src/app/components/delivery/issue-loader/issue-loader.component.html","webpack:///src/app/components/delivery/add-delivery-boy/add-delivery-boy.component.ts","webpack:///src/app/components/delivery/add-delivery-boy/add-delivery-boy.component.html","webpack:///src/app/components/delivery/zone-hours/zone-hours.component.ts","webpack:///src/app/components/delivery/zone-hours/zone-hours.component.html","webpack:///src/app/components/delivery/orders-dashboard/orders-dashboard.component.ts","webpack:///src/app/components/delivery/orders-dashboard/orders-dashboard.component.html","webpack:///node_modules/@ngneat/content-loader/__ivy_ngcc__/fesm2015/ngneat-content-loader.js","webpack:///src/app/components/delivery/issue-card/issue-card.component.html","webpack:///src/app/components/delivery/issue-card/issue-card.component.ts","webpack:///node_modules/@ngneat/until-destroy/__ivy_ngcc__/fesm2015/ngneat-until-destroy.js","webpack:///src/app/shared/data/issue.ts","webpack:///src/app/components/delivery/delivery-routing.module.ts","webpack:///src/app/shared/service/project.service.ts","webpack:///src/app/components/delivery/issue-detail/issue-detail.component.ts","webpack:///src/app/components/delivery/issue-detail/issue-detail.component.html","webpack:///src/assets/filter/filter.query.ts","webpack:///src/app/components/delivery/delivery.module.ts","webpack:///src/app/components/delivery/issue-modal/issue-modal.component.ts","webpack:///src/app/components/delivery/issue-modal/issue-modal.component.html","webpack:///src/app/components/delivery/zone-delivery-boys-tracking/zone-delivery-boys-tracking.component.ts","webpack:///src/app/components/delivery/zone-delivery-boys-tracking/zone-delivery-boys-tracking.component.html","webpack:///src/app/shared/data/project.query.ts","webpack:///src/app/shared/service/map.directive.ts","webpack:///src/app/shared/data/issue-priority-icon.ts"],"names":["DeliveryBoy","collectAmount","com","ListDeliveryBoysComponent","modalService","deliveryService","_domSanitizer","router","dataService","dtOptions","isDtInitialized","dtTrigger","customers","states","rows","srch","pipe","selectedTown","allZone","user","localStorage","getItem","console","log","jsonObj","JSON","parse","town","selectedState","state","getAllStates","subscribe","content","open","ariaLabelledBy","result","then","closeResult","reason","getDismissReason","ESC","BACKDROP_CLICK","pageLength","language","dom","getDBoys","getAllDeliveryBoys","res","dtElement","dtInstance","destroy","next","getDeliveryBoysByZone","event","window","confirm","name","phone","removeDB","reject","id","navigate","queryParams","selector","templateUrl","styleUrls","OrdersBoardComponent","projectQuery","orderService","Allorders","issueStatuses","NEW","PREPARE","STORED","DISPATCHING","orders","currentAction","type","entityIds","skip","payload","customActionActive","resetCustomAction","logAction","setAction","setSkipAction","action","target","propertyKey","descriptor","originalMethod","value","args","apply","hasEntity","entities","hasOwnProperty","isArray","Array","hasActiveState","isMultiActiveState","active","resolveActiveEntity","ids","getExitingActives","currentActivesIds","newIds","filtered","filter","indexOf","length","addEntities","idKey","options","preAddEntity","newEntities","hasNewEntities","entity","current","entityId","prepend","unshift","push","newState","Object","assign","isNil","v","undefined","coerceArray","arrayAdd","arr","newEntity","toArr","DEFAULT_ID_KEY","isEmpty","isFunction","find","collection","idsOrPredicate","toSet","reduce","acc","add","Set","has","distinctUntilArrayItemChanged","prevCollection","currentCollection","isOneOfItemReferenceChanged","some","item","i","arrayFind","source","isObject","not","pred","arrayRemove","identifier","identifiers","filterFn","includes","byKey","prop","a","b","byId","arrayToggle","array","newValue","compare","index","findIndex","oldValue","slice","arrayUpdate","predicateOrIds","obj","condition","updateFn","map","arrayUpsert","entityIsObject","entityExists","cacheable","store","request$","emitNext","_cache","combineQueries","observables","CONFIG","resettable","ttl","producerFn","akitaConfig","config","getAkitaConfig","getGlobalProducerFn","isDefined","val","$$deleteStore","$$addStore","$$updateStore","dispatchDeleted","storeName","dispatchAdded","dispatchUpdate","isBrowser","isNotBrowser","hasLocalStorage","_a","hasSessionStorage","sessionStorage","__stores__","__queries__","$$stores","$$queries","capitalize","charAt","toUpperCase","subs","akitaDevtools","ngZoneOrOptions","__REDUX_DEVTOOLS_EXTENSION__","forEach","s","unsubscribe","isAngular","run","cb","defaultOptions","shallow","storesWhitelist","merged","devTools","connect","appState","isAllowed","_value","send","rest","isEqual","stringify","normalize","msg","logTrace","group","trace","groupEnd","sortAlphabetically","sortedAppState","keys","sort","message","payloadType","init","rootState","_setState","Order","compareValues","key","order","ASC","varA","varB","comparison","DESC","entitiesToArray","filterBy","limitTo","sortBy","sortByOrder","toArray","allPass","every","fn","_sortBy","Math","min","entitiesToMap","hasLimit","count","finalLength","EntityActions","EntityService","__DEV__","enableAkitaProdMode","isDev","getActiveEntities","idOrOptions","currentActive","wrap","currentIdIndex","prev","isFirst","isLast","getInitialEntitiesState","loading","error","isUndefined","removeEntities","removeAllEntities","toEntitiesObject","isEntityState","applyMiddleware","mapped","setEntities","isNativePreAdd","resolve","isNaN","Number","deepFreeze","o","freeze","oIsFunction","hasOwnProp","prototype","getOwnPropertyNames","call","isFrozen","AkitaError","Error","assertStoreHasName","className","toBoolean","isPlainObject","constructor","configKey","StoreConfig","metadata","transactionFinished","transactionInProcess","transactionManager","activeTransactions","batchTransaction","startBatch","isTransactionInProcess","endBatch","complete","commit","asObservable","applyTransaction","thisArg","transaction","withTransaction","Store","initialState","inTransaction","cache","onInit","hasCache","restartTTL","ttlConfig","getCacheTTL","clearTimeout","setTimeout","setHasCache","storeValue","project","snapshot","deepFreezeFn","_dispatchAction","_newState","handleTransaction","dispatch","isResettable","_initialState","warn","stateOrCallback","currentState","_producerFn","withHook","akitaPreUpdate","resolved","newOptions","_","nextState","hmrEnabled","watchTransaction","cacheConfig","ɵfac","Store_Factory","t","ɵdir","updateEntities","newStateOrFn","preUpdateEntity","onEntityIdChanges","updatedEntities","isUpdatingIdKey","idToUpdate","oldEntity","isIdChanged","updatedIds","stateEntities","_b","deletedEntity","EntityStore","entityActions","entityIdChanges","akitaPreAddEntity","activeId","hasInitialUIState","handleUICreation","data","Add","idsOrFnOrState","entityIdChanged","akitaPreUpdateEntity","oldId","newId","pending","Update","onCreate","predicate","isUpdate","baseClass","isClassBased","updateIds","newStateObj","withId","update","addedIds","withPreCheckHook","akitaPreCheckEntity","nextId","hasUIStore","replaced","from","to","splice","idsOrFn","idPassed","handleUIRemove","Remove","newStateOrCallback","_setActive","everyExist","uniques","someExist","currentId","filterExists","remove","removeActive","addActive","storeConfig","defaults","ui","EntityUIStore","nextEntity","isFunc","_akitaCreateEntityFn","uiEntities","createFn","set","Function","T","filterNil","filterNilValue","queryConfigKey","QueryConfig","isString","compareKeys","keysOrFuncs","prevState","currState","isFns","keyOrFunc","Query","__store__","mapFn","_select","func","k","select","findEntityByPredicate","getEntity","mapSkipUndefined","callbackFn","sortByOptions","QueryEntity","asObject","getAll","getValue","idOrPredicate","getActive","selectActiveId","selectMany","selectEntity","getActiveId","getCount","selectAt","actionOrActions","selectEntityAction$","actions","projectOrIds","isIdProvided","EntityUIQuery","createStore","createQuery","createEntityStore","createEntityQuery","split","removeStoreName","join","part","guid","random","toString","isNumber","parseFloat","setValue","replace","lastIndex","skipStorageUpdate","_persistStateInit","selectPersistStateInit","setSkipStorageUpdate","getSkipStorageUpdate","isPromise","observify","asyncOrValue","persistState","params","enableInNonBrowser","storage","deserialize","serialize","include","persistOnDestroy","preStorageUpdate","preStoreUpdate","preStorageUpdateOperator","hasInclude","hasSelect","includeStores","selectStores","path","fns","selectFn","stores","subscriptions","buffer","_save","shift","isLocalStorage","storageState","save","storeCache","setItem","Promise","setInitial","passPredicate","clear","clearStore","AkitaPlugin","query","resetFn","onReset","getQuery","property","isEntityBased","withStoreName","getStore","original","reset","ɵ0","head","dirtyCheckDefaultParams","comparator","getNestedPath","nestedObj","pathAsArray","DirtyCheckPlugin","_entityId","dirty","_reset","isDirty$","reset$","watchProperty","watchProp","currentValue","updateStore","activate","_getHead","updateDirtiness","getHead","subscription","currentPathValue","headPathValue","sources","__akitaKey","selectSource","isChange","compareTo","isDirty","getSource","getWatchedValues","watched","EntityCollectionPlugin","Map","get","plugin","getIds","len","beforeAdd","instantiatePlugin","afterAdd","beforeRemove","removeEntity","_ids","createEntity","rebase","resolvedIds","EntityDirtyCheckPlugin","_someDirty","someDirty$","checkSomeDirty","selectIds","setHead","someAreWatched","forEachId","e","hasHead","entitiesIds","paginatorDefaults","pagesControls","range","startWith","cacheTimeout","clearStoreWithCache","PaginatorPlugin","initial","clearCache","currentPage","pages","pagination","perPage","total","lastPage","isLoading$","selectLoading","page","clearCacheSubscription","setLoading","response","addPage","upsertMany","setPage","hasPage","req","selectPage","clearPage","selectAll","getFrom","getTo","pageControls","generatePages","ceil","Paginator","PersistNgFormPlugin","factoryFnOrPath","debounceTime","formKey","emitEvent","arrControlFactory","builder","control","isRootKeys","isKeyBased","form","initialValue","stateKey","formArray","controls","cleanArray","insert","patchValue","removeAt","formValue","root","factory","resolveInitialValue","formChanges","valueChanges","StateHistoryPlugin","history","past","present","future","skipUpdate","maxAge","_hasPast$","_hasFuture$","hasFutureSubject","hasFuture","hasPastSubject","hasPast","shouldUpdate","updateHasHistory","previous","newFuture","newPast","newPresent","n","jumpToFuture","jumpToPast","customUpdateFn","clearHistory","EntityStateHistoryPlugin","redo","undo","ignoreNext","resetStores","exclude","StoreAction","StoreActionMapping","EntityStoreAction","EntityStoreActionMapping","AddEntities","SetEntities","UpdateEntities","RemoveEntities","UpsertEntities","UpsertManyEntities","storeClass","getStoreByName","getEntityStore","getEntityStoreByName","runStoreAction","storeClassOrName","operation","bind","runEntityStoreAction","setLoadingAndError","setError","err","SnapshotManager","mergedOptions","lazy","normalizedStores","size","snapshotManager","toEntitiesIds","trackIdChanges","lift","TrackIdChanges","subscriber","currId","selectEntityIdChanges$","change","extendStyles","dest","toggleNativeDragInteractions","element","enable","userSelect","style","touchAction","webkitUserDrag","webkitTapHighlightColor","msUserSelect","webkitUserSelect","MozUserSelect","parseCssTimeUnitsToMs","multiplier","toLowerCase","getTransformTransitionDurationInMs","computedStyle","getComputedStyle","transitionedProperties","parseCssPropertyValue","propertyIndex","rawDurations","rawDelays","getPropertyValue","trim","getMutableClientRect","clientRect","getBoundingClientRect","top","right","bottom","left","width","height","isInsideClientRect","x","y","adjustClientRect","isPointerNearClientRect","rect","threshold","pointerX","pointerY","xThreshold","yThreshold","ParentPositionTracker","_document","_viewportRuler","positions","elements","scrollPosition","getViewportScrollPosition","scrollTop","scrollLeft","cachedPosition","scrolledParentNode","documentElement","newTop","newLeft","viewportScrollPosition","topDifference","leftDifference","position","node","contains","passiveEventListenerOptions","passive","activeEventListenerOptions","MOUSE_EVENT_IGNORE_TIME","DragRef","_config","_ngZone","_dragDropRegistry","_passiveTransform","_activeTransform","_moveEvents","_pointerMoveSubscription","EMPTY","_pointerUpSubscription","_scrollSubscription","_resizeSubscription","_boundaryElement","_nativeInteractionsEnabled","_handles","_disabledHandles","_direction","dragStartDelay","_disabled","beforeStarted","started","released","ended","entered","exited","dropped","moved","_pointerDown","targetHandle","handle","disabled","_initializeDragSequence","_rootElement","_pointerMove","preventDefault","pointerPosition","_getPointerPositionOnPage","_hasStartedDragging","distanceX","abs","_pickupPositionOnPage","distanceY","isOverThreshold","dragStartThreshold","isDelayElapsed","Date","now","_dragStartTime","_getDragStartDelay","_endDragSequence","_dropContainer","isDragging","_startDragSequence","_previewRect","_preview","constrainedPointerPosition","_getConstrainedPointerPosition","_hasMoved","_lastKnownPointerPosition","_updatePointerDirectionDelta","_updateActiveDropContainer","activeTransform","_applyRootElementTransform","SVGElement","appliedTransform","setAttribute","observers","distance","_getDragDistance","delta","_pointerDirectionDelta","_pointerUp","withRootElement","_parentPositions","registerDragItem","_toggleNativeDragInteractions","_placeholder","getPlaceholderElement","getRootElement","handles","template","_previewTemplate","_placeholderTemplate","rootElement","_removeRootElementListeners","runOutsideAngular","addEventListener","_initialTransform","_ownerSVGElement","ownerSVGElement","boundaryElement","_containInsideBoundaryOnResize","removeNode","_anchor","_destroyPreview","_destroyPlaceholder","removeDragItem","_removeSubscriptions","transform","direction","container","_previewRef","_placeholderRef","stopDragging","_rootElementTapHighlight","_stopScrolling","_animatePreviewToPlaceholder","_cleanupDragArtifacts","_cleanupCachedDimensions","isTouchEvent","_lastTouchEventTime","dropContainer","parent","parentNode","preview","_createPreviewElement","placeholder","_createPlaceholderElement","anchor","createComment","insertBefore","display","body","appendChild","replaceChild","getPreviewInsertionPoint","start","_initialContainer","_initialIndex","getItemIndex","getScrollableParents","referenceElement","stopPropagation","isTouchSequence","isAuxiliaryMouseButton","button","isSyntheticEvent","draggable","pointerMove","pointerUp","scroll","scrollEvent","_updateOnScroll","_boundaryRect","previewTemplate","_pickupPositionInElement","matchSize","_getPointerPositionInElement","_pointerPositionAtLastDirectionChange","startDragging","currentIndex","isPointerOverContainer","_isOverContainer","previousIndex","previousContainer","drop","rawX","rawY","newContainer","_getSiblingContainerFromPosition","exit","enter","sortingDisabled","_startScrollingIfNecessary","_sortItem","getTransform","previewConfig","previewClass","rootRect","viewRef","viewContainer","createEmbeddedView","context","detectChanges","getRootNode","matchElementSize","deepCloneNode","pointerEvents","margin","zIndex","classList","placeholderRect","duration","handler","propertyName","removeEventListener","timeout","placeholderConfig","placeholderTemplate","elementRect","handleElement","referenceRect","point","targetTouches","_getViewportScrollPosition","pageX","pageY","touches","changedTouches","svgMatrix","getScreenCTM","svgPoint","createSVGPoint","matrixTransform","inverse","dropContainerLock","lockAxis","constrainPosition","pickupX","pickupY","boundaryRect","previewRect","minY","maxY","minX","maxX","clamp","pointerPositionOnPage","positionSinceLastChange","changeX","changeY","pointerDirectionChangeThreshold","shouldEnable","currentPosition","pickupPosition","leftOverflow","rightOverflow","topOverflow","bottomOverflow","setFreeDragPosition","touch","mouse","scrollDifference","handleScroll","round","clone","cloneNode","descendantsWithId","querySelectorAll","descendantCanvases","removeAttribute","cloneCanvases","correspondingCloneContext","getContext","drawImage","max","removeChild","documentRef","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","rootNodes","nodeType","ELEMENT_NODE","wrapper","createElement","sourceRect","moveItemInArray","fromIndex","toIndex","clamp$1","transferArrayItem","currentArray","targetArray","targetIndex","copyArrayItem","DROP_PROXIMITY_THRESHOLD","SCROLL_PROXIMITY_THRESHOLD","AUTO_SCROLL_STEP","DropListRef","autoScrollDisabled","enterPredicate","sorted","_isDragging","_itemPositions","_previousSwap","drag","overlaps","_siblings","_orientation","_activeSiblings","_viewportScrollSubscription","_verticalScrollDirection","_horizontalScrollDirection","_stopScrollTimers","_cachedShadowRoot","_startScrollInterval","_scrollNode","incrementVerticalScroll","incrementHorizontalScroll","withScrollableParents","registerDropContainer","removeDropContainer","styles","_initialScrollSnap","msScrollSnapType","scrollSnapType","_cacheItems","sibling","_startReceiving","_listenToScrollEvents","newIndex","_draggables","_getItemIndexFromPointerPosition","activeDraggables","_activeDraggables","newPositionReference","parentElement","_shouldEnterAsFirstChild","reference","_cacheItemPositions","_cacheParentPositions","items","previousItems","_withDropContainer","draggedItems","connectedTo","orientation","_scrollableElements","reverse","currentItem","pointerDelta","_clientRect","siblings","isHorizontal","siblingAtNewPosition","newPosition","itemOffset","_getItemOffsetPx","siblingOffset","_getSiblingOffsetPx","oldOrder","isDraggedItem","offset","elementToOffset","scrollNode","verticalScrollDirection","horizontalScrollDirection","getElementScrollDirections","getViewportSize","getVerticalScrollDirection","getHorizontalScrollDirection","elementToMeasure","getVisibleElement","_stopReceiving","immediateSibling","end","itemPositions","reversed","lastItemRect","firstItemRect","floor","_canReceive","elementFromPoint","_getShadowRoot","nativeElement","activeSiblings","_sortFromLastPointerPosition","isReceiving","shadowRoot","amount","scrollBy","computedVertical","computedHorizontal","scrollHeight","clientHeight","scrollWidth","clientWidth","activeCapturingEventOptions","capture","DragDropRegistry","_dropInstances","_dragInstances","_activeDragInstances","_globalListeners","_preventDefaultWhileDragging","startsWith","moveEvent","upEvent","_clearGlobalListeners","instance","DragDropRegistry_Factory","ɵprov","token","providedIn","ctorParameters","decorators","DEFAULT_CONFIG","DragDrop","DragDrop_Factory","CDK_DRAG_PARENT","CdkDragHandle","parentDrag","_stateChanges","_parentDrag","CdkDragHandle_Factory","selectors","hostAttrs","inputs","propDecorators","host","CdkDragPlaceholder","templateRef","CdkDragPlaceholder_Factory","CdkDragPreview","_matchSize","CdkDragPreview_Factory","CDK_DRAG_CONFIG","CDK_DROP_LIST","CdkDrag","_viewContainerRef","_dir","dragDrop","_changeDetectorRef","_destroyed","observer","_dragRef","movedEvent","createDrag","_assignDefaults","_dropListRef","addItem","_syncInputs","_handleEvents","getFreeDragPosition","onStable","_updateRootElement","changes","childHandleElements","withHandles","handleInstance","dragRef","disableHandle","enableHandle","freeDragPosition","rootSelectorChange","positionChange","firstChange","removeItem","dispose","rootElementSelector","getClosestMatchingAncestor","nodeName","boundary","ref","dir","withBoundaryElement","_getBoundaryElement","withPlaceholderTemplate","withPreviewTemplate","withDirection","emit","markForCheck","draggingDisabled","CdkDrag_Factory","contentQueries","CdkDrag_ContentQueries","rf","ctx","dirIndex","_t","first","hostVars","hostBindings","CdkDrag_HostBindings","outputs","exportAs","features","provide","useExisting","descendants","providers","currentElement","matches","msMatchesSelector","CdkDropListGroup","_items","CdkDropListGroup_Factory","_uniqueIdCounter","CdkDropList","_group","_scrollDispatcher","_unsortedItems","createDropList","_setupInputSyncSubscription","_dropLists","_syncItemsWithRef","documentPosition","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","list","_scrollableParentsResolved","scrollableParents","getAncestorScrollContainers","scrollable","getElementRef","withOrientation","listAutoScrollDisabled","listOrientation","withItems","getSortedItems","CdkDropList_Factory","CdkDropList_HostBindings","useValue","DragDropModule","ɵmod","ɵinj","DragDropModule_Factory","imports","ngJitMode","declarations","exports","DeliverySummeryComponent","route","allOrders","deliveredOrders","deliveredOrdersThisMonth","thisMonthOrders","clientId","getOrdersByDelivery","status","allPayments","totalPrice","curdate","getMonth","getFullYear","date","thisMonthPayments","totalPriceThisMonth","totalAmount","ViewDeliveryBoyComponent","towns","getCustomer","getAccounting","getFillters","getTowns","getStates","dBoy","getDB","idPhoto1","idPhoto2","mLPhoto","dLPhoto","fishPhoto","getAllDeliveryBoyAccounting","dbAcoount","updateDeliveryStatus","block","updateDeliveryBlock","updateDeliveryCollect","$","modal","onEdit","onActive","onBlock","onCollect","DeliveryHourReportComponent","companiesList","url","getOrders","values","DeliveryOrdersComponent","ZoneOrdersComponent","_projectService","_filterQuery","IssueStatusDisplay","getProject","onlyMyIssue","ignoreResolved","searchTerm","userIds","isMatchTerm","searchString","orderId","isIgnoreResolved","DONE","inputDate","newList","idx","newIssueWithNewPosition","listPosition","encapsulation","None","currentUserId","IssueUtil","orderType","issuePriority","str","DeliveryAccountsComponent","dbAcoounts","getDBoyes","createInitialState","issues","users","ProjectStore","ZoneChatComponent","database","ngZone","messengerService","authService","chatsList","chatsAfter","messageChat","noSeenChats","pondOptions","multiple","labelIdle","acceptedFileTypes","pondFiles","pageNo","paginate","onresize","innerHeight","getScreenHeight","getZoneChatsReciver","stateId","scrollToBottom","replaceUrl","time","getTime","isseen","sender","receiver","chatMs","obj1","last_msg","timeStamp","notSeen","zone","obj2","sendMessage","sendChatMsUser","sendChatMsShop","scrolltoB","document","getElementById","scrollIntoView","behavior","inline","chat","currentChat","getChatMs","getChat","getDelivery","getUser","chatSubscription","getChats","chats","seenMessage","seenAllMessage","object","chatId","userID","myScrollContainer","imagePond","createInitialFilterState","FilterStore","IssueLoaderComponent","AddDeliveryBoyComponent","formBuilder","toastr","imageCompress","productService","db","selectedRole","roles","permission","shops","imageType","busy","ATypes","createAccountForm","click","accountForm","idNumber","required","vType","address","email","passwored","confirmPwd","progress","fileName","file","files","reader","FileReader","onload","localUrl","compressFile","readAsDataURL","image","sizeOfOriginalImage","byteCount","imgResultAfterCompress","localCompressedURl","sizeOFCompressedImage","imageName","imageBlob","dataURItoBlob","imageFile","File","onFileSelected","dataURI","byteString","atob","arrayBuffer","ArrayBuffer","int8Array","Uint8Array","charCodeAt","blob","Blob","mode","valid","registerErrors","aType","updateNewDB","success","randomId","filePath","fileRef","task","upload","snapshotChanges","downloadURL","getDownloadURL","addUser","ZoneHoursComponent","OrdersDashboardComponent","getAllOrders","getAllOrdersByState","currentUrl","routeReuseStrategy","shouldReuseRoute","onSameUrlNavigation","ContentLoaderComponent__svg_animate_7_Template","ctx_r0","keyTimes","animationValues","ContentLoaderComponent__svg_animate_9_Template","ctx_r1","ContentLoaderComponent__svg_animate_11_Template","ctx_r2","_c0","uid","substring","ContentLoaderComponent","fixedId","idClip","idGradient","idAria","animate","baseUrl","speed","viewBox","gradientRatio","backgroundColor","backgroundOpacity","foregroundColor","foregroundOpacity","rtl","interval","clipPath","fillStyle","fill","ContentLoaderComponent_Factory","ɵcmp","ngContentSelectors","decls","vars","consts","ContentLoaderComponent_Template","directives","changeDetection","OnPush","BulletListContentLoaderComponent","BulletListContentLoaderComponent_Factory","ɵBulletListContentLoaderComponent_BaseFactory","BulletListContentLoaderComponent_Template","FacebookContentLoaderComponent","FacebookContentLoaderComponent_Factory","ɵFacebookContentLoaderComponent_BaseFactory","FacebookContentLoaderComponent_Template","ListContentLoaderComponent","ListContentLoaderComponent_Factory","ɵListContentLoaderComponent_BaseFactory","ListContentLoaderComponent_Template","ContentLoaderModule","ngModule","ContentLoaderModule_Factory","IssueCardComponent","_projectQuery","_modalService","getShops","issueTypeIcon","startTimer","setInterval","timer","orderTime","ms","diff","d","timeLeft","asHours","format","tp","asMinutes","prepareTime","pTime","deliveryTime","issueId","create","nzContent","nzWidth","nzClosable","nzFooter","nzComponentParams","openIssueModal","NG_PIPE_DEF","isPipe","DESTROY","Symbol","DECORATOR_APPLIED","getSymbol","destroyMethodName","markAsDecorated","createSubjectOnTheInstance","symbol","completeSubjectOnTheInstance","unsubscribeIfPropertyIsArrayLike","decorateNgOnDestroy","ngOnDestroy","arrayName","checkProperties","blackList","decorateProviderDirectiveOrComponent","decoratePipe","def","ɵpipe","onDestroy","UntilDestroy","overrideNonDirectiveInstanceMethod","originalDestroy","ngDevMode","arguments","untilDestroyed","ensureClassIsDecorated","getPrototypeOf","missingDecorator","OrderType","IssueStatus","IssuePriority","IssuePriorityColors","HIGHEST","HIGH","MEDIUM","LOW","LOWEST","routes","children","component","title","breadcrumb","DeliveryRoutingModule","forChild","ProjectService","_http","_store","isLoading","IssueDetailComponent","permisson","sendMail","onClosed","onOpenIssue","modalOpen","displayDirections","zoom","shopIcon","scaledSize","userIcon","showMap","canUpdate","Status","checkPermisson","getOrder","lat1","lon1","lat2","lon2","R","dLat","deg2rad","dLon","sin","cos","c","atan2","sqrt","deg","PI","poly","vertices","longitudes","lng","latitudes","lat","lowX","highX","lowy","highy","centerX","centerY","getOrderById","destination","latitude","longitude","origin","price","subtotal","orderStatus","updateS","getDistanceFromLatLonInKm","updateOrderStatus","getToken","userId","timestamp","updateOrderTimeStatus","updateOrderPTime","updateOrderPice","deliveryRequest","cancelRequest","sendNotification","closeModal","getChatReciverId","serializeUrl","createUrlTree","notification","myDate","gid","createId","shopId","requestDelivery","customer","getUTCMilliseconds","isShowFullScreenButton","isShowCloseButton","agmMap","LocationModal","FilterQuery","any$","all$","userIds$","onlyMyIssue$","ignoreResolve$","DeliveryModule","forRoot","apiKey","libraries","lang","IssueModalComponent","_modal","_router","close","deleteModalRef","deleteIssue","openIssuePage","ZoneDeliveryBoysTrackingComponent","platformId","Zone","zoneUsers","managerOptions","drawingControl","drawingControlOptions","drawingModes","polygonOptions","editable","drawingMode","fillColor","visible","products","dBoyes","locations","dbL","townId","dbIcon","labelOrigin","geoCoder","google","maps","Geocoder","$event","isWithinPoly","polygon","coords","navigator","geolocation","getCurrentPosition","alert","maximumAge","enableHighAccuracy","Polygon","paths","triangleCoords","strokeColor","strokeOpacity","strokeWeight","fillOpacity","cn","polygonCenter","location","getZone","hours","getHours","h","selectedHour","day","getDay","selectedDay","getOnlineDeliveryBoysByZone","getState","my_getBounds","bounds","LatLngBounds","getPath","extend","addPolygon","geocode","results","formatted_address","dismissAll","polgon","isWithinPolygon","geometry","containsLocation","LatLng","onMapReady","mapClicked","ProjectQuery","lastIssuePosition","raw","issuesByStatus","issueByStatusSorted$","mapDirective","gmapsApi","drawDirectionsRoute","getNativeMap","directionsRenderer","DirectionsRenderer","suppressMarkers","showDirection","directionsService","DirectionsService","setMap","waypoints","optimizeWaypoints","travelMode","setDirections","IssuePriorityIcon","lowerPriorities","icon","color"],"mappings":"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;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;A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","file":"components-delivery-delivery-module-es5.js","sourcesContent":["export class DeliveryBoy{\n    name?:string;\n    passwored?:string;\n    phone?:string;\n    email?:string;\n    country?:string;\n    state?:string;\n    town?:string;\n    role?:string;\n    currentLocation?:string;\n    location?:any;\n    status?:string;\n    address?:string;\n    close?:string;\n    timeStamp?:string;\n    idNumber?:string;\n    idPhoto1?:string;\n    idPhoto2?:string;\n    fishPhoto?:string;\n    dLPhoto?:string;\n    mLPhoto?:string;\n    vType?:string;\n    collectAmount?:number = 0;\n    com?:string = \"100\";\n   block?:boolean;\n   online?:boolean;\n   aType?:string;\n   busy:boolean;\n}","import { DatePipe } from '@angular/common';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport { DataTableDirective } from 'angular-datatables';\nimport { Subject } from 'rxjs';\nimport { State } from 'src/app/shared/interfaces/state';\nimport { User } from 'src/app/shared/interfaces/user';\nimport { AuthService } from 'src/app/shared/service/auth.service';\nimport { DataService } from 'src/app/shared/service/data.service';\nimport { DeliveryService } from 'src/app/shared/service/delivery.service';\n\n@Component({\n  selector: 'app-list-delivery-boys',\n  templateUrl: './list-delivery-boys.component.html',\n  styleUrls: ['./list-delivery-boys.component.scss']\n})\nexport class ListDeliveryBoysComponent implements OnInit {\n\n \n  public closeResult: string;\n  @ViewChild(DataTableDirective, { static: false })\n  public dtElement: DataTableDirective;\n  dtOptions: DataTables.Settings = {};\n  isDtInitialized:boolean = false\n  public dtTrigger: Subject<any> = new Subject();\n  public customers = [];\n  public editedClient;\n  public tempId: any;\n  public states:State[]=[];\n  public rows = [];\n  public srch = [];\n  public statusValue;\n  public pipe = new DatePipe(\"en-US\");\n  selectedTown='';\n  selectedState:any;\n  user:User;\n  allZone:boolean = false;\n  constructor(private modalService: NgbModal,private deliveryService:DeliveryService,private _domSanitizer: DomSanitizer\n    ,private router:Router,private dataService:DataService) {\n      const user = localStorage.getItem('adminUser');\n      if(user){\n        console.log(user) \n        let jsonObj: any = JSON.parse(user); // string to generic object first\n        this.user = <User>jsonObj;\n        console.log(this.user)\n        this.allZone = this.user.allZone;\n    \n        if(!this.allZone){\n      \n          this.selectedTown = this.user.town;\n          this.selectedState = this.user.state;\n         \n        }\n        }\n      this.dataService.getAllStates().subscribe(states=>{\n        this.states = states;\n      })\n   \n  }\n\n  open(content) {\n    this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then((result) => {\n      this.closeResult = `Closed with: ${result}`;\n    }, (reason) => {\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n    });\n  }\n  private getDismissReason(reason: any): string {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return `with: ${reason}`;\n    }\n  }\n\n\n \n\n  ngOnInit() {\n    this.dtOptions = {\n      // ... skipped ...\n      pageLength: 10,\n      language : {\n        \"emptyTable\": \"ليست هناك بيانات متاحة في الجدول\",\n        \"loadingRecords\": \"جارٍ التحميل...\",\n        \"lengthMenu\": \" _MENU_ \",\n        \"zeroRecords\": \"لم يعثر على أية سجلات\",\n        \"info\": \"إظهار _START_ إلى _END_ من أصل _TOTAL_ مدخل\",\n        \"infoEmpty\": \"يعرض 0 إلى 0 من أصل 0 سجل\",\n        \"infoFiltered\": \"(منتقاة من مجموع _MAX_ مُدخل)\",\n        \"search\": \"بحث:\",\n        \"paginate\": {\n            \"first\": \"الأول\",\n            \"previous\": \"السابق\",\n            \"next\": \"التالي\",\n            \"last\": \"الأخير\"\n        },\n        \"aria\": {\n            \"sortAscending\": \": تفعيل لترتيب العمود تصاعدياً\",\n            \"sortDescending\": \": تفعيل لترتيب العمود تنازلياً\"\n        },\n        \"processing\": \"جارٍ المعالجة...\"\n    },\n      dom: \"lfrtip\",\n    };\n\n    this.getDBoys();\n  }\n  getDBoys() {\n    if(this.allZone){\n      this.deliveryService.getAllDeliveryBoys().subscribe(res=>{\n        if (this.isDtInitialized) {\n          this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n            dtInstance.destroy();\n            this.dtTrigger.next();\n          });\n        }else{\n          this.isDtInitialized = true\n          this.dtTrigger.next();\n        }\n        \n        this.customers = res;\n        console.log(this.customers)\n      \n      });\n    }else{\n      this.deliveryService.getDeliveryBoysByZone(this.selectedState).subscribe(res=>{\n        if (this.isDtInitialized) {\n          this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n            dtInstance.destroy();\n            this.dtTrigger.next();\n          });\n        }else{\n          this.isDtInitialized = true\n          this.dtTrigger.next();\n        }\n        \n        this.customers = res;\n        console.log(this.customers)\n      \n      });\n    }\n    \n   \n  }\n  onEditClient(event){\n\n  }\n\n  onDeleteConfirm(user) {\n    if (window.confirm('Are you sure you want to delete '+user.name+' ?')) {\n    //  category.confirm.resolve(category.newData);\n      console.log(user.phone)\n     this.deliveryService.removeDB(user.phone);\n    } else {\n      user.confirm.reject();\n    }\n  }\n  \n\n    onEdit(id){\n      this.router.navigate(['/delivery/add-delivery-boy'],{ queryParams: {id: id}});\n      }\n\n    \n\n}\n\n","<!-- Container-fluid starts-->\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"card\">\n                \n                <div class=\"card-body\">\n                    \n                    <div id=\"batchDelete\" class=\"category-table custom-datatable\">\n                        <div class=\"table-responsive\">\n                            <table datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\" id=\"datatable\"\n                            class=\"table table-striped custom-table datatable\">\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>{{'Name'|translate}}</th>\n                                    <th>{{'Phone'|translate}}</th>\n                                    <th>{{'Email'|translate}}</th>\n                                    <th>{{'Zone'|translate}}</th>\n                                    <th class=\"text-right\">{{'Action'|translate}}</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr *ngFor=\"let customer of customers; let i = index\">\n                                    <td>{{i+1}}</td>\n                                    <td><a routerLink = \"/delivery/view-delivery-boy\" [queryParams]=\"{id: customer?.phone}\">{{ customer?.name }}</a></td>\n                                    <td>{{customer?.phone}}</td>\n                                    <td>{{customer?.email}}</td>\n                                    <td>{{states|statePipe:customer?.state}}</td>\n                                    <td class=\"text-right\">\n                                        <div class=\"dropdown dropdown-action\">\n                                            <a class=\"action-icon dropdown-toggle\" data-toggle=\"dropdown\"\n                                                aria-expanded=\"false\"><i class=\"material-icons\">more_vert</i></a>\n                                            <div class=\"dropdown-menu dropdown-menu-right\">\n                                                <a class=\"dropdown-item\"  data-toggle=\"modal\"\n                                                data-target=\"#edit_leavetype\" (click)=\"onEdit(customer.phone)\"><i class=\"fa fa-pencil m-r-5\"></i> {{'Edit'|translate}}</a>\n                                                <a class=\"dropdown-item\"\n                                                    (click)=\"onDeleteConfirm(customer)\"><i class=\"fa fa-trash-o m-r-5\"></i>\n                                                    {{'Delete'|translate}}</a>\n                                            </div>\n                                        </div>\n                                    </td>\n                                  \n                                </tr>\n                                <tr *ngIf=\"customers.length === 0\">\n                                    <td colspan=\"10\">\n                                        <h5 style=\"text-align: center;\">{{'No data found'|translate}}</h5>\n                                    </td>\n                                   \n                                </tr>\n                            </tbody>\n                        </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- Container-fluid Ends-->\n","<div class=\"flex col-xl-12 w-full h-full py-8 pl-8 pr-6\">\n  <div class=\"flex col-xl-12 mt-7\"\n     cdkDropListGroup>\n    <div app-zone-orders class=\"board-dnd-list\"\n         *ngFor=\"let status of issueStatuses\"\n         [status]=\"status\"\n         [orders]=\"projectQuery.issueByStatusSorted$(status,Allorders)\">\n    </div>\n</div>  \n</div>\n<svg-definitions></svg-definitions>","import { Component, Input, OnInit } from '@angular/core';\nimport { UntilDestroy } from '@ngneat/until-destroy';\nimport { IssueStatus } from 'src/app/shared/data/issue';\nimport { ProjectQuery } from 'src/app/shared/data/project.query';\nimport { Order } from 'src/app/shared/interfaces/order';\nimport { OrderService } from 'src/app/shared/service/order.service';\nimport { ProjectService } from 'src/app/shared/service/project.service';\n\n@Component({\n  selector: 'app-orders-board',\n  templateUrl: './orders-board.component.html',\n  styleUrls: ['./orders-board.component.scss']\n})\n@UntilDestroy()\nexport class OrdersBoardComponent {\n  @Input() Allorders:Order[]=[]\n  \n  issueStatuses: IssueStatus[] = [\n    IssueStatus.NEW,\n    IssueStatus.PREPARE,\n    IssueStatus.STORED,\n    IssueStatus.DISPATCHING\n  ];\n\n  orders:Order[]=[]\n\n  constructor(public projectQuery: ProjectQuery,private orderService:OrderService) {\n\n   \n        \n \n   \n\n  }\n  \n\n}\n","import { distinctUntilChanged, map, auditTime, tap, filter, switchMap, skip, delay, take, debounceTime, pairwise, finalize, first } from 'rxjs/operators';\nimport { of, EMPTY, combineLatest, Subject, ReplaySubject, BehaviorSubject, isObservable, from, merge, defer } from 'rxjs';\nimport { __rest, __decorate, __metadata } from 'tslib';\n\nimport * as ɵngcc0 from '@angular/core';\nconst currentAction = {\n    type: null,\n    entityIds: null,\n    skip: false,\n    payload: null\n};\nlet customActionActive = false;\nfunction resetCustomAction() {\n    customActionActive = false;\n}\n// public API for custom actions. Custom action always wins\nfunction logAction(type, entityIds, payload) {\n    setAction(type, entityIds, payload);\n    customActionActive = true;\n}\nfunction setAction(type, entityIds, payload) {\n    if (customActionActive === false) {\n        currentAction.type = type;\n        currentAction.entityIds = entityIds;\n        currentAction.payload = payload;\n    }\n}\nfunction setSkipAction(skip = true) {\n    currentAction.skip = skip;\n}\nfunction action(action, entityIds) {\n    return function (target, propertyKey, descriptor) {\n        const originalMethod = descriptor.value;\n        descriptor.value = function (...args) {\n            logAction(action, entityIds);\n            return originalMethod.apply(this, args);\n        };\n        return descriptor;\n    };\n}\n\n// @internal\nfunction hasEntity(entities, id) {\n    return entities.hasOwnProperty(id);\n}\n\n// @internal\nfunction isArray(value) {\n    return Array.isArray(value);\n}\n\n// @internal\nfunction hasActiveState(state) {\n    return state.hasOwnProperty('active');\n}\n// @internal\nfunction isMultiActiveState(active) {\n    return isArray(active);\n}\n// @internal\nfunction resolveActiveEntity({ active, ids, entities }) {\n    if (isMultiActiveState(active)) {\n        return getExitingActives(active, ids);\n    }\n    if (hasEntity(entities, active) === false) {\n        return null;\n    }\n    return active;\n}\n// @internal\nfunction getExitingActives(currentActivesIds, newIds) {\n    const filtered = currentActivesIds.filter(id => newIds.indexOf(id) > -1);\n    /** Return the same reference if nothing has changed */\n    if (filtered.length === currentActivesIds.length) {\n        return currentActivesIds;\n    }\n    return filtered;\n}\n\n// @internal\nfunction addEntities({ state, entities, idKey, options = {}, preAddEntity }) {\n    let newEntities = {};\n    let newIds = [];\n    let hasNewEntities = false;\n    for (const entity of entities) {\n        if (hasEntity(state.entities, entity[idKey]) === false) {\n            // evaluate the middleware first to support dynamic ids\n            const current = preAddEntity(entity);\n            const entityId = current[idKey];\n            newEntities[entityId] = current;\n            if (options.prepend)\n                newIds.unshift(entityId);\n            else\n                newIds.push(entityId);\n            hasNewEntities = true;\n        }\n    }\n    return hasNewEntities\n        ? {\n            newState: Object.assign(Object.assign({}, state), { entities: Object.assign(Object.assign({}, state.entities), newEntities), ids: options.prepend ? [...newIds, ...state.ids] : [...state.ids, ...newIds] }),\n            newIds\n        }\n        : null;\n}\n\n// @internal\nfunction isNil(v) {\n    return v === null || v === undefined;\n}\n\n// @internal\nfunction coerceArray(value) {\n    if (isNil(value)) {\n        return [];\n    }\n    return Array.isArray(value) ? value : [value];\n}\n\n/**\n * Add item to a collection\n *\n * @example\n *\n *\n * store.update(state => ({\n *   comments: arrayAdd(state.comments, { id: 2 })\n * }))\n *\n */\nfunction arrayAdd(arr, newEntity, options = {}) {\n    const newEntities = coerceArray(newEntity);\n    const toArr = arr || [];\n    return options.prepend ? [...newEntities, ...toArr] : [...toArr, ...newEntities];\n}\n\nconst DEFAULT_ID_KEY = 'id';\n\n// @internal\nfunction isEmpty(arr) {\n    if (isArray(arr)) {\n        return arr.length === 0;\n    }\n    return false;\n}\n\n// @internal\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n\n// @internal\nfunction find(collection, idsOrPredicate, idKey) {\n    const result = [];\n    if (isFunction(idsOrPredicate)) {\n        for (const entity of collection) {\n            if (idsOrPredicate(entity) === true) {\n                result.push(entity);\n            }\n        }\n    }\n    else {\n        const toSet = coerceArray(idsOrPredicate).reduce((acc, current) => acc.add(current), new Set());\n        for (const entity of collection) {\n            if (toSet.has(entity[idKey])) {\n                result.push(entity);\n            }\n        }\n    }\n    return result;\n}\n// @internal\nfunction distinctUntilArrayItemChanged() {\n    return distinctUntilChanged((prevCollection, currentCollection) => {\n        if (prevCollection === currentCollection) {\n            return true;\n        }\n        if (!isArray(prevCollection) || !isArray(currentCollection)) {\n            return false;\n        }\n        if (isEmpty(prevCollection) && isEmpty(currentCollection)) {\n            return true;\n        }\n        if (prevCollection.length !== currentCollection.length) {\n            return false;\n        }\n        const isOneOfItemReferenceChanged = currentCollection.some((item, i) => {\n            return prevCollection[i] !== item;\n        });\n        // return false means there is a change and we want to call next()\n        return isOneOfItemReferenceChanged === false;\n    });\n}\nfunction arrayFind(idsOrPredicate, idKey) {\n    return function (source) {\n        return source.pipe(map((collection) => {\n            // which means the user deleted the root entity or set the collection to nil\n            if (isArray(collection) === false) {\n                return collection;\n            }\n            return find(collection, idsOrPredicate, idKey || DEFAULT_ID_KEY);\n        }), distinctUntilArrayItemChanged(), map((value) => {\n            if (isArray(value) === false) {\n                return value;\n            }\n            if (isArray(idsOrPredicate) || isFunction(idsOrPredicate)) {\n                return value;\n            }\n            return value[0];\n        }));\n    };\n}\n\n// @internal\nfunction isObject(value) {\n    const type = typeof value;\n    return value != null && (type == 'object' || type == 'function');\n}\n\n// @internal\nfunction not(pred) {\n    return function (...args) {\n        return !pred(...args);\n    };\n}\n\n/**\n * Remove item from collection\n *\n * @example\n *\n *\n * store.update(state => ({\n *   names: arrayRemove(state.names, ['one', 'second'])\n * }))\n */\nfunction arrayRemove(arr, identifier, idKey = DEFAULT_ID_KEY) {\n    let identifiers;\n    let filterFn;\n    if (isFunction(identifier)) {\n        filterFn = not(identifier);\n    }\n    else {\n        identifiers = coerceArray(identifier);\n        filterFn = (current) => {\n            return identifiers.includes(isObject(current) ? current[idKey] : current) === false;\n        };\n    }\n    if (Array.isArray(arr)) {\n        return arr.filter(filterFn);\n    }\n}\n\n/**\n * Create an array value comparator for a specific key of the value.\n * @param prop The property of the value to be compared.\n */\nfunction byKey(prop) {\n    return (a, b) => a[prop] === b[prop];\n}\n/**\n * Create an array value comparator for the id field of an array value.\n */\nfunction byId() {\n    return byKey('id');\n}\n/**\n * Adds or removes a value from an array by comparing its values. If a matching value exists it is removed, otherwise\n * it is added to the array.\n *\n * @param array The array to modify.\n * @param newValue The new value to toggle.\n * @param compare A compare function to determine equality of array values. Default is an equality test by object identity.\n */\nfunction arrayToggle(array, newValue, compare = (a, b) => a === b) {\n    const index = array.findIndex((oldValue) => compare(newValue, oldValue));\n    return !!~index ? [...array.slice(0, index), ...array.slice(index + 1)] : [...array, newValue];\n}\n\n/**\n * Update item in a collection\n *\n * @example\n *\n *\n * store.update(1, entity => ({\n *   comments: arrayUpdate(entity.comments, 1, { name: 'newComment' })\n * }))\n */\nfunction arrayUpdate(arr, predicateOrIds, obj, idKey = DEFAULT_ID_KEY) {\n    let condition;\n    if (isFunction(predicateOrIds)) {\n        condition = predicateOrIds;\n    }\n    else {\n        const ids = coerceArray(predicateOrIds);\n        condition = (item) => ids.includes(isObject(item) ? item[idKey] : item) === true;\n    }\n    const updateFn = (state) => state.map((entity, index) => {\n        if (condition(entity, index) === true) {\n            return isObject(entity)\n                ? Object.assign(Object.assign({}, entity), obj) : obj;\n        }\n        return entity;\n    });\n    return updateFn(arr);\n}\n\n/**\n * Upsert item in a collection\n *\n * @example\n *\n *\n * store.update(1, entity => ({\n *   comments: arrayUpsert(entity.comments, 1, { name: 'newComment' })\n * }))\n */\nfunction arrayUpsert(arr, id, obj, idKey = DEFAULT_ID_KEY) {\n    const entityIsObject = isObject(obj);\n    const entityExists = arr.some(entity => (entityIsObject ? entity[idKey] === id : entity === id));\n    if (entityExists) {\n        return arrayUpdate(arr, id, obj, idKey);\n    }\n    else {\n        return arrayAdd(arr, entityIsObject ? Object.assign(Object.assign({}, obj), { [idKey]: id }) : obj);\n    }\n}\n\n/**\n *\n * Helper function for checking if we have data in cache\n *\n * export class ProductsService {\n *   constructor(private productsStore: ProductsStore) {}\n\n *   get(): Observable<void> {\n *     const request = this.http.get().pipe(\n *       tap(this.productsStore.set(response))\n *     );\n *\n *     return cacheable(this.productsStore, request);\n *   }\n * }\n */\nfunction cacheable(store, request$, options = { emitNext: false }) {\n    if (store._cache().value) {\n        return options.emitNext ? of(undefined) : EMPTY;\n    }\n    return request$;\n}\n\nfunction combineQueries(observables) {\n    return combineLatest(observables).pipe(auditTime(0));\n}\n\nlet CONFIG = {\n    resettable: false,\n    ttl: null,\n    producerFn: undefined\n};\nfunction akitaConfig(config) {\n    CONFIG = Object.assign(Object.assign({}, CONFIG), config);\n}\n// @internal\nfunction getAkitaConfig() {\n    return CONFIG;\n}\nfunction getGlobalProducerFn() {\n    return CONFIG.producerFn;\n}\n\n// @internal\nfunction isDefined(val) {\n    return isNil(val) === false;\n}\n\n// @internal\nconst $$deleteStore = new Subject();\n// @internal\nconst $$addStore = new ReplaySubject(50, 5000);\n// @internal\nconst $$updateStore = new Subject();\n// @internal\nfunction dispatchDeleted(storeName) {\n    $$deleteStore.next(storeName);\n}\n// @internal\nfunction dispatchAdded(storeName) {\n    $$addStore.next(storeName);\n}\n// @internal\nfunction dispatchUpdate(storeName, action) {\n    $$updateStore.next({ storeName, action });\n}\n\nconst isBrowser = typeof window !== 'undefined';\nconst isNotBrowser = !isBrowser;\n// export const isNativeScript = typeof global !== 'undefined' && (<any>global).__runtimeVersion !== 'undefined'; TODO is this used?\nconst hasLocalStorage = () => {\n    try {\n        return typeof localStorage !== 'undefined';\n    }\n    catch (_a) {\n        return false;\n    }\n};\nconst hasSessionStorage = () => {\n    try {\n        return typeof sessionStorage !== 'undefined';\n    }\n    catch (_a) {\n        return false;\n    }\n};\n\n// @internal\nconst __stores__ = {};\n// @internal\nconst __queries__ = {};\nif (isBrowser) {\n    window.$$stores = __stores__;\n    window.$$queries = __queries__;\n}\n\n// @internal\nfunction capitalize(value) {\n    return value && value.charAt(0).toUpperCase() + value.slice(1);\n}\n\nlet subs = [];\nfunction akitaDevtools(ngZoneOrOptions, options = {}) {\n    if (isNotBrowser)\n        return;\n    if (!window.__REDUX_DEVTOOLS_EXTENSION__) {\n        return;\n    }\n    subs.length &&\n        subs.forEach((s) => {\n            if (s.unsubscribe) {\n                s.unsubscribe();\n            }\n            else {\n                s && s();\n            }\n        });\n    const isAngular = ngZoneOrOptions && ngZoneOrOptions['run'];\n    if (!isAngular) {\n        ngZoneOrOptions = ngZoneOrOptions || {};\n        ngZoneOrOptions.run = (cb) => cb();\n        options = ngZoneOrOptions;\n    }\n    const defaultOptions = { name: 'Akita', shallow: true, storesWhitelist: [] };\n    const merged = Object.assign({}, defaultOptions, options);\n    const storesWhitelist = merged.storesWhitelist;\n    const devTools = window.__REDUX_DEVTOOLS_EXTENSION__.connect(merged);\n    let appState = {};\n    const isAllowed = (storeName) => {\n        if (!storesWhitelist.length) {\n            return true;\n        }\n        return storesWhitelist.indexOf(storeName) > -1;\n    };\n    subs.push($$addStore.subscribe((storeName) => {\n        if (isAllowed(storeName) === false)\n            return;\n        appState = Object.assign(Object.assign({}, appState), { [storeName]: __stores__[storeName]._value() });\n        devTools.send({ type: `[${capitalize(storeName)}] - @@INIT` }, appState);\n    }));\n    subs.push($$deleteStore.subscribe((storeName) => {\n        if (isAllowed(storeName) === false)\n            return;\n        delete appState[storeName];\n        devTools.send({ type: `[${storeName}] - Delete Store` }, appState);\n    }));\n    subs.push($$updateStore.subscribe(({ storeName, action }) => {\n        if (isAllowed(storeName) === false)\n            return;\n        const { type, entityIds, skip } = action, rest = __rest(action, [\"type\", \"entityIds\", \"skip\"]);\n        const payload = rest.payload;\n        if (skip) {\n            setSkipAction(false);\n            return;\n        }\n        const store = __stores__[storeName];\n        if (!store) {\n            return;\n        }\n        if (options.shallow === false && appState[storeName]) {\n            const isEqual = JSON.stringify(store._value()) === JSON.stringify(appState[storeName]);\n            if (isEqual)\n                return;\n        }\n        appState = Object.assign(Object.assign({}, appState), { [storeName]: store._value() });\n        const normalize = capitalize(storeName);\n        let msg = isDefined(entityIds) ? `[${normalize}] - ${type} (ids: ${entityIds})` : `[${normalize}] - ${type}`;\n        if (options.logTrace) {\n            console.group(msg);\n            console.trace();\n            console.groupEnd();\n        }\n        if (options.sortAlphabetically) {\n            const sortedAppState = Object.keys(appState)\n                .sort()\n                .reduce((acc, storeName) => {\n                acc[storeName] = appState[storeName];\n                return acc;\n            }, {});\n            devTools.send(Object.assign({ type: msg }, payload), sortedAppState);\n            return;\n        }\n        devTools.send(Object.assign({ type: msg }, payload), appState);\n    }));\n    subs.push(devTools.subscribe((message) => {\n        if (message.type === 'DISPATCH') {\n            const payloadType = message.payload.type;\n            if (payloadType === 'COMMIT') {\n                devTools.init(appState);\n                return;\n            }\n            if (message.state) {\n                const rootState = JSON.parse(message.state);\n                for (let i = 0, keys = Object.keys(rootState); i < keys.length; i++) {\n                    const storeName = keys[i];\n                    if (__stores__[storeName]) {\n                        ngZoneOrOptions.run(() => {\n                            __stores__[storeName]._setState(() => rootState[storeName], false);\n                        });\n                    }\n                }\n            }\n        }\n    }));\n}\n\nvar Order;\n(function (Order) {\n    Order[\"ASC\"] = \"asc\";\n    Order[\"DESC\"] = \"desc\";\n})(Order || (Order = {}));\n// @internal\nfunction compareValues(key, order = Order.ASC) {\n    return function (a, b) {\n        if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\n            return 0;\n        }\n        const varA = typeof a[key] === 'string' ? a[key].toUpperCase() : a[key];\n        const varB = typeof b[key] === 'string' ? b[key].toUpperCase() : b[key];\n        let comparison = 0;\n        if (varA > varB) {\n            comparison = 1;\n        }\n        else if (varA < varB) {\n            comparison = -1;\n        }\n        return order == Order.DESC ? comparison * -1 : comparison;\n    };\n}\n\n// @internal\nfunction entitiesToArray(state, options) {\n    let arr = [];\n    const { ids, entities } = state;\n    const { filterBy, limitTo, sortBy, sortByOrder } = options;\n    for (let i = 0; i < ids.length; i++) {\n        const entity = entities[ids[i]];\n        if (!filterBy) {\n            arr.push(entity);\n            continue;\n        }\n        const toArray = coerceArray(filterBy);\n        const allPass = toArray.every(fn => fn(entity, i));\n        if (allPass) {\n            arr.push(entity);\n        }\n    }\n    if (sortBy) {\n        let _sortBy = isFunction(sortBy) ? sortBy : compareValues(sortBy, sortByOrder);\n        arr = arr.sort((a, b) => _sortBy(a, b, state));\n    }\n    const length = Math.min(limitTo || arr.length, arr.length);\n    return length === arr.length ? arr : arr.slice(0, length);\n}\n\n// @internal\nfunction entitiesToMap(state, options) {\n    const map = {};\n    const { filterBy, limitTo } = options;\n    const { ids, entities } = state;\n    if (!filterBy && !limitTo) {\n        return entities;\n    }\n    const hasLimit = isNil(limitTo) === false;\n    if (filterBy && hasLimit) {\n        let count = 0;\n        for (let i = 0, length = ids.length; i < length; i++) {\n            if (count === limitTo)\n                break;\n            const id = ids[i];\n            const entity = entities[id];\n            const allPass = coerceArray(filterBy).every(fn => fn(entity, i));\n            if (allPass) {\n                map[id] = entity;\n                count++;\n            }\n        }\n    }\n    else {\n        const finalLength = Math.min(limitTo || ids.length, ids.length);\n        for (let i = 0; i < finalLength; i++) {\n            const id = ids[i];\n            const entity = entities[id];\n            if (!filterBy) {\n                map[id] = entity;\n                continue;\n            }\n            const allPass = coerceArray(filterBy).every(fn => fn(entity, i));\n            if (allPass) {\n                map[id] = entity;\n            }\n        }\n    }\n    return map;\n}\n\nvar EntityActions;\n(function (EntityActions) {\n    EntityActions[\"Set\"] = \"Set\";\n    EntityActions[\"Add\"] = \"Add\";\n    EntityActions[\"Update\"] = \"Update\";\n    EntityActions[\"Remove\"] = \"Remove\";\n})(EntityActions || (EntityActions = {}));\n\nclass EntityService {\n}\n\nlet __DEV__ = true;\nfunction enableAkitaProdMode() {\n    __DEV__ = false;\n    if (isBrowser) {\n        delete window.$$stores;\n        delete window.$$queries;\n    }\n}\n// @internal\nfunction isDev() {\n    return __DEV__;\n}\n\n// @internal\nfunction getActiveEntities(idOrOptions, ids, currentActive) {\n    let result;\n    if (isArray(idOrOptions)) {\n        result = idOrOptions;\n    }\n    else {\n        if (isObject(idOrOptions)) {\n            if (isNil(currentActive))\n                return;\n            idOrOptions = Object.assign({ wrap: true }, idOrOptions);\n            const currentIdIndex = ids.indexOf(currentActive);\n            if (idOrOptions.prev) {\n                const isFirst = currentIdIndex === 0;\n                if (isFirst && !idOrOptions.wrap)\n                    return;\n                result = isFirst ? ids[ids.length - 1] : ids[currentIdIndex - 1];\n            }\n            else if (idOrOptions.next) {\n                const isLast = ids.length === currentIdIndex + 1;\n                if (isLast && !idOrOptions.wrap)\n                    return;\n                result = isLast ? ids[0] : ids[currentIdIndex + 1];\n            }\n        }\n        else {\n            if (idOrOptions === currentActive)\n                return;\n            result = idOrOptions;\n        }\n    }\n    return result;\n}\n\n// @internal\nconst getInitialEntitiesState = () => ({\n    entities: {},\n    ids: [],\n    loading: true,\n    error: null\n});\n\n// @internal\nfunction isUndefined(value) {\n    return value === undefined;\n}\n\n// @internal\nfunction removeEntities({ state, ids }) {\n    if (isNil(ids))\n        return removeAllEntities(state);\n    const entities = state.entities;\n    let newEntities = {};\n    for (const id of state.ids) {\n        if (ids.includes(id) === false) {\n            newEntities[id] = entities[id];\n        }\n    }\n    const newState = Object.assign(Object.assign({}, state), { entities: newEntities, ids: state.ids.filter(current => ids.includes(current) === false) });\n    if (hasActiveState(state)) {\n        newState.active = resolveActiveEntity(newState);\n    }\n    return newState;\n}\n// @internal\nfunction removeAllEntities(state) {\n    return Object.assign(Object.assign({}, state), { entities: {}, ids: [], active: isMultiActiveState(state.active) ? [] : null });\n}\n\n// @internal\nfunction toEntitiesObject(entities, idKey, preAddEntity) {\n    const acc = {\n        entities: {},\n        ids: []\n    };\n    for (const entity of entities) {\n        // evaluate the middleware first to support dynamic ids\n        const current = preAddEntity(entity);\n        acc.entities[current[idKey]] = current;\n        acc.ids.push(current[idKey]);\n    }\n    return acc;\n}\n\n// @internal\nfunction isEntityState(state) {\n    return state.entities && state.ids;\n}\n// @internal\nfunction applyMiddleware(entities, preAddEntity) {\n    let mapped = {};\n    for (const id of Object.keys(entities)) {\n        mapped[id] = preAddEntity(entities[id]);\n    }\n    return mapped;\n}\n// @internal\nfunction setEntities({ state, entities, idKey, preAddEntity, isNativePreAdd }) {\n    let newEntities;\n    let newIds;\n    if (isArray(entities)) {\n        const resolve = toEntitiesObject(entities, idKey, preAddEntity);\n        newEntities = resolve.entities;\n        newIds = resolve.ids;\n    }\n    else if (isEntityState(entities)) {\n        newEntities = isNativePreAdd ? entities.entities : applyMiddleware(entities.entities, preAddEntity);\n        newIds = entities.ids;\n    }\n    else {\n        // it's an object\n        newEntities = isNativePreAdd ? entities : applyMiddleware(entities, preAddEntity);\n        newIds = Object.keys(newEntities).map(id => (isNaN(id) ? id : Number(id)));\n    }\n    const newState = Object.assign(Object.assign({}, state), { entities: newEntities, ids: newIds, loading: false });\n    if (hasActiveState(state)) {\n        newState.active = resolveActiveEntity(newState);\n    }\n    return newState;\n}\n\n// @internal\nfunction deepFreeze(o) {\n    Object.freeze(o);\n    const oIsFunction = typeof o === 'function';\n    const hasOwnProp = Object.prototype.hasOwnProperty;\n    Object.getOwnPropertyNames(o).forEach(function (prop) {\n        if (hasOwnProp.call(o, prop) &&\n            (oIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true) &&\n            o[prop] !== null &&\n            (typeof o[prop] === 'object' || typeof o[prop] === 'function') &&\n            !Object.isFrozen(o[prop])) {\n            deepFreeze(o[prop]);\n        }\n    });\n    return o;\n}\n\n// @internal\nclass AkitaError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\n// @internal\nfunction assertStoreHasName(name, className) {\n    if (!name) {\n        console.error(`@StoreConfig({ name }) is missing in ${className}`);\n    }\n}\n\n// @internal\nfunction toBoolean(value) {\n    return value != null && `${value}` !== 'false';\n}\n\n// @internal\nfunction isPlainObject(value) {\n    return toBoolean(value) && value.constructor.name === 'Object';\n}\n\nconst configKey = 'akitaConfig';\nfunction StoreConfig(metadata) {\n    return function (constructor) {\n        constructor[configKey] = { idKey: 'id' };\n        for (let i = 0, keys = Object.keys(metadata); i < keys.length; i++) {\n            const key = keys[i];\n            /* name is preserved read only key */\n            if (key === 'name') {\n                constructor[configKey]['storeName'] = metadata[key];\n            }\n            else {\n                constructor[configKey][key] = metadata[key];\n            }\n        }\n    };\n}\n\n// @internal\nconst transactionFinished = new Subject();\n// @internal\nconst transactionInProcess = new BehaviorSubject(false);\n// @internal\nconst transactionManager = {\n    activeTransactions: 0,\n    batchTransaction: null\n};\n// @internal\nfunction startBatch() {\n    if (!isTransactionInProcess()) {\n        transactionManager.batchTransaction = new Subject();\n    }\n    transactionManager.activeTransactions++;\n    transactionInProcess.next(true);\n}\n// @internal\nfunction endBatch() {\n    if (--transactionManager.activeTransactions === 0) {\n        transactionManager.batchTransaction.next(true);\n        transactionManager.batchTransaction.complete();\n        transactionInProcess.next(false);\n        transactionFinished.next(true);\n    }\n}\n// @internal\nfunction isTransactionInProcess() {\n    return transactionManager.activeTransactions > 0;\n}\n// @internal\nfunction commit() {\n    return transactionManager.batchTransaction ? transactionManager.batchTransaction.asObservable() : of(true);\n}\n/**\n *  A logical transaction.\n *  Use this transaction to optimize the dispatch of all the stores.\n *  The following code will update the store, BUT  emits only once\n *\n *  @example\n *  applyTransaction(() => {\n *    this.todosStore.add(new Todo(1, title));\n *    this.todosStore.add(new Todo(2, title));\n *  });\n *\n */\nfunction applyTransaction(action, thisArg = undefined) {\n    startBatch();\n    try {\n        return action.apply(thisArg);\n    }\n    finally {\n        logAction('@Transaction');\n        endBatch();\n    }\n}\n/**\n *  A logical transaction.\n *  Use this transaction to optimize the dispatch of all the stores.\n *\n *  The following code will update the store, BUT  emits only once.\n *\n *  @example\n *  @transaction\n *  addTodos() {\n *    this.todosStore.add(new Todo(1, title));\n *    this.todosStore.add(new Todo(2, title));\n *  }\n *\n *\n */\nfunction transaction() {\n    return function (target, propertyKey, descriptor) {\n        const originalMethod = descriptor.value;\n        descriptor.value = function (...args) {\n            return applyTransaction(() => {\n                return originalMethod.apply(this, args);\n            }, this);\n        };\n        return descriptor;\n    };\n}\n/**\n *\n * RxJS custom operator that wraps the callback inside transaction\n *\n * @example\n *\n * return http.get().pipe(\n *    withTransaction(response > {\n *      store.setActive(1);\n *      store.update();\n *      store.updateEntity(1, {});\n *    })\n * )\n *\n */\nfunction withTransaction(next) {\n    return function (source) {\n        return source.pipe(tap(value => applyTransaction(() => next(value))));\n    };\n}\n\n/**\n *\n * Store for managing any type of data\n *\n * @example\n *\n * export interface SessionState {\n *   token: string;\n *   userDetails: UserDetails\n * }\n *\n * export function createInitialState(): SessionState {\n *  return {\n *    token: '',\n *    userDetails: null\n *  };\n * }\n *\n * @StoreConfig({ name: 'session' })\n * export class SessionStore extends Store<SessionState> {\n *   constructor() {\n *    super(createInitialState());\n *   }\n * }\n */\nclass Store {\n    constructor(initialState, options = {}) {\n        this.options = options;\n        this.inTransaction = false;\n        this.cache = {\n            active: new BehaviorSubject(false),\n            ttl: null,\n        };\n        this.onInit(initialState);\n    }\n    /**\n     *  Set the loading state\n     *\n     *  @example\n     *\n     *  store.setLoading(true)\n     *\n     */\n    setLoading(loading = false) {\n        if (loading !== this._value().loading) {\n            isDev() && setAction('Set Loading');\n            this._setState((state) => (Object.assign(Object.assign({}, state), { loading })));\n        }\n    }\n    /**\n     *\n     * Set whether the data is cached\n     *\n     * @example\n     *\n     * store.setHasCache(true)\n     * store.setHasCache(false)\n     * store.setHasCache(true, { restartTTL: true })\n     *\n     */\n    setHasCache(hasCache, options = { restartTTL: false }) {\n        if (hasCache !== this.cache.active.value) {\n            this.cache.active.next(hasCache);\n        }\n        if (options.restartTTL) {\n            const ttlConfig = this.getCacheTTL();\n            if (ttlConfig) {\n                if (this.cache.ttl !== null) {\n                    clearTimeout(this.cache.ttl);\n                }\n                this.cache.ttl = setTimeout(() => this.setHasCache(false), ttlConfig);\n            }\n        }\n    }\n    /**\n     *\n     * Sometimes we need to access the store value from a store\n     *\n     * @example middleware\n     *\n     */\n    getValue() {\n        return this.storeValue;\n    }\n    /**\n     *  Set the error state\n     *\n     *  @example\n     *\n     *  store.setError({text: 'unable to load data' })\n     *\n     */\n    setError(error) {\n        if (error !== this._value().error) {\n            isDev() && setAction('Set Error');\n            this._setState((state) => (Object.assign(Object.assign({}, state), { error })));\n        }\n    }\n    // @internal\n    _select(project) {\n        return this.store.asObservable().pipe(map((snapshot) => project(snapshot.state)), distinctUntilChanged());\n    }\n    // @internal\n    _value() {\n        return this.storeValue;\n    }\n    // @internal\n    _cache() {\n        return this.cache.active;\n    }\n    // @internal\n    get config() {\n        return this.constructor[configKey] || {};\n    }\n    // @internal\n    get storeName() {\n        return this.config.storeName || this.options.storeName || this.options.name;\n    }\n    // @internal\n    get deepFreeze() {\n        return this.config.deepFreezeFn || this.options.deepFreezeFn || deepFreeze;\n    }\n    // @internal\n    get cacheConfig() {\n        return this.config.cache || this.options.cache;\n    }\n    get _producerFn() {\n        return this.config.producerFn || this.options.producerFn || getGlobalProducerFn();\n    }\n    // @internal\n    get resettable() {\n        return isDefined(this.config.resettable) ? this.config.resettable : this.options.resettable;\n    }\n    // @internal\n    _setState(newState, _dispatchAction = true) {\n        if (isFunction(newState)) {\n            const _newState = newState(this._value());\n            this.storeValue = __DEV__ ? this.deepFreeze(_newState) : _newState;\n        }\n        else {\n            this.storeValue = newState;\n        }\n        if (!this.store) {\n            this.store = new BehaviorSubject({ state: this.storeValue });\n            if (isDev()) {\n                this.store.subscribe(({ action }) => {\n                    if (action) {\n                        dispatchUpdate(this.storeName, action);\n                    }\n                });\n            }\n            return;\n        }\n        if (isTransactionInProcess()) {\n            this.handleTransaction();\n            return;\n        }\n        this.dispatch(this.storeValue, _dispatchAction);\n    }\n    /**\n     *\n     * Reset the current store back to the initial value\n     *\n     * @example\n     *\n     * store.reset()\n     *\n     */\n    reset() {\n        if (this.isResettable()) {\n            isDev() && setAction('Reset');\n            this._setState(() => Object.assign({}, this._initialState));\n            this.setHasCache(false);\n        }\n        else {\n            isDev() && console.warn(`You need to enable the reset functionality`);\n        }\n    }\n    update(stateOrCallback) {\n        isDev() && setAction('Update');\n        let newState;\n        const currentState = this._value();\n        if (isFunction(stateOrCallback)) {\n            newState = isFunction(this._producerFn) ? this._producerFn(currentState, stateOrCallback) : stateOrCallback(currentState);\n        }\n        else {\n            newState = stateOrCallback;\n        }\n        const withHook = this.akitaPreUpdate(currentState, Object.assign(Object.assign({}, currentState), newState));\n        const resolved = isPlainObject(currentState) ? withHook : new currentState.constructor(withHook);\n        this._setState(resolved);\n    }\n    updateStoreConfig(newOptions) {\n        this.options = Object.assign(Object.assign({}, this.options), newOptions);\n    }\n    // @internal\n    akitaPreUpdate(_, nextState) {\n        return nextState;\n    }\n    /**\n     *\n     * @deprecated\n     *\n     * This method will be removed in v7\n     *\n     * Akita isn't coupled to Angular and should not use Angular\n     * specific code\n     *\n     */\n    ngOnDestroy() {\n        this.destroy();\n    }\n    /**\n     *\n     * Destroy the store\n     *\n     * @example\n     *\n     * store.destroy()\n     *\n     */\n    destroy() {\n        const hmrEnabled = isBrowser ? window.hmrEnabled : false;\n        if (!hmrEnabled && this === __stores__[this.storeName]) {\n            delete __stores__[this.storeName];\n            dispatchDeleted(this.storeName);\n            this.setHasCache(false);\n            this.cache.active.complete();\n            this.store.complete();\n        }\n    }\n    onInit(initialState) {\n        __stores__[this.storeName] = this;\n        this._setState(() => initialState);\n        dispatchAdded(this.storeName);\n        if (this.isResettable()) {\n            this._initialState = initialState;\n        }\n        isDev() && assertStoreHasName(this.storeName, this.constructor.name);\n    }\n    dispatch(state, _dispatchAction = true) {\n        let action = undefined;\n        if (_dispatchAction) {\n            action = currentAction;\n            resetCustomAction();\n        }\n        this.store.next({ state, action });\n    }\n    watchTransaction() {\n        commit().subscribe(() => {\n            this.inTransaction = false;\n            this.dispatch(this._value());\n        });\n    }\n    isResettable() {\n        if (this.resettable === false) {\n            return false;\n        }\n        return this.resettable || getAkitaConfig().resettable;\n    }\n    handleTransaction() {\n        if (!this.inTransaction) {\n            this.watchTransaction();\n            this.inTransaction = true;\n        }\n    }\n    getCacheTTL() {\n        return (this.cacheConfig && this.cacheConfig.ttl) || getAkitaConfig().ttl;\n    }\n}\nStore.ɵfac = function Store_Factory(t) { ɵngcc0.ɵɵinvalidFactory(); };\nStore.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: Store });\n\n// @internal\nfunction updateEntities({ state, ids, idKey, newStateOrFn, preUpdateEntity, producerFn, onEntityIdChanges }) {\n    const updatedEntities = {};\n    let isUpdatingIdKey = false;\n    let idToUpdate;\n    for (const id of ids) {\n        // if the entity doesn't exist don't do anything\n        if (hasEntity(state.entities, id) === false) {\n            continue;\n        }\n        const oldEntity = state.entities[id];\n        let newState;\n        if (isFunction(newStateOrFn)) {\n            newState = isFunction(producerFn) ? producerFn(oldEntity, newStateOrFn) : newStateOrFn(oldEntity);\n        }\n        else {\n            newState = newStateOrFn;\n        }\n        const isIdChanged = newState.hasOwnProperty(idKey) && newState[idKey] !== oldEntity[idKey];\n        let newEntity;\n        idToUpdate = id;\n        if (isIdChanged) {\n            isUpdatingIdKey = true;\n            idToUpdate = newState[idKey];\n        }\n        const merged = Object.assign(Object.assign({}, oldEntity), newState);\n        if (isPlainObject(oldEntity)) {\n            newEntity = merged;\n        }\n        else {\n            /**\n             * In case that new state is class of it's own, there's\n             * a possibility that it will be different than the old\n             * class.\n             * For example, Old state is an instance of animal class\n             * and new state is instance of person class.\n             * To avoid run over new person class with the old animal\n             * class we check if the new state is a class of it's own.\n             * If so, use it. Otherwise, use the old state class\n             */\n            if (isPlainObject(newState)) {\n                newEntity = new oldEntity.constructor(merged);\n            }\n            else {\n                newEntity = new newState.constructor(merged);\n            }\n        }\n        updatedEntities[idToUpdate] = preUpdateEntity(oldEntity, newEntity);\n    }\n    let updatedIds = state.ids;\n    let stateEntities = state.entities;\n    if (isUpdatingIdKey) {\n        const [id] = ids;\n        const _a = state.entities, _b = id, deletedEntity = _a[_b], rest = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n        stateEntities = rest;\n        updatedIds = state.ids.map((current) => (current === id ? idToUpdate : current));\n        onEntityIdChanges(id, idToUpdate);\n    }\n    return Object.assign(Object.assign({}, state), { entities: Object.assign(Object.assign({}, stateEntities), updatedEntities), ids: updatedIds });\n}\n\nvar _a, _b;\n/**\n *\n * Store for managing a collection of entities\n *\n * @example\n *\n * export interface WidgetsState extends EntityState<Widget> { }\n *\n * @StoreConfig({ name: 'widgets' })\n *  export class WidgetsStore extends EntityStore<WidgetsState> {\n *   constructor() {\n *     super();\n *   }\n * }\n *\n *\n */\nclass EntityStore extends Store {\n    constructor(initialState = {}, options = {}) {\n        super(Object.assign(Object.assign({}, getInitialEntitiesState()), initialState), options);\n        this.options = options;\n        this.entityActions = new Subject();\n        this.entityIdChanges = new Subject();\n    }\n    // @internal\n    get selectEntityAction$() {\n        return this.entityActions.asObservable();\n    }\n    // @internal\n    get selectEntityIdChanges$() {\n        return this.entityIdChanges.asObservable();\n    }\n    // @internal\n    get idKey() {\n        return this.config.idKey || this.options.idKey || DEFAULT_ID_KEY;\n    }\n    /**\n     *\n     * Replace current collection with provided collection\n     *\n     * @example\n     *\n     * this.store.set([Entity, Entity])\n     * this.store.set({ids: [], entities: {}})\n     * this.store.set({ 1: {}, 2: {}})\n     *\n     */\n    set(entities, options = {}) {\n        if (isNil(entities))\n            return;\n        isDev() && setAction('Set Entity');\n        const isNativePreAdd = this.akitaPreAddEntity === EntityStore.prototype.akitaPreAddEntity;\n        this.setHasCache(true, { restartTTL: true });\n        this._setState((state) => {\n            const newState = setEntities({\n                state,\n                entities,\n                idKey: this.idKey,\n                preAddEntity: this.akitaPreAddEntity,\n                isNativePreAdd,\n            });\n            if (isUndefined(options.activeId) === false) {\n                newState.active = options.activeId;\n            }\n            return newState;\n        });\n        if (this.hasInitialUIState()) {\n            this.handleUICreation();\n        }\n        this.entityActions.next({ type: EntityActions.Set, ids: this.ids });\n    }\n    /**\n     * Add entities\n     *\n     * @example\n     *\n     * this.store.add([Entity, Entity])\n     * this.store.add(Entity)\n     * this.store.add(Entity, { prepend: true })\n     *\n     * this.store.add(Entity, { loading: false })\n     */\n    add(entities, options = { loading: false }) {\n        const collection = coerceArray(entities);\n        if (isEmpty(collection))\n            return;\n        const data = addEntities({\n            state: this._value(),\n            preAddEntity: this.akitaPreAddEntity,\n            entities: collection,\n            idKey: this.idKey,\n            options,\n        });\n        if (data) {\n            isDev() && setAction('Add Entity');\n            data.newState.loading = options.loading;\n            this._setState(() => data.newState);\n            if (this.hasInitialUIState()) {\n                this.handleUICreation(true);\n            }\n            this.entityActions.next({ type: EntityActions.Add, ids: data.newIds });\n        }\n    }\n    update(idsOrFnOrState, newStateOrFn) {\n        if (isUndefined(newStateOrFn)) {\n            super.update(idsOrFnOrState);\n            return;\n        }\n        let ids = [];\n        if (isFunction(idsOrFnOrState)) {\n            // We need to filter according the predicate function\n            ids = this.ids.filter((id) => idsOrFnOrState(this.entities[id]));\n        }\n        else {\n            // If it's nil we want all of them\n            ids = isNil(idsOrFnOrState) ? this.ids : coerceArray(idsOrFnOrState);\n        }\n        if (isEmpty(ids))\n            return;\n        isDev() && setAction('Update Entity', ids);\n        let entityIdChanged;\n        this._setState((state) => updateEntities({\n            idKey: this.idKey,\n            ids,\n            preUpdateEntity: this.akitaPreUpdateEntity,\n            state,\n            newStateOrFn,\n            producerFn: this._producerFn,\n            onEntityIdChanges: (oldId, newId) => {\n                entityIdChanged = { oldId, newId };\n                this.entityIdChanges.next(Object.assign(Object.assign({}, entityIdChanged), { pending: true }));\n            },\n        }));\n        if (entityIdChanged) {\n            this.entityIdChanges.next(Object.assign(Object.assign({}, entityIdChanged), { pending: false }));\n        }\n        this.entityActions.next({ type: EntityActions.Update, ids });\n    }\n    upsert(ids, newState, onCreate, options = {}) {\n        const toArray = coerceArray(ids);\n        const predicate = (isUpdate) => (id) => hasEntity(this.entities, id) === isUpdate;\n        const baseClass = isFunction(onCreate) ? options.baseClass : onCreate ? onCreate.baseClass : undefined;\n        const isClassBased = isFunction(baseClass);\n        const updateIds = toArray.filter(predicate(true));\n        const newEntities = toArray.filter(predicate(false)).map((id) => {\n            const newStateObj = typeof newState === 'function' ? newState({}) : newState;\n            const entity = isFunction(onCreate) ? onCreate(id, newStateObj) : newStateObj;\n            const withId = Object.assign(Object.assign({}, entity), { [this.idKey]: id });\n            if (isClassBased) {\n                return new baseClass(withId);\n            }\n            return withId;\n        });\n        // it can be any of the three types\n        this.update(updateIds, newState);\n        this.add(newEntities);\n        isDev() && logAction('Upsert Entity');\n    }\n    /**\n     *\n     * Upsert entity collection (idKey must be present)\n     *\n     * @example\n     *\n     * store.upsertMany([ { id: 1 }, { id: 2 }]);\n     *\n     * store.upsertMany([ { id: 1 }, { id: 2 }], { loading: true  });\n     * store.upsertMany([ { id: 1 }, { id: 2 }], { baseClass: Todo  });\n     *\n     */\n    upsertMany(entities, options = {}) {\n        const addedIds = [];\n        const updatedIds = [];\n        const updatedEntities = {};\n        // Update the state directly to optimize performance\n        for (const entity of entities) {\n            const withPreCheckHook = this.akitaPreCheckEntity(entity);\n            const id = withPreCheckHook[this.idKey];\n            if (hasEntity(this.entities, id)) {\n                const prev = this._value().entities[id];\n                const merged = Object.assign(Object.assign({}, this._value().entities[id]), withPreCheckHook);\n                const next = options.baseClass ? new options.baseClass(merged) : merged;\n                const withHook = this.akitaPreUpdateEntity(prev, next);\n                const nextId = withHook[this.idKey];\n                updatedEntities[nextId] = withHook;\n                updatedIds.push(nextId);\n            }\n            else {\n                const newEntity = options.baseClass ? new options.baseClass(withPreCheckHook) : withPreCheckHook;\n                const withHook = this.akitaPreAddEntity(newEntity);\n                const nextId = withHook[this.idKey];\n                addedIds.push(nextId);\n                updatedEntities[nextId] = withHook;\n            }\n        }\n        isDev() && logAction('Upsert Many');\n        this._setState((state) => (Object.assign(Object.assign({}, state), { ids: addedIds.length ? [...state.ids, ...addedIds] : state.ids, entities: Object.assign(Object.assign({}, state.entities), updatedEntities), loading: !!options.loading })));\n        updatedIds.length && this.entityActions.next({ type: EntityActions.Update, ids: updatedIds });\n        addedIds.length && this.entityActions.next({ type: EntityActions.Add, ids: addedIds });\n        if (addedIds.length && this.hasUIStore()) {\n            this.handleUICreation(true);\n        }\n    }\n    /**\n     *\n     * Replace one or more entities (except the id property)\n     *\n     *\n     * @example\n     *\n     * this.store.replace(5, newEntity)\n     * this.store.replace([1,2,3], newEntity)\n     */\n    replace(ids, newState) {\n        const toArray = coerceArray(ids);\n        if (isEmpty(toArray))\n            return;\n        const replaced = {};\n        for (const id of toArray) {\n            replaced[id] = Object.assign(Object.assign({}, newState), { [this.idKey]: id });\n        }\n        isDev() && setAction('Replace Entity', ids);\n        this._setState((state) => (Object.assign(Object.assign({}, state), { entities: Object.assign(Object.assign({}, state.entities), replaced) })));\n    }\n    /**\n     *\n     * Move entity inside the collection\n     *\n     *\n     * @example\n     *\n     * this.store.move(fromIndex, toIndex)\n     */\n    move(from, to) {\n        const ids = this.ids.slice();\n        ids.splice(to < 0 ? ids.length + to : to, 0, ids.splice(from, 1)[0]);\n        isDev() && setAction('Move Entity');\n        this._setState((state) => (Object.assign(Object.assign({}, state), { \n            // Change the entities reference so that selectAll emit\n            entities: Object.assign({}, state.entities), ids })));\n    }\n    remove(idsOrFn) {\n        if (isEmpty(this.ids))\n            return;\n        const idPassed = isDefined(idsOrFn);\n        // null means remove all\n        let ids = [];\n        if (isFunction(idsOrFn)) {\n            ids = this.ids.filter((entityId) => idsOrFn(this.entities[entityId]));\n        }\n        else {\n            ids = idPassed ? coerceArray(idsOrFn) : this.ids;\n        }\n        if (isEmpty(ids))\n            return;\n        isDev() && setAction('Remove Entity', ids);\n        this._setState((state) => removeEntities({ state, ids }));\n        if (!idPassed) {\n            this.setHasCache(false);\n        }\n        this.handleUIRemove(ids);\n        this.entityActions.next({ type: EntityActions.Remove, ids });\n    }\n    /**\n     *\n     * Update the active entity\n     *\n     * @example\n     *\n     * this.store.updateActive({ completed: true })\n     * this.store.updateActive(active => {\n     *   return {\n     *     config: {\n     *      ..active.config,\n     *      date\n     *     }\n     *   }\n     * })\n     */\n    updateActive(newStateOrCallback) {\n        const ids = coerceArray(this.active);\n        isDev() && setAction('Update Active', ids);\n        this.update(ids, newStateOrCallback);\n    }\n    setActive(idOrOptions) {\n        const active = getActiveEntities(idOrOptions, this.ids, this.active);\n        if (active === undefined) {\n            return;\n        }\n        isDev() && setAction('Set Active', active);\n        this._setActive(active);\n    }\n    /**\n     * Add active entities\n     *\n     * @example\n     *\n     * store.addActive(2);\n     * store.addActive([3, 4, 5]);\n     */\n    addActive(ids) {\n        const toArray = coerceArray(ids);\n        if (isEmpty(toArray))\n            return;\n        const everyExist = toArray.every((id) => this.active.indexOf(id) > -1);\n        if (everyExist)\n            return;\n        isDev() && setAction('Add Active', ids);\n        this._setState((state) => {\n            /** Protect against case that one of the items in the array exist */\n            const uniques = Array.from(new Set([...state.active, ...toArray]));\n            return Object.assign(Object.assign({}, state), { active: uniques });\n        });\n    }\n    /**\n     * Remove active entities\n     *\n     * @example\n     *\n     * store.removeActive(2)\n     * store.removeActive([3, 4, 5])\n     */\n    removeActive(ids) {\n        const toArray = coerceArray(ids);\n        if (isEmpty(toArray))\n            return;\n        const someExist = toArray.some((id) => this.active.indexOf(id) > -1);\n        if (!someExist)\n            return;\n        isDev() && setAction('Remove Active', ids);\n        this._setState((state) => {\n            return Object.assign(Object.assign({}, state), { active: Array.isArray(state.active) ? state.active.filter((currentId) => toArray.indexOf(currentId) === -1) : null });\n        });\n    }\n    /**\n     * Toggle active entities\n     *\n     * @example\n     *\n     * store.toggle(2)\n     * store.toggle([3, 4, 5])\n     */\n    toggleActive(ids) {\n        const toArray = coerceArray(ids);\n        const filterExists = (remove) => (id) => this.active.includes(id) === remove;\n        const remove = toArray.filter(filterExists(true));\n        const add = toArray.filter(filterExists(false));\n        this.removeActive(remove);\n        this.addActive(add);\n        isDev() && logAction('Toggle Active');\n    }\n    /**\n     *\n     * Create sub UI store for managing Entity's UI state\n     *\n     * @example\n     *\n     * export type ProductUI = {\n     *   isLoading: boolean;\n     *   isOpen: boolean\n     * }\n     *\n     * interface ProductsUIState extends EntityState<ProductUI> {}\n     *\n     * export class ProductsStore EntityStore<ProductsState, Product> {\n     *   ui: EntityUIStore<ProductsUIState, ProductUI>;\n     *\n     *   constructor() {\n     *     super();\n     *     this.createUIStore();\n     *   }\n     *\n     * }\n     */\n    createUIStore(initialState = {}, storeConfig = {}) {\n        const defaults = { name: `UI/${this.storeName}`, idKey: this.idKey };\n        this.ui = new EntityUIStore(initialState, Object.assign(Object.assign({}, defaults), storeConfig));\n        return this.ui;\n    }\n    // @internal\n    destroy() {\n        super.destroy();\n        if (this.ui instanceof EntityStore) {\n            this.ui.destroy();\n        }\n        this.entityActions.complete();\n    }\n    // @internal\n    akitaPreUpdateEntity(_, nextEntity) {\n        return nextEntity;\n    }\n    // @internal\n    akitaPreAddEntity(newEntity) {\n        return newEntity;\n    }\n    // @internal\n    akitaPreCheckEntity(newEntity) {\n        return newEntity;\n    }\n    get ids() {\n        return this._value().ids;\n    }\n    get entities() {\n        return this._value().entities;\n    }\n    get active() {\n        return this._value().active;\n    }\n    _setActive(ids) {\n        this._setState((state) => {\n            return Object.assign(Object.assign({}, state), { active: ids });\n        });\n    }\n    handleUICreation(add = false) {\n        const ids = this.ids;\n        const isFunc = isFunction(this.ui._akitaCreateEntityFn);\n        let uiEntities;\n        const createFn = (id) => {\n            const current = this.entities[id];\n            const ui = isFunc ? this.ui._akitaCreateEntityFn(current) : this.ui._akitaCreateEntityFn;\n            return Object.assign({ [this.idKey]: current[this.idKey] }, ui);\n        };\n        if (add) {\n            uiEntities = this.ids.filter((id) => isUndefined(this.ui.entities[id])).map(createFn);\n        }\n        else {\n            uiEntities = ids.map(createFn);\n        }\n        add ? this.ui.add(uiEntities) : this.ui.set(uiEntities);\n    }\n    hasInitialUIState() {\n        return this.hasUIStore() && isUndefined(this.ui._akitaCreateEntityFn) === false;\n    }\n    handleUIRemove(ids) {\n        if (this.hasUIStore()) {\n            this.ui.remove(ids);\n        }\n    }\n    hasUIStore() {\n        return this.ui instanceof EntityUIStore;\n    }\n}\n__decorate([\n    transaction(),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object, Object, Object, Object]),\n    __metadata(\"design:returntype\", void 0)\n], EntityStore.prototype, \"upsert\", null);\n__decorate([\n    transaction(),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [typeof (_b = typeof T !== \"undefined\" && T) === \"function\" ? _b : Object]),\n    __metadata(\"design:returntype\", void 0)\n], EntityStore.prototype, \"toggleActive\", null);\n// @internal\nclass EntityUIStore extends EntityStore {\n    constructor(initialState = {}, storeConfig = {}) {\n        super(initialState, storeConfig);\n    }\n    /**\n     *\n     * Set the initial UI entity state. This function will determine the entity's\n     * initial state when we call `set()` or `add()`.\n     *\n     * @example\n     *\n     * constructor() {\n     *   super();\n     *   this.createUIStore().setInitialEntityState(entity => ({ isLoading: false, isOpen: true }));\n     *   this.createUIStore().setInitialEntityState({ isLoading: false, isOpen: true });\n     * }\n     *\n     */\n    setInitialEntityState(createFn) {\n        this._akitaCreateEntityFn = createFn;\n    }\n}\n\n/**\n * @example\n *\n * query.selectEntity(2).pipe(filterNil)\n * @deprecated Use the operator function filterNilValue()\n */\nconst filterNil = (source) => source.pipe(filter((value) => value !== null && typeof value !== 'undefined'));\n/**\n * @example\n *\n * query.selectEntity(2).pipe(filterNilValue())\n */\nfunction filterNilValue() {\n    return filter((value) => value !== null && value !== undefined);\n}\n\nconst queryConfigKey = 'akitaQueryConfig';\nfunction QueryConfig(metadata) {\n    return function (constructor) {\n        constructor[queryConfigKey] = {};\n        for (let i = 0, keys = Object.keys(metadata); i < keys.length; i++) {\n            const key = keys[i];\n            constructor[queryConfigKey][key] = metadata[key];\n        }\n    };\n}\n\n// @internal\nfunction isString(value) {\n    return typeof value === 'string';\n}\n\nfunction compareKeys(keysOrFuncs) {\n    return function (prevState, currState) {\n        const isFns = isFunction(keysOrFuncs[0]);\n        // Return when they are NOT changed\n        return keysOrFuncs.some(keyOrFunc => {\n            if (isFns) {\n                return keyOrFunc(prevState) !== keyOrFunc(currState);\n            }\n            return prevState[keyOrFunc] !== currState[keyOrFunc];\n        }) === false;\n    };\n}\n\nclass Query {\n    constructor(store) {\n        this.store = store;\n        this.__store__ = store;\n        if (isDev()) {\n            // @internal\n            __queries__[store.storeName] = this;\n        }\n    }\n    select(project) {\n        let mapFn;\n        if (isFunction(project)) {\n            mapFn = project;\n        }\n        else if (isString(project)) {\n            mapFn = state => state[project];\n        }\n        else if (Array.isArray(project)) {\n            return this.store\n                ._select(state => state)\n                .pipe(distinctUntilChanged(compareKeys(project)), map(state => {\n                if (isFunction(project[0])) {\n                    return project.map(func => func(state));\n                }\n                return project.reduce((acc, k) => {\n                    acc[k] = state[k];\n                    return acc;\n                }, {});\n            }));\n        }\n        else {\n            mapFn = state => state;\n        }\n        return this.store._select(mapFn);\n    }\n    /**\n     * Select the loading state\n     *\n     * @example\n     *\n     * this.query.selectLoading().subscribe(isLoading => {})\n     */\n    selectLoading() {\n        return this.select(state => state.loading);\n    }\n    /**\n     * Select the error state\n     *\n     * @example\n     *\n     * this.query.selectError().subscribe(error => {})\n     */\n    selectError() {\n        return this.select(state => state.error);\n    }\n    /**\n     * Get the store's value\n     *\n     * @example\n     *\n     * this.query.getValue()\n     *\n     */\n    getValue() {\n        return this.store._value();\n    }\n    /**\n     * Select the cache state\n     *\n     * @example\n     *\n     * this.query.selectHasCache().pipe(\n     *   switchMap(hasCache => {\n     *     return hasCache ? of() : http().pipe(res => store.set(res))\n     *   })\n     * )\n     */\n    selectHasCache() {\n        return this.store._cache().asObservable();\n    }\n    /**\n     * Whether we've cached data\n     *\n     * @example\n     *\n     * this.query.getHasCache()\n     *\n     */\n    getHasCache() {\n        return this.store._cache().value;\n    }\n    // @internal\n    get config() {\n        return this.constructor[queryConfigKey];\n    }\n}\n\n// @internal\nfunction findEntityByPredicate(predicate, entities) {\n    for (const entityId of Object.keys(entities)) {\n        if (predicate(entities[entityId]) === true) {\n            return entityId;\n        }\n    }\n    return undefined;\n}\n// @internal\nfunction getEntity(id, project) {\n    return function (entities) {\n        const entity = entities[id];\n        if (isUndefined(entity)) {\n            return undefined;\n        }\n        if (!project) {\n            return entity;\n        }\n        if (isString(project)) {\n            return entity[project];\n        }\n        return project(entity);\n    };\n}\n\n// @internal\nfunction mapSkipUndefined(arr, callbackFn) {\n    return arr.reduce((result, value, index, array) => {\n        const val = callbackFn(value, index, array);\n        if (val !== undefined) {\n            result.push(val);\n        }\n        return result;\n    }, []);\n}\n\n// @internal\nfunction sortByOptions(options, config) {\n    options.sortBy = options.sortBy || (config && config.sortBy);\n    options.sortByOrder = options.sortByOrder || (config && config.sortByOrder);\n}\n\n/**\n *\n *  The Entity Query is similar to the general Query, with additional functionality tailored for EntityStores.\n *\n *  class WidgetsQuery extends QueryEntity<WidgetsState> {\n *     constructor(protected store: WidgetsStore) {\n *       super(store);\n *     }\n *  }\n *\n *\n *\n */\nclass QueryEntity extends Query {\n    constructor(store, options = {}) {\n        super(store);\n        this.options = options;\n        this.__store__ = store;\n    }\n    selectAll(options = {\n        asObject: false,\n    }) {\n        return this.select((state) => state.entities).pipe(map(() => this.getAll(options)));\n    }\n    getAll(options = { asObject: false, filterBy: undefined, limitTo: undefined }) {\n        if (options.asObject) {\n            return entitiesToMap(this.getValue(), options);\n        }\n        sortByOptions(options, this.config || this.options);\n        return entitiesToArray(this.getValue(), options);\n    }\n    selectMany(ids, project) {\n        if (!ids || !ids.length)\n            return of([]);\n        return this.select((state) => state.entities).pipe(map((entities) => mapSkipUndefined(ids, (id) => getEntity(id, project)(entities))), distinctUntilArrayItemChanged());\n    }\n    selectEntity(idOrPredicate, project) {\n        let id = idOrPredicate;\n        if (isFunction(idOrPredicate)) {\n            // For performance reason we expect the entity to be in the store\n            id = findEntityByPredicate(idOrPredicate, this.getValue().entities);\n        }\n        return this.select((state) => state.entities).pipe(map(getEntity(id, project)), distinctUntilChanged());\n    }\n    /**\n     * Get an entity by id\n     *\n     * @example\n     *\n     * this.query.getEntity(1);\n     */\n    getEntity(id) {\n        return this.getValue().entities[id];\n    }\n    /**\n     * Select the active entity's id\n     *\n     * @example\n     *\n     * this.query.selectActiveId()\n     */\n    selectActiveId() {\n        return this.select((state) => state.active);\n    }\n    /**\n     * Get the active id\n     *\n     * @example\n     *\n     * this.query.getActiveId()\n     */\n    getActiveId() {\n        return this.getValue().active;\n    }\n    selectActive(project) {\n        if (isArray(this.getActive())) {\n            return this.selectActiveId().pipe(switchMap((ids) => this.selectMany(ids, project)));\n        }\n        return this.selectActiveId().pipe(switchMap((ids) => this.selectEntity(ids, project)));\n    }\n    getActive() {\n        const activeId = this.getActiveId();\n        if (isArray(activeId)) {\n            return activeId.map((id) => this.getValue().entities[id]);\n        }\n        return toBoolean(activeId) ? this.getEntity(activeId) : undefined;\n    }\n    /**\n     * Select the store's entity collection length\n     *\n     * @example\n     *\n     * this.query.selectCount()\n     * this.query.selectCount(entity => entity.completed)\n     */\n    selectCount(predicate) {\n        return this.select((state) => state.entities).pipe(map(() => this.getCount(predicate)));\n    }\n    /**\n     * Get the store's entity collection length\n     *\n     * @example\n     *\n     * this.query.getCount()\n     * this.query.getCount(entity => entity.completed)\n     */\n    getCount(predicate) {\n        if (isFunction(predicate)) {\n            return this.getAll().filter(predicate).length;\n        }\n        return this.getValue().ids.length;\n    }\n    selectLast(project) {\n        return this.selectAt((ids) => ids[ids.length - 1], project);\n    }\n    selectFirst(project) {\n        return this.selectAt((ids) => ids[0], project);\n    }\n    selectEntityAction(actionOrActions) {\n        if (isNil(actionOrActions)) {\n            return this.store.selectEntityAction$;\n        }\n        const project = isArray(actionOrActions) ? (action) => action : ({ ids }) => ids;\n        const actions = coerceArray(actionOrActions);\n        return this.store.selectEntityAction$.pipe(filter(({ type }) => actions.includes(type)), map((action) => project(action)));\n    }\n    hasEntity(projectOrIds) {\n        if (isNil(projectOrIds)) {\n            return this.getValue().ids.length > 0;\n        }\n        if (isFunction(projectOrIds)) {\n            return this.getAll().some(projectOrIds);\n        }\n        if (isArray(projectOrIds)) {\n            return projectOrIds.every((id) => id in this.getValue().entities);\n        }\n        return projectOrIds in this.getValue().entities;\n    }\n    /**\n     * Returns whether entity store has an active entity\n     *\n     * @example\n     *\n     * this.query.hasActive()\n     * this.query.hasActive(3)\n     *\n     */\n    hasActive(id) {\n        const active = this.getValue().active;\n        const isIdProvided = isDefined(id);\n        if (Array.isArray(active)) {\n            if (isIdProvided) {\n                return active.includes(id);\n            }\n            return active.length > 0;\n        }\n        return isIdProvided ? active === id : isDefined(active);\n    }\n    /**\n     *\n     * Create sub UI query for querying Entity's UI state\n     *\n     * @example\n     *\n     *\n     * export class ProductsQuery extends QueryEntity<ProductsState> {\n     *   ui: EntityUIQuery<ProductsUIState>;\n     *\n     *   constructor(protected store: ProductsStore) {\n     *     super(store);\n     *     this.createUIQuery();\n     *   }\n     *\n     * }\n     */\n    createUIQuery() {\n        this.ui = new EntityUIQuery(this.__store__.ui);\n    }\n    selectAt(mapFn, project) {\n        return this.select((state) => state.ids).pipe(map(mapFn), distinctUntilChanged(), switchMap((id) => this.selectEntity(id, project)));\n    }\n}\n// @internal\nclass EntityUIQuery extends QueryEntity {\n    constructor(store) {\n        super(store);\n    }\n}\n\nfunction createStore(initialState, options) {\n    return new Store(initialState, options);\n}\nfunction createQuery(store) {\n    return new Query(store);\n}\nfunction createEntityStore(initialState, options) {\n    return new EntityStore(initialState, options);\n}\nfunction createEntityQuery(store, options = {}) {\n    return new QueryEntity(store, options);\n}\n\n/**\n * @internal\n *\n * @example\n *\n * getValue(state, 'todos.ui')\n *\n */\nfunction getValue(obj, prop) {\n    /** return the whole state  */\n    if (prop.split('.').length === 1) {\n        return obj;\n    }\n    const removeStoreName = prop\n        .split('.')\n        .slice(1)\n        .join('.');\n    return removeStoreName.split('.').reduce((acc, part) => acc && acc[part], obj);\n}\n\n/**\n * Generate random guid\n *\n * @example\n *\n * {\n *   id: guid()\n * }\n *\n * @remarks this isn't a GUID, but a 10 char random alpha-num\n */\nfunction guid() {\n    return Math.random()\n        .toString(36)\n        .slice(2);\n}\n\n// @internal\nfunction isNumber(value) {\n    return !isArray(value) && value - parseFloat(value) + 1 >= 0;\n}\n\n/**\n * @internal\n *\n * @example\n * setValue(state, 'todos.ui', { filter: {} })\n */\nfunction setValue(obj, prop, val, replace = false) {\n    const split = prop.split('.');\n    if (split.length === 1) {\n        return Object.assign(Object.assign({}, obj), val);\n    }\n    obj = Object.assign({}, obj);\n    const lastIndex = split.length - 2;\n    const removeStoreName = prop.split('.').slice(1);\n    removeStoreName.reduce((acc, part, index) => {\n        if (index !== lastIndex) {\n            acc[part] = Object.assign({}, acc[part]);\n            return acc && acc[part];\n        }\n        acc[part] = replace || Array.isArray(acc[part]) || !isObject(acc[part]) ? val : Object.assign(Object.assign({}, acc[part]), val);\n        return acc && acc[part];\n    }, obj);\n    return obj;\n}\n\nlet skipStorageUpdate = false;\nconst _persistStateInit = new ReplaySubject(1);\nfunction selectPersistStateInit() {\n    return _persistStateInit.asObservable();\n}\nfunction setSkipStorageUpdate(skip) {\n    skipStorageUpdate = skip;\n}\nfunction getSkipStorageUpdate() {\n    return skipStorageUpdate;\n}\nfunction isPromise(v) {\n    return v && isFunction(v.then);\n}\nfunction observify(asyncOrValue) {\n    if (isPromise(asyncOrValue) || isObservable(asyncOrValue)) {\n        return from(asyncOrValue);\n    }\n    return of(asyncOrValue);\n}\nfunction persistState(params) {\n    const defaults = {\n        key: 'AkitaStores',\n        enableInNonBrowser: false,\n        storage: !hasLocalStorage() ? params.storage : localStorage,\n        deserialize: JSON.parse,\n        serialize: JSON.stringify,\n        include: [],\n        select: [],\n        persistOnDestroy: false,\n        preStorageUpdate: function (storeName, state) {\n            return state;\n        },\n        preStoreUpdate: function (storeName, state) {\n            return state;\n        },\n        skipStorageUpdate: getSkipStorageUpdate,\n        preStorageUpdateOperator: () => (source) => source,\n    };\n    const { storage, enableInNonBrowser, deserialize, serialize, include, select, key, preStorageUpdate, persistOnDestroy, preStorageUpdateOperator, preStoreUpdate, skipStorageUpdate } = Object.assign({}, defaults, params);\n    if ((isNotBrowser && !enableInNonBrowser) || !storage)\n        return;\n    const hasInclude = include.length > 0;\n    const hasSelect = select.length > 0;\n    let includeStores;\n    let selectStores;\n    if (hasInclude) {\n        includeStores = include.reduce((acc, path) => {\n            if (isFunction(path)) {\n                acc.fns.push(path);\n            }\n            else {\n                const storeName = path.split('.')[0];\n                acc[storeName] = path;\n            }\n            return acc;\n        }, { fns: [] });\n    }\n    if (hasSelect) {\n        selectStores = select.reduce((acc, selectFn) => {\n            acc[selectFn.storeName] = selectFn;\n            return acc;\n        }, {});\n    }\n    let stores = {};\n    let acc = {};\n    let subscriptions = [];\n    const buffer = [];\n    function _save(v) {\n        observify(v).subscribe(() => {\n            const next = buffer.shift();\n            next && _save(next);\n        });\n    }\n    // when we use the local/session storage we perform the serialize, otherwise we let the passed storage implementation to do it\n    const isLocalStorage = (hasLocalStorage() && storage === localStorage) || (hasSessionStorage() && storage === sessionStorage);\n    observify(storage.getItem(key)).subscribe((value) => {\n        let storageState = isObject(value) ? value : deserialize(value || '{}');\n        function save(storeCache) {\n            storageState['$cache'] = Object.assign(Object.assign({}, (storageState['$cache'] || {})), storeCache);\n            storageState = Object.assign({}, storageState, acc);\n            buffer.push(storage.setItem(key, isLocalStorage ? serialize(storageState) : storageState));\n            _save(buffer.shift());\n        }\n        function subscribe(storeName, path) {\n            stores[storeName] = __stores__[storeName]\n                ._select((state) => getValue(state, path))\n                .pipe(skip(1), map((store) => {\n                if (hasSelect && selectStores[storeName]) {\n                    return selectStores[storeName](store);\n                }\n                return store;\n            }), filter(() => skipStorageUpdate() === false), preStorageUpdateOperator())\n                .subscribe((data) => {\n                acc[storeName] = preStorageUpdate(storeName, data);\n                Promise.resolve().then(() => save({ [storeName]: __stores__[storeName]._cache().getValue() }));\n            });\n        }\n        function setInitial(storeName, store, path) {\n            if (storeName in storageState) {\n                setAction('@PersistState');\n                store._setState((state) => {\n                    return setValue(state, path, preStoreUpdate(storeName, storageState[storeName], state));\n                });\n                const hasCache = storageState['$cache'] ? storageState['$cache'][storeName] : false;\n                __stores__[storeName].setHasCache(hasCache, { restartTTL: true });\n            }\n        }\n        subscriptions.push($$deleteStore.subscribe((storeName) => {\n            if (stores[storeName]) {\n                if (persistOnDestroy === false) {\n                    save({ [storeName]: false });\n                }\n                stores[storeName].unsubscribe();\n                delete stores[storeName];\n            }\n        }));\n        subscriptions.push($$addStore.subscribe((storeName) => {\n            if (storeName === 'router') {\n                return;\n            }\n            const store = __stores__[storeName];\n            if (hasInclude) {\n                let path = includeStores[storeName];\n                if (!path) {\n                    const passPredicate = includeStores.fns.some((fn) => fn(storeName));\n                    if (passPredicate) {\n                        path = storeName;\n                    }\n                    else {\n                        return;\n                    }\n                }\n                setInitial(storeName, store, path);\n                subscribe(storeName, path);\n            }\n            else {\n                setInitial(storeName, store, storeName);\n                subscribe(storeName, storeName);\n            }\n        }));\n        _persistStateInit.next();\n    });\n    return {\n        destroy() {\n            subscriptions.forEach((s) => s.unsubscribe());\n            for (let i = 0, keys = Object.keys(stores); i < keys.length; i++) {\n                const storeName = keys[i];\n                stores[storeName].unsubscribe();\n            }\n            stores = {};\n        },\n        clear() {\n            storage.clear();\n        },\n        clearStore(storeName) {\n            if (isNil(storeName)) {\n                const value = observify(storage.setItem(key, '{}'));\n                value.subscribe();\n                return;\n            }\n            const value = storage.getItem(key);\n            observify(value).subscribe((v) => {\n                const storageState = deserialize(v || '{}');\n                if (storageState[storeName]) {\n                    delete storageState[storeName];\n                    const value = observify(storage.setItem(key, serialize(storageState)));\n                    value.subscribe();\n                }\n            });\n        },\n    };\n}\n\nclass AkitaPlugin {\n    constructor(query, config) {\n        this.query = query;\n        if (config && config.resetFn) {\n            if (getAkitaConfig().resettable) {\n                this.onReset(config.resetFn);\n            }\n        }\n    }\n    /** This method is responsible for getting access to the query. */\n    getQuery() {\n        return this.query;\n    }\n    /** This method is responsible for getting access to the store. */\n    getStore() {\n        return this.getQuery().__store__;\n    }\n    /** This method is responsible tells whether the plugin is entityBased or not.  */\n    isEntityBased(entityId) {\n        return toBoolean(entityId);\n    }\n    /** This method is responsible for selecting the source; it can be the whole store or one entity. */\n    selectSource(entityId, property) {\n        if (this.isEntityBased(entityId)) {\n            return this.getQuery().selectEntity(entityId).pipe(filterNilValue());\n        }\n        if (property) {\n            return this.getQuery().select((state) => getValue(state, this.withStoreName(property)));\n        }\n        return this.getQuery().select();\n    }\n    getSource(entityId, property) {\n        if (this.isEntityBased(entityId)) {\n            return this.getQuery().getEntity(entityId);\n        }\n        const state = this.getQuery().getValue();\n        if (property) {\n            return getValue(state, this.withStoreName(property));\n        }\n        return state;\n    }\n    withStoreName(prop) {\n        return `${this.storeName}.${prop}`;\n    }\n    get storeName() {\n        return this.getStore().storeName;\n    }\n    /** This method is responsible for updating the store or one entity; it can be the whole store or one entity. */\n    updateStore(newState, entityId, property, replace = false) {\n        if (this.isEntityBased(entityId)) {\n            const store = this.getStore();\n            replace ? store.replace(entityId, newState) : store.update(entityId, newState);\n        }\n        else {\n            if (property) {\n                this.getStore()._setState((state) => {\n                    return setValue(state, this.withStoreName(property), newState, true);\n                });\n                return;\n            }\n            const nextState = replace ? newState : (state) => (Object.assign(Object.assign({}, state), newState));\n            this.getStore()._setState(nextState);\n        }\n    }\n    /**\n     * Function to invoke upon reset\n     */\n    onReset(fn) {\n        const original = this.getStore().reset;\n        this.getStore().reset = (...params) => {\n            /** It should run after the plugin destroy method */\n            setTimeout(() => {\n                original.apply(this.getStore(), params);\n                fn();\n            });\n        };\n    }\n}\n\nconst ɵ0 = (head, current) => JSON.stringify(head) !== JSON.stringify(current);\nconst dirtyCheckDefaultParams = {\n    comparator: ɵ0,\n};\nfunction getNestedPath(nestedObj, path) {\n    const pathAsArray = path.split('.');\n    return pathAsArray.reduce((obj, key) => (obj && obj[key] !== 'undefined' ? obj[key] : undefined), nestedObj);\n}\nclass DirtyCheckPlugin extends AkitaPlugin {\n    constructor(query, params, _entityId) {\n        super(query);\n        this.query = query;\n        this.params = params;\n        this._entityId = _entityId;\n        this.dirty = new BehaviorSubject(false);\n        this.active = false;\n        this._reset = new Subject();\n        this.isDirty$ = this.dirty.asObservable().pipe(distinctUntilChanged());\n        this.reset$ = this._reset.asObservable();\n        this.params = Object.assign(Object.assign({}, dirtyCheckDefaultParams), params);\n        if (this.params.watchProperty) {\n            const watchProp = coerceArray(this.params.watchProperty);\n            if (query instanceof QueryEntity && watchProp.includes('entities') && !watchProp.includes('ids')) {\n                watchProp.push('ids');\n            }\n            this.params.watchProperty = watchProp;\n        }\n    }\n    reset(params = {}) {\n        let currentValue = this.head;\n        if (isFunction(params.updateFn)) {\n            if (this.isEntityBased(this._entityId)) {\n                currentValue = params.updateFn(this.head, this.getQuery().getEntity(this._entityId));\n            }\n            else {\n                currentValue = params.updateFn(this.head, this.getQuery().getValue());\n            }\n        }\n        logAction(`@DirtyCheck - Revert`);\n        this.updateStore(currentValue, this._entityId);\n        this._reset.next();\n    }\n    setHead() {\n        if (!this.active) {\n            this.activate();\n            this.active = true;\n        }\n        else {\n            this.head = this._getHead();\n        }\n        this.updateDirtiness(false);\n        return this;\n    }\n    isDirty() {\n        return !!this.dirty.value;\n    }\n    hasHead() {\n        return !!this.getHead();\n    }\n    destroy() {\n        this.head = null;\n        this.subscription && this.subscription.unsubscribe();\n        this._reset && this._reset.complete();\n    }\n    isPathDirty(path) {\n        const head = this.getHead();\n        const current = this.getQuery().getValue();\n        const currentPathValue = getNestedPath(current, path);\n        const headPathValue = getNestedPath(head, path);\n        return this.params.comparator(currentPathValue, headPathValue);\n    }\n    getHead() {\n        return this.head;\n    }\n    activate() {\n        this.head = this._getHead();\n        /** if we are tracking specific properties select only the relevant ones */\n        const sources = this.params.watchProperty\n            ? this.params.watchProperty.map((prop) => this.query\n                .select((state) => state[prop])\n                .pipe(map((val) => ({\n                val,\n                __akitaKey: prop,\n            }))))\n            : [this.selectSource(this._entityId)];\n        this.subscription = combineLatest(sources)\n            .pipe(skip(1))\n            .subscribe((currentState) => {\n            if (isUndefined(this.head))\n                return;\n            /** __akitaKey is used to determine if we are tracking a specific property or a store change */\n            const isChange = currentState.some((state) => {\n                const head = state.__akitaKey ? this.head[state.__akitaKey] : this.head;\n                const compareTo = state.__akitaKey ? state.val : state;\n                return this.params.comparator(head, compareTo);\n            });\n            this.updateDirtiness(isChange);\n        });\n    }\n    updateDirtiness(isDirty) {\n        this.dirty.next(isDirty);\n    }\n    _getHead() {\n        let head = this.getSource(this._entityId);\n        if (this.params.watchProperty) {\n            head = this.getWatchedValues(head);\n        }\n        return head;\n    }\n    getWatchedValues(source) {\n        return this.params.watchProperty.reduce((watched, prop) => {\n            watched[prop] = source[prop];\n            return watched;\n        }, {});\n    }\n}\n\n/**\n * Each plugin that wants to add support for entities should extend this interface.\n */\nclass EntityCollectionPlugin {\n    constructor(query, entityIds) {\n        this.query = query;\n        this.entityIds = entityIds;\n        this.entities = new Map();\n    }\n    /**\n     * Get the entity plugin instance.\n     */\n    getEntity(id) {\n        return this.entities.get(id);\n    }\n    /**\n     * Whether the entity plugin exist.\n     */\n    hasEntity(id) {\n        return this.entities.has(id);\n    }\n    /**\n     * Remove the entity plugin instance.\n     */\n    removeEntity(id) {\n        this.destroy(id);\n        return this.entities.delete(id);\n    }\n    /**\n     * Set the entity plugin instance.\n     */\n    createEntity(id, plugin) {\n        return this.entities.set(id, plugin);\n    }\n    /**\n     * If the user passes `entityIds` we take them; otherwise, we take all.\n     */\n    getIds() {\n        return isUndefined(this.entityIds) ? this.query.getValue().ids : coerceArray(this.entityIds);\n    }\n    /**\n     * When you call one of the plugin methods, you can pass id/ids or undefined which means all.\n     */\n    resolvedIds(ids) {\n        return isUndefined(ids) ? this.getIds() : coerceArray(ids);\n    }\n    /**\n     * Call this method when you want to activate the plugin on init or when you need to listen to add/remove of entities dynamically.\n     *\n     * For example in your plugin you may do the following:\n     *\n     * this.query.select(state => state.ids).pipe(skip(1)).subscribe(ids => this.activate(ids));\n     */\n    rebase(ids, actions = {}) {\n        /**\n         *\n         * If the user passes `entityIds` & we have new ids check if we need to add/remove instances.\n         *\n         * This phase will be called only upon update.\n         */\n        if (toBoolean(ids)) {\n            /**\n             * Which means all\n             */\n            if (isUndefined(this.entityIds)) {\n                for (let i = 0, len = ids.length; i < len; i++) {\n                    const entityId = ids[i];\n                    if (this.hasEntity(entityId) === false) {\n                        isFunction(actions.beforeAdd) && actions.beforeAdd(entityId);\n                        const plugin = this.instantiatePlugin(entityId);\n                        this.entities.set(entityId, plugin);\n                        isFunction(actions.afterAdd) && actions.afterAdd(plugin);\n                    }\n                }\n                this.entities.forEach((plugin, entityId) => {\n                    if (ids.indexOf(entityId) === -1) {\n                        isFunction(actions.beforeRemove) && actions.beforeRemove(plugin);\n                        this.removeEntity(entityId);\n                    }\n                });\n            }\n            else {\n                /**\n                 * Which means the user passes specific ids\n                 */\n                const _ids = coerceArray(this.entityIds);\n                for (let i = 0, len = _ids.length; i < len; i++) {\n                    const entityId = _ids[i];\n                    /** The Entity in current ids and doesn't exist, add it. */\n                    if (ids.indexOf(entityId) > -1 && this.hasEntity(entityId) === false) {\n                        isFunction(actions.beforeAdd) && actions.beforeAdd(entityId);\n                        const plugin = this.instantiatePlugin(entityId);\n                        this.entities.set(entityId, plugin);\n                        isFunction(actions.afterAdd) && actions.afterAdd(plugin);\n                    }\n                    else {\n                        this.entities.forEach((plugin, entityId) => {\n                            /** The Entity not in current ids and exists, remove it. */\n                            if (ids.indexOf(entityId) === -1 && this.hasEntity(entityId) === true) {\n                                isFunction(actions.beforeRemove) && actions.beforeRemove(plugin);\n                                this.removeEntity(entityId);\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        else {\n            /**\n             * Otherwise, start with the provided ids or all.\n             */\n            this.getIds().forEach(id => {\n                if (!this.hasEntity(id))\n                    this.createEntity(id, this.instantiatePlugin(id));\n            });\n        }\n    }\n    /**\n     * Listen for add/remove entities.\n     */\n    selectIds() {\n        return this.query.select(state => state.ids);\n    }\n    /**\n     * Base method for activation, you can override it if you need to.\n     */\n    activate(ids) {\n        this.rebase(ids);\n    }\n    /**\n     * Loop over each id and invoke the plugin method.\n     */\n    forEachId(ids, cb) {\n        const _ids = this.resolvedIds(ids);\n        for (let i = 0, len = _ids.length; i < len; i++) {\n            const id = _ids[i];\n            if (this.hasEntity(id)) {\n                cb(this.getEntity(id));\n            }\n        }\n    }\n}\n\nclass EntityDirtyCheckPlugin extends EntityCollectionPlugin {\n    constructor(query, params = {}) {\n        super(query, params.entityIds);\n        this.query = query;\n        this.params = params;\n        this._someDirty = new Subject();\n        this.someDirty$ = merge(this.query.select(state => state.entities), this._someDirty.asObservable()).pipe(auditTime(0), map(() => this.checkSomeDirty()));\n        this.params = Object.assign(Object.assign({}, dirtyCheckDefaultParams), params);\n        // TODO lazy activate?\n        this.activate();\n        this.selectIds()\n            .pipe(skip(1))\n            .subscribe(ids => {\n            super.rebase(ids, { afterAdd: plugin => plugin.setHead() });\n        });\n    }\n    setHead(ids) {\n        if (this.params.entityIds && ids) {\n            const toArray = coerceArray(ids);\n            const someAreWatched = coerceArray(this.params.entityIds).some(id => toArray.indexOf(id) > -1);\n            if (someAreWatched === false) {\n                return this;\n            }\n        }\n        this.forEachId(ids, e => e.setHead());\n        this._someDirty.next();\n        return this;\n    }\n    hasHead(id) {\n        if (this.entities.has(id)) {\n            const entity = this.getEntity(id);\n            return entity.hasHead();\n        }\n        return false;\n    }\n    reset(ids, params = {}) {\n        this.forEachId(ids, e => e.reset(params));\n    }\n    isDirty(id, asObservable = true) {\n        if (this.entities.has(id)) {\n            const entity = this.getEntity(id);\n            return asObservable ? entity.isDirty$ : entity.isDirty();\n        }\n        return false;\n    }\n    someDirty() {\n        return this.checkSomeDirty();\n    }\n    isPathDirty(id, path) {\n        if (this.entities.has(id)) {\n            const head = this.getEntity(id).getHead();\n            const current = this.query.getEntity(id);\n            const currentPathValue = getNestedPath(current, path);\n            const headPathValue = getNestedPath(head, path);\n            return this.params.comparator(currentPathValue, headPathValue);\n        }\n        return null;\n    }\n    destroy(ids) {\n        this.forEachId(ids, e => e.destroy());\n        /** complete only when the plugin destroys */\n        if (!ids) {\n            this._someDirty.complete();\n        }\n    }\n    instantiatePlugin(id) {\n        return new DirtyCheckPlugin(this.query, this.params, id);\n    }\n    checkSomeDirty() {\n        const entitiesIds = this.resolvedIds();\n        for (const id of entitiesIds) {\n            if (this.getEntity(id).isDirty()) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\nconst paginatorDefaults = {\n    pagesControls: false,\n    range: false,\n    startWith: 1,\n    cacheTimeout: undefined,\n    clearStoreWithCache: true,\n};\nclass PaginatorPlugin extends AkitaPlugin {\n    constructor(query, config = {}) {\n        super(query, {\n            resetFn: () => {\n                this.initial = false;\n                this.destroy({ clearCache: true, currentPage: 1 });\n            },\n        });\n        this.query = query;\n        this.config = config;\n        /** Save current filters, sorting, etc. in cache */\n        this.metadata = new Map();\n        this.pages = new Map();\n        this.pagination = {\n            currentPage: 1,\n            perPage: 0,\n            total: 0,\n            lastPage: 0,\n            data: [],\n        };\n        /**\n         * When the user navigates to a different page and return\n         * we don't want to call `clearCache` on first time.\n         */\n        this.initial = true;\n        /**\n         * Proxy to the query loading\n         */\n        this.isLoading$ = this.query.selectLoading().pipe(delay(0));\n        this.config = Object.assign(Object.assign({}, paginatorDefaults), config);\n        const { startWith, cacheTimeout } = this.config;\n        this.page = new BehaviorSubject(startWith);\n        if (isObservable(cacheTimeout)) {\n            this.clearCacheSubscription = cacheTimeout.subscribe(() => this.clearCache());\n        }\n    }\n    /**\n     * Listen to page changes\n     */\n    get pageChanges() {\n        return this.page.asObservable();\n    }\n    /**\n     * Get the current page number\n     */\n    get currentPage() {\n        return this.pagination.currentPage;\n    }\n    /**\n     * Check if current page is the first one\n     */\n    get isFirst() {\n        return this.currentPage === 1;\n    }\n    /**\n     * Check if current page is the last one\n     */\n    get isLast() {\n        return this.currentPage === this.pagination.lastPage;\n    }\n    /**\n     * Whether to generate an array of pages for *ngFor\n     * [1, 2, 3, 4]\n     */\n    withControls() {\n        this.config.pagesControls = true;\n        return this;\n    }\n    /**\n     * Whether to generate the `from` and `to` keys\n     * [1, 2, 3, 4]\n     */\n    withRange() {\n        this.config.range = true;\n        return this;\n    }\n    /**\n     * Set the loading state\n     */\n    setLoading(value = true) {\n        this.getStore().setLoading(value);\n    }\n    /**\n     * Update the pagination object and add the page\n     */\n    update(response) {\n        this.pagination = response;\n        this.addPage(response.data);\n    }\n    /**\n     *\n     * Set the ids and add the page to store\n     */\n    addPage(data) {\n        this.pages.set(this.currentPage, { ids: data.map((entity) => entity[this.getStore().idKey]) });\n        this.getStore().upsertMany(data);\n    }\n    /**\n     * Clear the cache.\n     */\n    clearCache(options = {}) {\n        if (!this.initial) {\n            logAction('@Pagination - Clear Cache');\n            if (options.clearStore !== false && (this.config.clearStoreWithCache || options.clearStore)) {\n                this.getStore().remove();\n            }\n            this.pages = new Map();\n            this.metadata = new Map();\n        }\n        this.initial = false;\n    }\n    clearPage(page) {\n        this.pages.delete(page);\n    }\n    /**\n     * Clear the cache timeout and optionally the pages\n     */\n    destroy({ clearCache, currentPage } = {}) {\n        if (this.clearCacheSubscription) {\n            this.clearCacheSubscription.unsubscribe();\n        }\n        if (clearCache) {\n            this.clearCache();\n        }\n        if (!isUndefined(currentPage)) {\n            this.setPage(currentPage);\n        }\n        this.initial = true;\n    }\n    /**\n     * Whether the provided page is active\n     */\n    isPageActive(page) {\n        return this.currentPage === page;\n    }\n    /**\n     * Set the current page\n     */\n    setPage(page) {\n        if (page !== this.currentPage || !this.hasPage(page)) {\n            this.page.next((this.pagination.currentPage = page));\n        }\n    }\n    /**\n     * Increment current page\n     */\n    nextPage() {\n        if (this.currentPage !== this.pagination.lastPage) {\n            this.setPage(this.pagination.currentPage + 1);\n        }\n    }\n    /**\n     * Decrement current page\n     */\n    prevPage() {\n        if (this.pagination.currentPage > 1) {\n            this.setPage(this.pagination.currentPage - 1);\n        }\n    }\n    /**\n     * Set current page to last\n     */\n    setLastPage() {\n        this.setPage(this.pagination.lastPage);\n    }\n    /**\n     * Set current page to first\n     */\n    setFirstPage() {\n        this.setPage(1);\n    }\n    /**\n     * Check if page exists in cache\n     */\n    hasPage(page) {\n        return this.pages.has(page);\n    }\n    /**\n     * Get the current page if it's in cache, otherwise invoke the request\n     */\n    getPage(req) {\n        let page = this.pagination.currentPage;\n        if (this.hasPage(page)) {\n            return this.selectPage(page);\n        }\n        else {\n            this.setLoading(true);\n            return from(req()).pipe(switchMap((config) => {\n                page = config.currentPage;\n                applyTransaction(() => {\n                    this.setLoading(false);\n                    this.update(config);\n                });\n                return this.selectPage(page);\n            }));\n        }\n    }\n    getQuery() {\n        return this.query;\n    }\n    refreshCurrentPage() {\n        if (isNil(this.currentPage) === false) {\n            this.clearPage(this.currentPage);\n            this.setPage(this.currentPage);\n        }\n    }\n    getFrom() {\n        if (this.isFirst) {\n            return 1;\n        }\n        return (this.currentPage - 1) * this.pagination.perPage + 1;\n    }\n    getTo() {\n        if (this.isLast) {\n            return this.pagination.total;\n        }\n        return this.currentPage * this.pagination.perPage;\n    }\n    /**\n     * Select the page\n     */\n    selectPage(page) {\n        return this.query.selectAll({ asObject: true }).pipe(take(1), map((entities) => {\n            const response = Object.assign(Object.assign({}, this.pagination), { data: this.pages.get(page).ids.map((id) => entities[id]) });\n            const { range, pagesControls } = this.config;\n            /** If no total - calc it */\n            if (isNaN(this.pagination.total)) {\n                if (response.lastPage === 1) {\n                    response.total = response.data ? response.data.length : 0;\n                }\n                else {\n                    response.total = response.perPage * response.lastPage;\n                }\n                this.pagination.total = response.total;\n            }\n            if (range) {\n                response.from = this.getFrom();\n                response.to = this.getTo();\n            }\n            if (pagesControls) {\n                response.pageControls = generatePages(this.pagination.total, this.pagination.perPage);\n            }\n            return response;\n        }));\n    }\n}\n__decorate([\n    action('@Pagination - New Page'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", [Object]),\n    __metadata(\"design:returntype\", void 0)\n], PaginatorPlugin.prototype, \"update\", null);\n\n/**\n * Generate an array so we can ngFor them to navigate between pages\n */\nfunction generatePages(total, perPage) {\n    const len = Math.ceil(total / perPage);\n    const arr = [];\n    for (let i = 0; i < len; i++) {\n        arr.push(i + 1);\n    }\n    return arr;\n}\n/** backward compatibility */\nconst Paginator = PaginatorPlugin;\n\nclass PersistNgFormPlugin extends AkitaPlugin {\n    constructor(query, factoryFnOrPath, params = {}) {\n        super(query);\n        this.query = query;\n        this.factoryFnOrPath = factoryFnOrPath;\n        this.params = params;\n        this.params = Object.assign({ debounceTime: 300, formKey: 'akitaForm', emitEvent: false, arrControlFactory: v => this.builder.control(v) }, params);\n        this.isRootKeys = toBoolean(factoryFnOrPath) === false;\n        this.isKeyBased = isString(factoryFnOrPath) || this.isRootKeys;\n    }\n    setForm(form, builder) {\n        this.form = form;\n        this.builder = builder;\n        this.activate();\n        return this;\n    }\n    reset(initialState) {\n        let value;\n        if (initialState) {\n            value = initialState;\n        }\n        else {\n            value = this.isKeyBased ? this.initialValue : this.factoryFnOrPath();\n        }\n        if (this.isKeyBased) {\n            Object.keys(this.initialValue).forEach(stateKey => {\n                const value = this.initialValue[stateKey];\n                if (Array.isArray(value) && this.builder) {\n                    const formArray = this.form.controls[stateKey];\n                    this.cleanArray(formArray);\n                    value.forEach((v, i) => {\n                        this.form.get(stateKey).insert(i, this.params.arrControlFactory(v));\n                    });\n                }\n            });\n        }\n        this.form.patchValue(value, { emitEvent: this.params.emitEvent });\n        const storeValue = this.isKeyBased ? setValue(this.getQuery().getValue(), `${this.getStore().storeName}.${this.factoryFnOrPath}`, value) : { [this.params.formKey]: value };\n        this.updateStore(storeValue);\n    }\n    cleanArray(control) {\n        while (control.length !== 0) {\n            control.removeAt(0);\n        }\n    }\n    resolveInitialValue(formValue, root) {\n        if (!formValue)\n            return;\n        return Object.keys(formValue).reduce((acc, stateKey) => {\n            const value = root[stateKey];\n            if (Array.isArray(value) && this.builder) {\n                const factory = this.params.arrControlFactory;\n                this.cleanArray(this.form.get(stateKey));\n                value.forEach((v, i) => {\n                    this.form.get(stateKey).insert(i, factory(v));\n                });\n            }\n            acc[stateKey] = root[stateKey];\n            return acc;\n        }, {});\n    }\n    activate() {\n        let path;\n        if (this.isKeyBased) {\n            if (this.isRootKeys) {\n                this.initialValue = this.resolveInitialValue(this.form.value, this.getQuery().getValue());\n                this.form.patchValue(this.initialValue, { emitEvent: this.params.emitEvent });\n            }\n            else {\n                path = `${this.getStore().storeName}.${this.factoryFnOrPath}`;\n                const root = getValue(this.getQuery().getValue(), path);\n                this.initialValue = this.resolveInitialValue(root, root);\n                this.form.patchValue(this.initialValue, { emitEvent: this.params.emitEvent });\n            }\n        }\n        else {\n            if (!this.getQuery().getValue()[this.params.formKey]) {\n                logAction('@PersistNgFormPlugin activate');\n                this.updateStore({ [this.params.formKey]: this.factoryFnOrPath() });\n            }\n            const value = this.getQuery().getValue()[this.params.formKey];\n            this.form.patchValue(value);\n        }\n        this.formChanges = this.form.valueChanges.pipe(debounceTime(this.params.debounceTime)).subscribe(value => {\n            logAction('@PersistForm - Update');\n            let newState;\n            if (this.isKeyBased) {\n                if (this.isRootKeys) {\n                    newState = state => (Object.assign(Object.assign({}, state), value));\n                }\n                else {\n                    newState = state => setValue(state, path, value);\n                }\n            }\n            else {\n                newState = () => ({ [this.params.formKey]: value });\n            }\n            this.updateStore(newState(this.getQuery().getValue()));\n        });\n    }\n    destroy() {\n        this.formChanges && this.formChanges.unsubscribe();\n        this.form = null;\n        this.builder = null;\n    }\n}\n\nclass StateHistoryPlugin extends AkitaPlugin {\n    constructor(query, params = {}, _entityId) {\n        super(query, {\n            resetFn: () => this.clear(),\n        });\n        this.query = query;\n        this.params = params;\n        this._entityId = _entityId;\n        /** Allow skipping an update from outside */\n        this.skip = false;\n        this.history = {\n            past: [],\n            present: null,\n            future: [],\n        };\n        /** Skip the update when redo/undo */\n        this.skipUpdate = false;\n        params.maxAge = !!params.maxAge ? params.maxAge : 10;\n        params.comparator = params.comparator || (() => true);\n        this.activate();\n    }\n    /**\n     * Observable stream representing whether the history plugin has an available past\n     *\n     */\n    get hasPast$() {\n        return this._hasPast$;\n    }\n    /**\n     * Observable stream representing whether the history plugin has an available future\n     *\n     */\n    get hasFuture$() {\n        return this._hasFuture$;\n    }\n    get hasPast() {\n        return this.history.past.length > 0;\n    }\n    get hasFuture() {\n        return this.history.future.length > 0;\n    }\n    get property() {\n        return this.params.watchProperty;\n    }\n    /* Updates the hasPast$ hasFuture$ observables*/\n    updateHasHistory() {\n        this.hasFutureSubject.next(this.hasFuture);\n        this.hasPastSubject.next(this.hasPast);\n    }\n    activate() {\n        this.hasPastSubject = new BehaviorSubject(false);\n        this._hasPast$ = this.hasPastSubject.asObservable().pipe(distinctUntilChanged());\n        this.hasFutureSubject = new BehaviorSubject(false);\n        this._hasFuture$ = this.hasFutureSubject.asObservable().pipe(distinctUntilChanged());\n        this.history.present = this.getSource(this._entityId, this.property);\n        this.subscription = this\n            .selectSource(this._entityId, this.property)\n            .pipe(pairwise())\n            .subscribe(([past, present]) => {\n            if (this.skip) {\n                this.skip = false;\n                return;\n            }\n            /**\n             *  comparator: (prev, current) => isEqual(prev, current) === false\n             */\n            const shouldUpdate = this.params.comparator(past, present);\n            if (!this.skipUpdate && shouldUpdate) {\n                if (this.history.past.length === this.params.maxAge) {\n                    this.history.past = this.history.past.slice(1);\n                }\n                this.history.past = [...this.history.past, past];\n                this.history.present = present;\n                this.updateHasHistory();\n            }\n        });\n    }\n    undo() {\n        if (this.history.past.length > 0) {\n            const { past, present } = this.history;\n            const previous = past[past.length - 1];\n            this.history.past = past.slice(0, past.length - 1);\n            this.history.present = previous;\n            this.history.future = [present, ...this.history.future];\n            this.update();\n        }\n    }\n    redo() {\n        if (this.history.future.length > 0) {\n            const { past, present } = this.history;\n            const next = this.history.future[0];\n            const newFuture = this.history.future.slice(1);\n            this.history.past = [...past, present];\n            this.history.present = next;\n            this.history.future = newFuture;\n            this.update('Redo');\n        }\n    }\n    jumpToPast(index) {\n        if (index < 0 || index >= this.history.past.length)\n            return;\n        const { past, future, present } = this.history;\n        /**\n         *\n         * const past = [1, 2, 3, 4, 5];\n         * const present = 6;\n         * const future = [7, 8, 9];\n         * const index = 2;\n         *\n         * newPast = past.slice(0, index) = [1, 2];\n         * newPresent = past[index] = 3;\n         * newFuture = [...past.slice(index + 1),present, ...future] = [4, 5, 6, 7, 8, 9];\n         *\n         */\n        const newPast = past.slice(0, index);\n        const newFuture = [...past.slice(index + 1), present, ...future];\n        const newPresent = past[index];\n        this.history.past = newPast;\n        this.history.present = newPresent;\n        this.history.future = newFuture;\n        this.update();\n    }\n    jumpToFuture(index) {\n        if (index < 0 || index >= this.history.future.length)\n            return;\n        const { past, future, present } = this.history;\n        /**\n         *\n         * const past = [1, 2, 3, 4, 5];\n         * const present = 6;\n         * const future = [7, 8, 9, 10]\n         * const index = 1\n         *\n         * newPast = [...past, present, ...future.slice(0, index) = [1, 2, 3, 4, 5, 6, 7];\n         * newPresent = future[index] = 8;\n         * newFuture = futrue.slice(index+1) = [9, 10];\n         *\n         */\n        const newPast = [...past, present, ...future.slice(0, index)];\n        const newPresent = future[index];\n        const newFuture = future.slice(index + 1);\n        this.history.past = newPast;\n        this.history.present = newPresent;\n        this.history.future = newFuture;\n        this.update('Redo');\n    }\n    /**\n     *\n     * jump n steps in the past or forward\n     *\n     */\n    jump(n) {\n        if (n > 0)\n            return this.jumpToFuture(n - 1);\n        if (n < 0)\n            return this.jumpToPast(this.history.past.length + n);\n    }\n    /**\n     * Clear the history\n     *\n     * @param customUpdateFn Callback function for only clearing part of the history\n     *\n     * @example\n     *\n     * stateHistory.clear((history) => {\n     *  return {\n     *    past: history.past,\n     *    present: history.present,\n     *    future: []\n     *  };\n     * });\n     */\n    clear(customUpdateFn) {\n        this.history = isFunction(customUpdateFn)\n            ? customUpdateFn(this.history)\n            : {\n                past: [],\n                present: null,\n                future: [],\n            };\n        this.updateHasHistory();\n    }\n    destroy(clearHistory = false) {\n        if (clearHistory) {\n            this.clear();\n        }\n        this.subscription.unsubscribe();\n    }\n    ignoreNext() {\n        this.skip = true;\n    }\n    update(action = 'Undo') {\n        this.skipUpdate = true;\n        logAction(`@StateHistory - ${action}`);\n        this.updateStore(this.history.present, this._entityId, this.property, true);\n        this.updateHasHistory();\n        this.skipUpdate = false;\n    }\n}\n\nclass EntityStateHistoryPlugin extends EntityCollectionPlugin {\n    constructor(query, params = {}) {\n        super(query, params.entityIds);\n        this.query = query;\n        this.params = params;\n        params.maxAge = toBoolean(params.maxAge) ? params.maxAge : 10;\n        this.activate();\n        this.selectIds()\n            .pipe(skip(1))\n            .subscribe((ids) => this.activate(ids));\n    }\n    redo(ids) {\n        this.forEachId(ids, (e) => e.redo());\n    }\n    undo(ids) {\n        this.forEachId(ids, (e) => e.undo());\n    }\n    hasPast(id) {\n        if (this.hasEntity(id)) {\n            return this.getEntity(id).hasPast;\n        }\n    }\n    hasFuture(id) {\n        if (this.hasEntity(id)) {\n            return this.getEntity(id).hasFuture;\n        }\n    }\n    jumpToFuture(ids, index) {\n        this.forEachId(ids, (e) => e.jumpToFuture(index));\n    }\n    jumpToPast(ids, index) {\n        this.forEachId(ids, (e) => e.jumpToPast(index));\n    }\n    clear(ids, customUpdateFn) {\n        this.forEachId(ids, (e) => e.clear(customUpdateFn));\n    }\n    destroy(ids, clearHistory = false) {\n        this.forEachId(ids, (e) => e.destroy(clearHistory));\n    }\n    ignoreNext(ids) {\n        this.forEachId(ids, (e) => e.ignoreNext());\n    }\n    instantiatePlugin(id) {\n        return new StateHistoryPlugin(this.query, this.params, id);\n    }\n}\n\n/**\n * Reset stores back to their initial state\n *\n * @example\n *\n * resetStores()\n * resetStores({\n *   exclude: ['auth']\n * })\n */\nfunction resetStores(options) {\n    const defaults = {\n        exclude: []\n    };\n    options = Object.assign({}, defaults, options);\n    const stores = Object.keys(__stores__);\n    applyTransaction(() => {\n        for (const store of stores) {\n            const s = __stores__[store];\n            if (!options.exclude) {\n                s.reset();\n            }\n            else {\n                if (options.exclude.indexOf(s.storeName) === -1) {\n                    s.reset();\n                }\n            }\n        }\n    });\n}\n\nvar StoreAction;\n(function (StoreAction) {\n    StoreAction[\"Update\"] = \"UPDATE\";\n})(StoreAction || (StoreAction = {}));\nconst StoreActionMapping = {\n    [StoreAction.Update]: 'update',\n};\nvar EntityStoreAction;\n(function (EntityStoreAction) {\n    EntityStoreAction[\"Update\"] = \"UPDATE\";\n    EntityStoreAction[\"AddEntities\"] = \"ADD_ENTITIES\";\n    EntityStoreAction[\"SetEntities\"] = \"SET_ENTITIES\";\n    EntityStoreAction[\"UpdateEntities\"] = \"UPDATE_ENTITIES\";\n    EntityStoreAction[\"RemoveEntities\"] = \"REMOVE_ENTITIES\";\n    EntityStoreAction[\"UpsertEntities\"] = \"UPSERT_ENTITIES\";\n    EntityStoreAction[\"UpsertManyEntities\"] = \"UPSERT_MANY_ENTITIES\";\n})(EntityStoreAction || (EntityStoreAction = {}));\nconst EntityStoreActionMapping = {\n    [EntityStoreAction.Update]: 'update',\n    [EntityStoreAction.AddEntities]: 'add',\n    [EntityStoreAction.SetEntities]: 'set',\n    [EntityStoreAction.UpdateEntities]: 'update',\n    [EntityStoreAction.RemoveEntities]: 'remove',\n    [EntityStoreAction.UpsertEntities]: 'upsert',\n    [EntityStoreAction.UpsertManyEntities]: 'upsertMany',\n};\n/**\n * Get a {@link Store} from the global store registry.\n * @param storeClass The {@link Store} class of the instance to be returned.\n */\nfunction getStore(storeClass) {\n    return getStoreByName(storeClass[configKey]['storeName']);\n}\n/**\n * Get a {@link Store} from the global store registry.\n * @param storeName The {@link Store} name of the instance to be returned.\n */\nfunction getStoreByName(storeName) {\n    const store = __stores__[storeName];\n    if (isNil(store)) {\n        throw new AkitaError(`${store.storeName} doesn't exist`);\n    }\n    return store;\n}\n/**\n * Get a {@link EntityStore} from the global store registry.\n * @param storeClass The {@link EntityStore} class of the instance to be returned.\n */\nfunction getEntityStore(storeClass) {\n    return getStore(storeClass);\n}\n/**\n * Get a {@link EntityStore} from the global store registry.\n * @param storeName The {@link EntityStore} name of the instance to be returned.\n */\nfunction getEntityStoreByName(storeName) {\n    return getStoreByName(storeName);\n}\nfunction runStoreAction(storeClassOrName, action, operation) {\n    const store = typeof storeClassOrName === 'string' ? getStoreByName(storeClassOrName) : getStore(storeClassOrName);\n    operation(store[StoreActionMapping[action]].bind(store));\n}\nfunction runEntityStoreAction(storeClassOrName, action, operation) {\n    const store = typeof storeClassOrName === 'string' ? getEntityStoreByName(storeClassOrName) : getEntityStore(storeClassOrName);\n    operation(store[EntityStoreActionMapping[action]].bind(store));\n}\n\nfunction setLoading(store) {\n    return function (source) {\n        return defer(() => {\n            store.setLoading(true);\n            return source.pipe(finalize(() => store.setLoading(false)));\n        });\n    };\n}\n\nfunction setLoadingAndError(store) {\n    return function (source) {\n        return defer(() => {\n            store.setLoading(true);\n            store.setError(null);\n            return source.pipe(tap({\n                error(err) {\n                    store.setLoading(false);\n                    store.setError(err);\n                },\n                complete() {\n                    store.setLoading(false);\n                },\n            }));\n        });\n    };\n}\n\nclass SnapshotManager {\n    /**\n     * Get a snapshot of the whole state or a specific stores\n     * Use it ONLY for things such as saving the state in the server\n     */\n    getStoresSnapshot(stores = []) {\n        let acc = {};\n        const hasInclude = stores.length > 0;\n        const keys = hasInclude ? stores : Object.keys(__stores__);\n        for (let i = 0; i < keys.length; i++) {\n            let storeName = keys[i];\n            if (storeName !== 'router') {\n                acc[storeName] = __stores__[storeName]._value();\n            }\n        }\n        return acc;\n    }\n    setStoresSnapshot(stores, options) {\n        const mergedOptions = Object.assign({ skipStorageUpdate: false, lazy: false }, options);\n        mergedOptions.skipStorageUpdate && setSkipStorageUpdate(true);\n        let normalizedStores = stores;\n        if (isString(stores)) {\n            normalizedStores = JSON.parse(normalizedStores);\n        }\n        const size = Object.keys(normalizedStores).length;\n        if (mergedOptions.lazy) {\n            $$addStore\n                .pipe(filter(name => normalizedStores.hasOwnProperty(name)), take(size))\n                .subscribe(name => __stores__[name]._setState(() => normalizedStores[name]));\n        }\n        else {\n            for (let i = 0, keys = Object.keys(normalizedStores); i < keys.length; i++) {\n                const storeName = keys[i];\n                if (__stores__[storeName]) {\n                    __stores__[storeName]._setState(() => normalizedStores[storeName]);\n                }\n            }\n        }\n        mergedOptions.skipStorageUpdate && setSkipStorageUpdate(false);\n    }\n}\nconst snapshotManager = new SnapshotManager();\n\n// @internal\nfunction toEntitiesIds(entities, idKey = DEFAULT_ID_KEY) {\n    const ids = [];\n    for (const entity of entities) {\n        ids.push(entity[idKey]);\n    }\n    return ids;\n}\n\n/**\n * Track id updates of an entity and re-evaluation the query with the changed entity id.\n * Hint: Don't place the operator after other operators in the same pipeline as those will be skipped on\n * re-evaluation. Also, it can't be used with the selection operator, e.g <code>selectEntity(1, e => e.title)</code>\n * @param query The query from which the entity is selected.\n * @example\n *\n *   query.selectEntity(1).pipe(trackIdChanges(query)).subscribe(entity => { ... })\n *\n */\nfunction trackIdChanges(query) {\n    return (source) => source.lift(new TrackIdChanges(query));\n}\nclass TrackIdChanges {\n    constructor(query) {\n        this.query = query;\n    }\n    call(subscriber, source) {\n        return source\n            .pipe(first(), switchMap((entity) => {\n            let currId = entity[this.query.__store__.config.idKey];\n            let pending = false;\n            return merge(of({ newId: undefined, oldId: currId, pending: false }), this.query.__store__.selectEntityIdChanges$).pipe(\n            // the new id must differ form the old id\n            filter((change) => change.oldId === currId), \n            // extract the current pending state of the id update\n            tap((change) => (pending = change.pending)), \n            // only update the selection query if the id update is already applied to the store\n            filter((change) => change.newId !== currId && !pending), \n            // build a selection query for the new entity id\n            switchMap((change) => this.query\n                .selectEntity((currId = change.newId || currId))\n                // skip undefined value if pending.\n                .pipe(filter(() => !pending))));\n        }))\n            .subscribe(subscriber);\n    }\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { $$addStore, $$deleteStore, $$updateStore, AkitaPlugin, DEFAULT_ID_KEY, DirtyCheckPlugin, EntityActions, EntityCollectionPlugin, EntityDirtyCheckPlugin, EntityService, EntityStateHistoryPlugin, EntityStore, EntityStoreAction, EntityUIQuery, EntityUIStore, Order, Paginator, PaginatorPlugin, PersistNgFormPlugin, Query, QueryConfig, QueryEntity, SnapshotManager, StateHistoryPlugin, Store, StoreAction, StoreConfig, __DEV__, __stores__, action, addEntities, akitaConfig, akitaDevtools, applyTransaction, arrayAdd, arrayFind, arrayRemove, arrayToggle, arrayUpdate, arrayUpsert, byId, byKey, cacheable, coerceArray, combineQueries, commit, compareValues, configKey, createEntityQuery, createEntityStore, createQuery, createStore, currentAction, dirtyCheckDefaultParams, dispatchAdded, dispatchDeleted, dispatchUpdate, distinctUntilArrayItemChanged, enableAkitaProdMode, endBatch, entitiesToArray, entitiesToMap, filterNil, filterNilValue, find, getActiveEntities, getAkitaConfig, getEntityStore, getEntityStoreByName, getExitingActives, getInitialEntitiesState, getNestedPath, getStore, getStoreByName, getValue, guid, hasActiveState, hasEntity, isArray, isDefined, isDev, isEmpty, isEntityState, isFunction, isMultiActiveState, isNil, isNotBrowser, isNumber, isObject, isPlainObject, isString, isTransactionInProcess, isUndefined, logAction, persistState, queryConfigKey, removeAllEntities, removeEntities, resetCustomAction, resetStores, resolveActiveEntity, runEntityStoreAction, runStoreAction, selectPersistStateInit, setAction, setEntities, setLoading, setLoadingAndError, setSkipAction, setValue, snapshotManager, sortByOptions, startBatch, toBoolean, toEntitiesIds, toEntitiesObject, trackIdChanges, transaction, transactionManager, updateEntities, withTransaction, isBrowser as ɵa };\n\n//# sourceMappingURL=datorama-akita.js.map","import { ɵɵdefineInjectable, ɵɵinject, NgZone, Injectable, Inject, InjectionToken, Directive, ElementRef, Optional, Input, TemplateRef, EventEmitter, isDevMode, SkipSelf, ViewContainerRef, ChangeDetectorRef, ContentChildren, ContentChild, Output, NgModule } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { ViewportRuler, ScrollDispatcher, CdkScrollableModule } from '@angular/cdk/scrolling';\nimport { normalizePassiveListenerOptions, _getShadowRoot } from '@angular/cdk/platform';\nimport { coerceBooleanProperty, coerceElement, coerceNumberProperty, coerceArray } from '@angular/cdk/coercion';\nimport { Subject, Subscription, interval, animationFrameScheduler, Observable, merge } from 'rxjs';\nimport { takeUntil, map, take, startWith, tap, switchMap } from 'rxjs/operators';\nimport { Directionality } from '@angular/cdk/bidi';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Shallow-extends a stylesheet object with another stylesheet object.\n * @docs-private\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/scrolling';\nimport * as ɵngcc2 from '@angular/cdk/bidi';\nfunction extendStyles(dest, source) {\n    for (let key in source) {\n        if (source.hasOwnProperty(key)) {\n            dest[key] = source[key];\n        }\n    }\n    return dest;\n}\n/**\n * Toggles whether the native drag interactions should be enabled for an element.\n * @param element Element on which to toggle the drag interactions.\n * @param enable Whether the drag interactions should be enabled.\n * @docs-private\n */\nfunction toggleNativeDragInteractions(element, enable) {\n    const userSelect = enable ? '' : 'none';\n    extendStyles(element.style, {\n        touchAction: enable ? '' : 'none',\n        webkitUserDrag: enable ? '' : 'none',\n        webkitTapHighlightColor: enable ? '' : 'transparent',\n        userSelect: userSelect,\n        msUserSelect: userSelect,\n        webkitUserSelect: userSelect,\n        MozUserSelect: userSelect\n    });\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Parses a CSS time value to milliseconds. */\nfunction parseCssTimeUnitsToMs(value) {\n    // Some browsers will return it in seconds, whereas others will return milliseconds.\n    const multiplier = value.toLowerCase().indexOf('ms') > -1 ? 1 : 1000;\n    return parseFloat(value) * multiplier;\n}\n/** Gets the transform transition duration, including the delay, of an element in milliseconds. */\nfunction getTransformTransitionDurationInMs(element) {\n    const computedStyle = getComputedStyle(element);\n    const transitionedProperties = parseCssPropertyValue(computedStyle, 'transition-property');\n    const property = transitionedProperties.find(prop => prop === 'transform' || prop === 'all');\n    // If there's no transition for `all` or `transform`, we shouldn't do anything.\n    if (!property) {\n        return 0;\n    }\n    // Get the index of the property that we're interested in and match\n    // it up to the same index in `transition-delay` and `transition-duration`.\n    const propertyIndex = transitionedProperties.indexOf(property);\n    const rawDurations = parseCssPropertyValue(computedStyle, 'transition-duration');\n    const rawDelays = parseCssPropertyValue(computedStyle, 'transition-delay');\n    return parseCssTimeUnitsToMs(rawDurations[propertyIndex]) +\n        parseCssTimeUnitsToMs(rawDelays[propertyIndex]);\n}\n/** Parses out multiple values from a computed style into an array. */\nfunction parseCssPropertyValue(computedStyle, name) {\n    const value = computedStyle.getPropertyValue(name);\n    return value.split(',').map(part => part.trim());\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Gets a mutable version of an element's bounding `ClientRect`. */\nfunction getMutableClientRect(element) {\n    const clientRect = element.getBoundingClientRect();\n    // We need to clone the `clientRect` here, because all the values on it are readonly\n    // and we need to be able to update them. Also we can't use a spread here, because\n    // the values on a `ClientRect` aren't own properties. See:\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect#Notes\n    return {\n        top: clientRect.top,\n        right: clientRect.right,\n        bottom: clientRect.bottom,\n        left: clientRect.left,\n        width: clientRect.width,\n        height: clientRect.height\n    };\n}\n/**\n * Checks whether some coordinates are within a `ClientRect`.\n * @param clientRect ClientRect that is being checked.\n * @param x Coordinates along the X axis.\n * @param y Coordinates along the Y axis.\n */\nfunction isInsideClientRect(clientRect, x, y) {\n    const { top, bottom, left, right } = clientRect;\n    return y >= top && y <= bottom && x >= left && x <= right;\n}\n/**\n * Updates the top/left positions of a `ClientRect`, as well as their bottom/right counterparts.\n * @param clientRect `ClientRect` that should be updated.\n * @param top Amount to add to the `top` position.\n * @param left Amount to add to the `left` position.\n */\nfunction adjustClientRect(clientRect, top, left) {\n    clientRect.top += top;\n    clientRect.bottom = clientRect.top + clientRect.height;\n    clientRect.left += left;\n    clientRect.right = clientRect.left + clientRect.width;\n}\n/**\n * Checks whether the pointer coordinates are close to a ClientRect.\n * @param rect ClientRect to check against.\n * @param threshold Threshold around the ClientRect.\n * @param pointerX Coordinates along the X axis.\n * @param pointerY Coordinates along the Y axis.\n */\nfunction isPointerNearClientRect(rect, threshold, pointerX, pointerY) {\n    const { top, right, bottom, left, width, height } = rect;\n    const xThreshold = width * threshold;\n    const yThreshold = height * threshold;\n    return pointerY > top - yThreshold && pointerY < bottom + yThreshold &&\n        pointerX > left - xThreshold && pointerX < right + xThreshold;\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Keeps track of the scroll position and dimensions of the parents of an element. */\nclass ParentPositionTracker {\n    constructor(_document, _viewportRuler) {\n        this._document = _document;\n        this._viewportRuler = _viewportRuler;\n        /** Cached positions of the scrollable parent elements. */\n        this.positions = new Map();\n    }\n    /** Clears the cached positions. */\n    clear() {\n        this.positions.clear();\n    }\n    /** Caches the positions. Should be called at the beginning of a drag sequence. */\n    cache(elements) {\n        this.clear();\n        this.positions.set(this._document, {\n            scrollPosition: this._viewportRuler.getViewportScrollPosition(),\n        });\n        elements.forEach(element => {\n            this.positions.set(element, {\n                scrollPosition: { top: element.scrollTop, left: element.scrollLeft },\n                clientRect: getMutableClientRect(element)\n            });\n        });\n    }\n    /** Handles scrolling while a drag is taking place. */\n    handleScroll(event) {\n        const target = event.target;\n        const cachedPosition = this.positions.get(target);\n        if (!cachedPosition) {\n            return null;\n        }\n        // Used when figuring out whether an element is inside the scroll parent. If the scrolled\n        // parent is the `document`, we use the `documentElement`, because IE doesn't support\n        // `contains` on the `document`.\n        const scrolledParentNode = target === this._document ? target.documentElement : target;\n        const scrollPosition = cachedPosition.scrollPosition;\n        let newTop;\n        let newLeft;\n        if (target === this._document) {\n            const viewportScrollPosition = this._viewportRuler.getViewportScrollPosition();\n            newTop = viewportScrollPosition.top;\n            newLeft = viewportScrollPosition.left;\n        }\n        else {\n            newTop = target.scrollTop;\n            newLeft = target.scrollLeft;\n        }\n        const topDifference = scrollPosition.top - newTop;\n        const leftDifference = scrollPosition.left - newLeft;\n        // Go through and update the cached positions of the scroll\n        // parents that are inside the element that was scrolled.\n        this.positions.forEach((position, node) => {\n            if (position.clientRect && target !== node && scrolledParentNode.contains(node)) {\n                adjustClientRect(position.clientRect, topDifference, leftDifference);\n            }\n        });\n        scrollPosition.top = newTop;\n        scrollPosition.left = newLeft;\n        return { top: topDifference, left: leftDifference };\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Options that can be used to bind a passive event listener. */\nconst passiveEventListenerOptions = normalizePassiveListenerOptions({ passive: true });\n/** Options that can be used to bind an active event listener. */\nconst activeEventListenerOptions = normalizePassiveListenerOptions({ passive: false });\n/**\n * Time in milliseconds for which to ignore mouse events, after\n * receiving a touch event. Used to avoid doing double work for\n * touch devices where the browser fires fake mouse events, in\n * addition to touch events.\n */\nconst MOUSE_EVENT_IGNORE_TIME = 800;\n/**\n * Reference to a draggable item. Used to manipulate or dispose of the item.\n */\nclass DragRef {\n    constructor(element, _config, _document, _ngZone, _viewportRuler, _dragDropRegistry) {\n        this._config = _config;\n        this._document = _document;\n        this._ngZone = _ngZone;\n        this._viewportRuler = _viewportRuler;\n        this._dragDropRegistry = _dragDropRegistry;\n        /**\n         * CSS `transform` applied to the element when it isn't being dragged. We need a\n         * passive transform in order for the dragged element to retain its new position\n         * after the user has stopped dragging and because we need to know the relative\n         * position in case they start dragging again. This corresponds to `element.style.transform`.\n         */\n        this._passiveTransform = { x: 0, y: 0 };\n        /** CSS `transform` that is applied to the element while it's being dragged. */\n        this._activeTransform = { x: 0, y: 0 };\n        /** Emits when the item is being moved. */\n        this._moveEvents = new Subject();\n        /** Subscription to pointer movement events. */\n        this._pointerMoveSubscription = Subscription.EMPTY;\n        /** Subscription to the event that is dispatched when the user lifts their pointer. */\n        this._pointerUpSubscription = Subscription.EMPTY;\n        /** Subscription to the viewport being scrolled. */\n        this._scrollSubscription = Subscription.EMPTY;\n        /** Subscription to the viewport being resized. */\n        this._resizeSubscription = Subscription.EMPTY;\n        /** Cached reference to the boundary element. */\n        this._boundaryElement = null;\n        /** Whether the native dragging interactions have been enabled on the root element. */\n        this._nativeInteractionsEnabled = true;\n        /** Elements that can be used to drag the draggable item. */\n        this._handles = [];\n        /** Registered handles that are currently disabled. */\n        this._disabledHandles = new Set();\n        /** Layout direction of the item. */\n        this._direction = 'ltr';\n        /**\n         * Amount of milliseconds to wait after the user has put their\n         * pointer down before starting to drag the element.\n         */\n        this.dragStartDelay = 0;\n        this._disabled = false;\n        /** Emits as the drag sequence is being prepared. */\n        this.beforeStarted = new Subject();\n        /** Emits when the user starts dragging the item. */\n        this.started = new Subject();\n        /** Emits when the user has released a drag item, before any animations have started. */\n        this.released = new Subject();\n        /** Emits when the user stops dragging an item in the container. */\n        this.ended = new Subject();\n        /** Emits when the user has moved the item into a new container. */\n        this.entered = new Subject();\n        /** Emits when the user removes the item its container by dragging it into another container. */\n        this.exited = new Subject();\n        /** Emits when the user drops the item inside a container. */\n        this.dropped = new Subject();\n        /**\n         * Emits as the user is dragging the item. Use with caution,\n         * because this event will fire for every pixel that the user has dragged.\n         */\n        this.moved = this._moveEvents.asObservable();\n        /** Handler for the `mousedown`/`touchstart` events. */\n        this._pointerDown = (event) => {\n            this.beforeStarted.next();\n            // Delegate the event based on whether it started from a handle or the element itself.\n            if (this._handles.length) {\n                const targetHandle = this._handles.find(handle => {\n                    const target = event.target;\n                    return !!target && (target === handle || handle.contains(target));\n                });\n                if (targetHandle && !this._disabledHandles.has(targetHandle) && !this.disabled) {\n                    this._initializeDragSequence(targetHandle, event);\n                }\n            }\n            else if (!this.disabled) {\n                this._initializeDragSequence(this._rootElement, event);\n            }\n        };\n        /** Handler that is invoked when the user moves their pointer after they've initiated a drag. */\n        this._pointerMove = (event) => {\n            // Prevent the default action as early as possible in order to block\n            // native actions like dragging the selected text or images with the mouse.\n            event.preventDefault();\n            const pointerPosition = this._getPointerPositionOnPage(event);\n            if (!this._hasStartedDragging) {\n                const distanceX = Math.abs(pointerPosition.x - this._pickupPositionOnPage.x);\n                const distanceY = Math.abs(pointerPosition.y - this._pickupPositionOnPage.y);\n                const isOverThreshold = distanceX + distanceY >= this._config.dragStartThreshold;\n                // Only start dragging after the user has moved more than the minimum distance in either\n                // direction. Note that this is preferrable over doing something like `skip(minimumDistance)`\n                // in the `pointerMove` subscription, because we're not guaranteed to have one move event\n                // per pixel of movement (e.g. if the user moves their pointer quickly).\n                if (isOverThreshold) {\n                    const isDelayElapsed = Date.now() >= this._dragStartTime + this._getDragStartDelay(event);\n                    if (!isDelayElapsed) {\n                        this._endDragSequence(event);\n                        return;\n                    }\n                    // Prevent other drag sequences from starting while something in the container is still\n                    // being dragged. This can happen while we're waiting for the drop animation to finish\n                    // and can cause errors, because some elements might still be moving around.\n                    if (!this._dropContainer || !this._dropContainer.isDragging()) {\n                        this._hasStartedDragging = true;\n                        this._ngZone.run(() => this._startDragSequence(event));\n                    }\n                }\n                return;\n            }\n            // We only need the preview dimensions if we have a boundary element.\n            if (this._boundaryElement) {\n                // Cache the preview element rect if we haven't cached it already or if\n                // we cached it too early before the element dimensions were computed.\n                if (!this._previewRect || (!this._previewRect.width && !this._previewRect.height)) {\n                    this._previewRect = (this._preview || this._rootElement).getBoundingClientRect();\n                }\n            }\n            const constrainedPointerPosition = this._getConstrainedPointerPosition(pointerPosition);\n            this._hasMoved = true;\n            this._lastKnownPointerPosition = pointerPosition;\n            this._updatePointerDirectionDelta(constrainedPointerPosition);\n            if (this._dropContainer) {\n                this._updateActiveDropContainer(constrainedPointerPosition, pointerPosition);\n            }\n            else {\n                const activeTransform = this._activeTransform;\n                activeTransform.x =\n                    constrainedPointerPosition.x - this._pickupPositionOnPage.x + this._passiveTransform.x;\n                activeTransform.y =\n                    constrainedPointerPosition.y - this._pickupPositionOnPage.y + this._passiveTransform.y;\n                this._applyRootElementTransform(activeTransform.x, activeTransform.y);\n                // Apply transform as attribute if dragging and svg element to work for IE\n                if (typeof SVGElement !== 'undefined' && this._rootElement instanceof SVGElement) {\n                    const appliedTransform = `translate(${activeTransform.x} ${activeTransform.y})`;\n                    this._rootElement.setAttribute('transform', appliedTransform);\n                }\n            }\n            // Since this event gets fired for every pixel while dragging, we only\n            // want to fire it if the consumer opted into it. Also we have to\n            // re-enter the zone because we run all of the events on the outside.\n            if (this._moveEvents.observers.length) {\n                this._ngZone.run(() => {\n                    this._moveEvents.next({\n                        source: this,\n                        pointerPosition: constrainedPointerPosition,\n                        event,\n                        distance: this._getDragDistance(constrainedPointerPosition),\n                        delta: this._pointerDirectionDelta\n                    });\n                });\n            }\n        };\n        /** Handler that is invoked when the user lifts their pointer up, after initiating a drag. */\n        this._pointerUp = (event) => {\n            this._endDragSequence(event);\n        };\n        this.withRootElement(element);\n        this._parentPositions = new ParentPositionTracker(_document, _viewportRuler);\n        _dragDropRegistry.registerDragItem(this);\n    }\n    /** Whether starting to drag this element is disabled. */\n    get disabled() {\n        return this._disabled || !!(this._dropContainer && this._dropContainer.disabled);\n    }\n    set disabled(value) {\n        const newValue = coerceBooleanProperty(value);\n        if (newValue !== this._disabled) {\n            this._disabled = newValue;\n            this._toggleNativeDragInteractions();\n        }\n    }\n    /**\n     * Returns the element that is being used as a placeholder\n     * while the current element is being dragged.\n     */\n    getPlaceholderElement() {\n        return this._placeholder;\n    }\n    /** Returns the root draggable element. */\n    getRootElement() {\n        return this._rootElement;\n    }\n    /**\n     * Gets the currently-visible element that represents the drag item.\n     * While dragging this is the placeholder, otherwise it's the root element.\n     */\n    getVisibleElement() {\n        return this.isDragging() ? this.getPlaceholderElement() : this.getRootElement();\n    }\n    /** Registers the handles that can be used to drag the element. */\n    withHandles(handles) {\n        this._handles = handles.map(handle => coerceElement(handle));\n        this._handles.forEach(handle => toggleNativeDragInteractions(handle, false));\n        this._toggleNativeDragInteractions();\n        return this;\n    }\n    /**\n     * Registers the template that should be used for the drag preview.\n     * @param template Template that from which to stamp out the preview.\n     */\n    withPreviewTemplate(template) {\n        this._previewTemplate = template;\n        return this;\n    }\n    /**\n     * Registers the template that should be used for the drag placeholder.\n     * @param template Template that from which to stamp out the placeholder.\n     */\n    withPlaceholderTemplate(template) {\n        this._placeholderTemplate = template;\n        return this;\n    }\n    /**\n     * Sets an alternate drag root element. The root element is the element that will be moved as\n     * the user is dragging. Passing an alternate root element is useful when trying to enable\n     * dragging on an element that you might not have access to.\n     */\n    withRootElement(rootElement) {\n        const element = coerceElement(rootElement);\n        if (element !== this._rootElement) {\n            if (this._rootElement) {\n                this._removeRootElementListeners(this._rootElement);\n            }\n            this._ngZone.runOutsideAngular(() => {\n                element.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\n                element.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\n            });\n            this._initialTransform = undefined;\n            this._rootElement = element;\n        }\n        if (typeof SVGElement !== 'undefined' && this._rootElement instanceof SVGElement) {\n            this._ownerSVGElement = this._rootElement.ownerSVGElement;\n        }\n        return this;\n    }\n    /**\n     * Element to which the draggable's position will be constrained.\n     */\n    withBoundaryElement(boundaryElement) {\n        this._boundaryElement = boundaryElement ? coerceElement(boundaryElement) : null;\n        this._resizeSubscription.unsubscribe();\n        if (boundaryElement) {\n            this._resizeSubscription = this._viewportRuler\n                .change(10)\n                .subscribe(() => this._containInsideBoundaryOnResize());\n        }\n        return this;\n    }\n    /** Removes the dragging functionality from the DOM element. */\n    dispose() {\n        this._removeRootElementListeners(this._rootElement);\n        // Do this check before removing from the registry since it'll\n        // stop being considered as dragged once it is removed.\n        if (this.isDragging()) {\n            // Since we move out the element to the end of the body while it's being\n            // dragged, we have to make sure that it's removed if it gets destroyed.\n            removeNode(this._rootElement);\n        }\n        removeNode(this._anchor);\n        this._destroyPreview();\n        this._destroyPlaceholder();\n        this._dragDropRegistry.removeDragItem(this);\n        this._removeSubscriptions();\n        this.beforeStarted.complete();\n        this.started.complete();\n        this.released.complete();\n        this.ended.complete();\n        this.entered.complete();\n        this.exited.complete();\n        this.dropped.complete();\n        this._moveEvents.complete();\n        this._handles = [];\n        this._disabledHandles.clear();\n        this._dropContainer = undefined;\n        this._resizeSubscription.unsubscribe();\n        this._parentPositions.clear();\n        this._boundaryElement = this._rootElement = this._ownerSVGElement = this._placeholderTemplate =\n            this._previewTemplate = this._anchor = null;\n    }\n    /** Checks whether the element is currently being dragged. */\n    isDragging() {\n        return this._hasStartedDragging && this._dragDropRegistry.isDragging(this);\n    }\n    /** Resets a standalone drag item to its initial position. */\n    reset() {\n        this._rootElement.style.transform = this._initialTransform || '';\n        this._activeTransform = { x: 0, y: 0 };\n        this._passiveTransform = { x: 0, y: 0 };\n    }\n    /**\n     * Sets a handle as disabled. While a handle is disabled, it'll capture and interrupt dragging.\n     * @param handle Handle element that should be disabled.\n     */\n    disableHandle(handle) {\n        if (this._handles.indexOf(handle) > -1) {\n            this._disabledHandles.add(handle);\n        }\n    }\n    /**\n     * Enables a handle, if it has been disabled.\n     * @param handle Handle element to be enabled.\n     */\n    enableHandle(handle) {\n        this._disabledHandles.delete(handle);\n    }\n    /** Sets the layout direction of the draggable item. */\n    withDirection(direction) {\n        this._direction = direction;\n        return this;\n    }\n    /** Sets the container that the item is part of. */\n    _withDropContainer(container) {\n        this._dropContainer = container;\n    }\n    /**\n     * Gets the current position in pixels the draggable outside of a drop container.\n     */\n    getFreeDragPosition() {\n        const position = this.isDragging() ? this._activeTransform : this._passiveTransform;\n        return { x: position.x, y: position.y };\n    }\n    /**\n     * Sets the current position in pixels the draggable outside of a drop container.\n     * @param value New position to be set.\n     */\n    setFreeDragPosition(value) {\n        this._activeTransform = { x: 0, y: 0 };\n        this._passiveTransform.x = value.x;\n        this._passiveTransform.y = value.y;\n        if (!this._dropContainer) {\n            this._applyRootElementTransform(value.x, value.y);\n        }\n        return this;\n    }\n    /** Updates the item's sort order based on the last-known pointer position. */\n    _sortFromLastPointerPosition() {\n        const position = this._lastKnownPointerPosition;\n        if (position && this._dropContainer) {\n            this._updateActiveDropContainer(this._getConstrainedPointerPosition(position), position);\n        }\n    }\n    /** Unsubscribes from the global subscriptions. */\n    _removeSubscriptions() {\n        this._pointerMoveSubscription.unsubscribe();\n        this._pointerUpSubscription.unsubscribe();\n        this._scrollSubscription.unsubscribe();\n    }\n    /** Destroys the preview element and its ViewRef. */\n    _destroyPreview() {\n        if (this._preview) {\n            removeNode(this._preview);\n        }\n        if (this._previewRef) {\n            this._previewRef.destroy();\n        }\n        this._preview = this._previewRef = null;\n    }\n    /** Destroys the placeholder element and its ViewRef. */\n    _destroyPlaceholder() {\n        if (this._placeholder) {\n            removeNode(this._placeholder);\n        }\n        if (this._placeholderRef) {\n            this._placeholderRef.destroy();\n        }\n        this._placeholder = this._placeholderRef = null;\n    }\n    /**\n     * Clears subscriptions and stops the dragging sequence.\n     * @param event Browser event object that ended the sequence.\n     */\n    _endDragSequence(event) {\n        // Note that here we use `isDragging` from the service, rather than from `this`.\n        // The difference is that the one from the service reflects whether a dragging sequence\n        // has been initiated, whereas the one on `this` includes whether the user has passed\n        // the minimum dragging threshold.\n        if (!this._dragDropRegistry.isDragging(this)) {\n            return;\n        }\n        this._removeSubscriptions();\n        this._dragDropRegistry.stopDragging(this);\n        this._toggleNativeDragInteractions();\n        if (this._handles) {\n            this._rootElement.style.webkitTapHighlightColor = this._rootElementTapHighlight;\n        }\n        if (!this._hasStartedDragging) {\n            return;\n        }\n        this.released.next({ source: this });\n        if (this._dropContainer) {\n            // Stop scrolling immediately, instead of waiting for the animation to finish.\n            this._dropContainer._stopScrolling();\n            this._animatePreviewToPlaceholder().then(() => {\n                this._cleanupDragArtifacts(event);\n                this._cleanupCachedDimensions();\n                this._dragDropRegistry.stopDragging(this);\n            });\n        }\n        else {\n            // Convert the active transform into a passive one. This means that next time\n            // the user starts dragging the item, its position will be calculated relatively\n            // to the new passive transform.\n            this._passiveTransform.x = this._activeTransform.x;\n            this._passiveTransform.y = this._activeTransform.y;\n            this._ngZone.run(() => {\n                this.ended.next({\n                    source: this,\n                    distance: this._getDragDistance(this._getPointerPositionOnPage(event))\n                });\n            });\n            this._cleanupCachedDimensions();\n            this._dragDropRegistry.stopDragging(this);\n        }\n    }\n    /** Starts the dragging sequence. */\n    _startDragSequence(event) {\n        if (isTouchEvent(event)) {\n            this._lastTouchEventTime = Date.now();\n        }\n        this._toggleNativeDragInteractions();\n        const dropContainer = this._dropContainer;\n        if (dropContainer) {\n            const element = this._rootElement;\n            const parent = element.parentNode;\n            const preview = this._preview = this._createPreviewElement();\n            const placeholder = this._placeholder = this._createPlaceholderElement();\n            const anchor = this._anchor = this._anchor || this._document.createComment('');\n            // Insert an anchor node so that we can restore the element's position in the DOM.\n            parent.insertBefore(anchor, element);\n            // We move the element out at the end of the body and we make it hidden, because keeping it in\n            // place will throw off the consumer's `:last-child` selectors. We can't remove the element\n            // from the DOM completely, because iOS will stop firing all subsequent events in the chain.\n            element.style.display = 'none';\n            this._document.body.appendChild(parent.replaceChild(placeholder, element));\n            getPreviewInsertionPoint(this._document).appendChild(preview);\n            this.started.next({ source: this }); // Emit before notifying the container.\n            dropContainer.start();\n            this._initialContainer = dropContainer;\n            this._initialIndex = dropContainer.getItemIndex(this);\n        }\n        else {\n            this.started.next({ source: this });\n            this._initialContainer = this._initialIndex = undefined;\n        }\n        // Important to run after we've called `start` on the parent container\n        // so that it has had time to resolve its scrollable parents.\n        this._parentPositions.cache(dropContainer ? dropContainer.getScrollableParents() : []);\n    }\n    /**\n     * Sets up the different variables and subscriptions\n     * that will be necessary for the dragging sequence.\n     * @param referenceElement Element that started the drag sequence.\n     * @param event Browser event object that started the sequence.\n     */\n    _initializeDragSequence(referenceElement, event) {\n        // Always stop propagation for the event that initializes\n        // the dragging sequence, in order to prevent it from potentially\n        // starting another sequence for a draggable parent somewhere up the DOM tree.\n        event.stopPropagation();\n        const isDragging = this.isDragging();\n        const isTouchSequence = isTouchEvent(event);\n        const isAuxiliaryMouseButton = !isTouchSequence && event.button !== 0;\n        const rootElement = this._rootElement;\n        const isSyntheticEvent = !isTouchSequence && this._lastTouchEventTime &&\n            this._lastTouchEventTime + MOUSE_EVENT_IGNORE_TIME > Date.now();\n        // If the event started from an element with the native HTML drag&drop, it'll interfere\n        // with our own dragging (e.g. `img` tags do it by default). Prevent the default action\n        // to stop it from happening. Note that preventing on `dragstart` also seems to work, but\n        // it's flaky and it fails if the user drags it away quickly. Also note that we only want\n        // to do this for `mousedown` since doing the same for `touchstart` will stop any `click`\n        // events from firing on touch devices.\n        if (event.target && event.target.draggable && event.type === 'mousedown') {\n            event.preventDefault();\n        }\n        // Abort if the user is already dragging or is using a mouse button other than the primary one.\n        if (isDragging || isAuxiliaryMouseButton || isSyntheticEvent) {\n            return;\n        }\n        // If we've got handles, we need to disable the tap highlight on the entire root element,\n        // otherwise iOS will still add it, even though all the drag interactions on the handle\n        // are disabled.\n        if (this._handles.length) {\n            this._rootElementTapHighlight = rootElement.style.webkitTapHighlightColor || '';\n            rootElement.style.webkitTapHighlightColor = 'transparent';\n        }\n        this._hasStartedDragging = this._hasMoved = false;\n        // Avoid multiple subscriptions and memory leaks when multi touch\n        // (isDragging check above isn't enough because of possible temporal and/or dimensional delays)\n        this._removeSubscriptions();\n        this._pointerMoveSubscription = this._dragDropRegistry.pointerMove.subscribe(this._pointerMove);\n        this._pointerUpSubscription = this._dragDropRegistry.pointerUp.subscribe(this._pointerUp);\n        this._scrollSubscription = this._dragDropRegistry.scroll.subscribe(scrollEvent => {\n            this._updateOnScroll(scrollEvent);\n        });\n        if (this._boundaryElement) {\n            this._boundaryRect = getMutableClientRect(this._boundaryElement);\n        }\n        // If we have a custom preview we can't know ahead of time how large it'll be so we position\n        // it next to the cursor. The exception is when the consumer has opted into making the preview\n        // the same size as the root element, in which case we do know the size.\n        const previewTemplate = this._previewTemplate;\n        this._pickupPositionInElement = previewTemplate && previewTemplate.template &&\n            !previewTemplate.matchSize ? { x: 0, y: 0 } :\n            this._getPointerPositionInElement(referenceElement, event);\n        const pointerPosition = this._pickupPositionOnPage = this._lastKnownPointerPosition =\n            this._getPointerPositionOnPage(event);\n        this._pointerDirectionDelta = { x: 0, y: 0 };\n        this._pointerPositionAtLastDirectionChange = { x: pointerPosition.x, y: pointerPosition.y };\n        this._dragStartTime = Date.now();\n        this._dragDropRegistry.startDragging(this, event);\n    }\n    /** Cleans up the DOM artifacts that were added to facilitate the element being dragged. */\n    _cleanupDragArtifacts(event) {\n        // Restore the element's visibility and insert it at its old position in the DOM.\n        // It's important that we maintain the position, because moving the element around in the DOM\n        // can throw off `NgFor` which does smart diffing and re-creates elements only when necessary,\n        // while moving the existing elements in all other cases.\n        this._rootElement.style.display = '';\n        this._anchor.parentNode.replaceChild(this._rootElement, this._anchor);\n        this._destroyPreview();\n        this._destroyPlaceholder();\n        this._boundaryRect = this._previewRect = undefined;\n        // Re-enter the NgZone since we bound `document` events on the outside.\n        this._ngZone.run(() => {\n            const container = this._dropContainer;\n            const currentIndex = container.getItemIndex(this);\n            const pointerPosition = this._getPointerPositionOnPage(event);\n            const distance = this._getDragDistance(this._getPointerPositionOnPage(event));\n            const isPointerOverContainer = container._isOverContainer(pointerPosition.x, pointerPosition.y);\n            this.ended.next({ source: this, distance });\n            this.dropped.next({\n                item: this,\n                currentIndex,\n                previousIndex: this._initialIndex,\n                container: container,\n                previousContainer: this._initialContainer,\n                isPointerOverContainer,\n                distance\n            });\n            container.drop(this, currentIndex, this._initialContainer, isPointerOverContainer, distance, this._initialIndex);\n            this._dropContainer = this._initialContainer;\n        });\n    }\n    /**\n     * Updates the item's position in its drop container, or moves it\n     * into a new one, depending on its current drag position.\n     */\n    _updateActiveDropContainer({ x, y }, { x: rawX, y: rawY }) {\n        // Drop container that draggable has been moved into.\n        let newContainer = this._initialContainer._getSiblingContainerFromPosition(this, x, y);\n        // If we couldn't find a new container to move the item into, and the item has left its\n        // initial container, check whether the it's over the initial container. This handles the\n        // case where two containers are connected one way and the user tries to undo dragging an\n        // item into a new container.\n        if (!newContainer && this._dropContainer !== this._initialContainer &&\n            this._initialContainer._isOverContainer(x, y)) {\n            newContainer = this._initialContainer;\n        }\n        if (newContainer && newContainer !== this._dropContainer) {\n            this._ngZone.run(() => {\n                // Notify the old container that the item has left.\n                this.exited.next({ item: this, container: this._dropContainer });\n                this._dropContainer.exit(this);\n                // Notify the new container that the item has entered.\n                this._dropContainer = newContainer;\n                this._dropContainer.enter(this, x, y, newContainer === this._initialContainer &&\n                    // If we're re-entering the initial container and sorting is disabled,\n                    // put item the into its starting index to begin with.\n                    newContainer.sortingDisabled ? this._initialIndex : undefined);\n                this.entered.next({\n                    item: this,\n                    container: newContainer,\n                    currentIndex: newContainer.getItemIndex(this)\n                });\n            });\n        }\n        this._dropContainer._startScrollingIfNecessary(rawX, rawY);\n        this._dropContainer._sortItem(this, x, y, this._pointerDirectionDelta);\n        this._preview.style.transform =\n            getTransform(x - this._pickupPositionInElement.x, y - this._pickupPositionInElement.y);\n    }\n    /**\n     * Creates the element that will be rendered next to the user's pointer\n     * and will be used as a preview of the element that is being dragged.\n     */\n    _createPreviewElement() {\n        const previewConfig = this._previewTemplate;\n        const previewClass = this.previewClass;\n        const previewTemplate = previewConfig ? previewConfig.template : null;\n        let preview;\n        if (previewTemplate && previewConfig) {\n            // Measure the element before we've inserted the preview\n            // since the insertion could throw off the measurement.\n            const rootRect = previewConfig.matchSize ? this._rootElement.getBoundingClientRect() : null;\n            const viewRef = previewConfig.viewContainer.createEmbeddedView(previewTemplate, previewConfig.context);\n            viewRef.detectChanges();\n            preview = getRootNode(viewRef, this._document);\n            this._previewRef = viewRef;\n            if (previewConfig.matchSize) {\n                matchElementSize(preview, rootRect);\n            }\n            else {\n                preview.style.transform =\n                    getTransform(this._pickupPositionOnPage.x, this._pickupPositionOnPage.y);\n            }\n        }\n        else {\n            const element = this._rootElement;\n            preview = deepCloneNode(element);\n            matchElementSize(preview, element.getBoundingClientRect());\n        }\n        extendStyles(preview.style, {\n            // It's important that we disable the pointer events on the preview, because\n            // it can throw off the `document.elementFromPoint` calls in the `CdkDropList`.\n            pointerEvents: 'none',\n            // We have to reset the margin, because it can throw off positioning relative to the viewport.\n            margin: '0',\n            position: 'fixed',\n            top: '0',\n            left: '0',\n            zIndex: `${this._config.zIndex || 1000}`\n        });\n        toggleNativeDragInteractions(preview, false);\n        preview.classList.add('cdk-drag-preview');\n        preview.setAttribute('dir', this._direction);\n        if (previewClass) {\n            if (Array.isArray(previewClass)) {\n                previewClass.forEach(className => preview.classList.add(className));\n            }\n            else {\n                preview.classList.add(previewClass);\n            }\n        }\n        return preview;\n    }\n    /**\n     * Animates the preview element from its current position to the location of the drop placeholder.\n     * @returns Promise that resolves when the animation completes.\n     */\n    _animatePreviewToPlaceholder() {\n        // If the user hasn't moved yet, the transitionend event won't fire.\n        if (!this._hasMoved) {\n            return Promise.resolve();\n        }\n        const placeholderRect = this._placeholder.getBoundingClientRect();\n        // Apply the class that adds a transition to the preview.\n        this._preview.classList.add('cdk-drag-animating');\n        // Move the preview to the placeholder position.\n        this._preview.style.transform = getTransform(placeholderRect.left, placeholderRect.top);\n        // If the element doesn't have a `transition`, the `transitionend` event won't fire. Since\n        // we need to trigger a style recalculation in order for the `cdk-drag-animating` class to\n        // apply its style, we take advantage of the available info to figure out whether we need to\n        // bind the event in the first place.\n        const duration = getTransformTransitionDurationInMs(this._preview);\n        if (duration === 0) {\n            return Promise.resolve();\n        }\n        return this._ngZone.runOutsideAngular(() => {\n            return new Promise(resolve => {\n                const handler = ((event) => {\n                    if (!event || (event.target === this._preview && event.propertyName === 'transform')) {\n                        this._preview.removeEventListener('transitionend', handler);\n                        resolve();\n                        clearTimeout(timeout);\n                    }\n                });\n                // If a transition is short enough, the browser might not fire the `transitionend` event.\n                // Since we know how long it's supposed to take, add a timeout with a 50% buffer that'll\n                // fire if the transition hasn't completed when it was supposed to.\n                const timeout = setTimeout(handler, duration * 1.5);\n                this._preview.addEventListener('transitionend', handler);\n            });\n        });\n    }\n    /** Creates an element that will be shown instead of the current element while dragging. */\n    _createPlaceholderElement() {\n        const placeholderConfig = this._placeholderTemplate;\n        const placeholderTemplate = placeholderConfig ? placeholderConfig.template : null;\n        let placeholder;\n        if (placeholderTemplate) {\n            this._placeholderRef = placeholderConfig.viewContainer.createEmbeddedView(placeholderTemplate, placeholderConfig.context);\n            this._placeholderRef.detectChanges();\n            placeholder = getRootNode(this._placeholderRef, this._document);\n        }\n        else {\n            placeholder = deepCloneNode(this._rootElement);\n        }\n        placeholder.classList.add('cdk-drag-placeholder');\n        return placeholder;\n    }\n    /**\n     * Figures out the coordinates at which an element was picked up.\n     * @param referenceElement Element that initiated the dragging.\n     * @param event Event that initiated the dragging.\n     */\n    _getPointerPositionInElement(referenceElement, event) {\n        const elementRect = this._rootElement.getBoundingClientRect();\n        const handleElement = referenceElement === this._rootElement ? null : referenceElement;\n        const referenceRect = handleElement ? handleElement.getBoundingClientRect() : elementRect;\n        const point = isTouchEvent(event) ? event.targetTouches[0] : event;\n        const scrollPosition = this._getViewportScrollPosition();\n        const x = point.pageX - referenceRect.left - scrollPosition.left;\n        const y = point.pageY - referenceRect.top - scrollPosition.top;\n        return {\n            x: referenceRect.left - elementRect.left + x,\n            y: referenceRect.top - elementRect.top + y\n        };\n    }\n    /** Determines the point of the page that was touched by the user. */\n    _getPointerPositionOnPage(event) {\n        const scrollPosition = this._getViewportScrollPosition();\n        const point = isTouchEvent(event) ?\n            // `touches` will be empty for start/end events so we have to fall back to `changedTouches`.\n            // Also note that on real devices we're guaranteed for either `touches` or `changedTouches`\n            // to have a value, but Firefox in device emulation mode has a bug where both can be empty\n            // for `touchstart` and `touchend` so we fall back to a dummy object in order to avoid\n            // throwing an error. The value returned here will be incorrect, but since this only\n            // breaks inside a developer tool and the value is only used for secondary information,\n            // we can get away with it. See https://bugzilla.mozilla.org/show_bug.cgi?id=1615824.\n            (event.touches[0] || event.changedTouches[0] || { pageX: 0, pageY: 0 }) : event;\n        const x = point.pageX - scrollPosition.left;\n        const y = point.pageY - scrollPosition.top;\n        // if dragging SVG element, try to convert from the screen coordinate system to the SVG\n        // coordinate system\n        if (this._ownerSVGElement) {\n            const svgMatrix = this._ownerSVGElement.getScreenCTM();\n            if (svgMatrix) {\n                const svgPoint = this._ownerSVGElement.createSVGPoint();\n                svgPoint.x = x;\n                svgPoint.y = y;\n                return svgPoint.matrixTransform(svgMatrix.inverse());\n            }\n        }\n        return { x, y };\n    }\n    /** Gets the pointer position on the page, accounting for any position constraints. */\n    _getConstrainedPointerPosition(point) {\n        const dropContainerLock = this._dropContainer ? this._dropContainer.lockAxis : null;\n        let { x, y } = this.constrainPosition ? this.constrainPosition(point, this) : point;\n        if (this.lockAxis === 'x' || dropContainerLock === 'x') {\n            y = this._pickupPositionOnPage.y;\n        }\n        else if (this.lockAxis === 'y' || dropContainerLock === 'y') {\n            x = this._pickupPositionOnPage.x;\n        }\n        if (this._boundaryRect) {\n            const { x: pickupX, y: pickupY } = this._pickupPositionInElement;\n            const boundaryRect = this._boundaryRect;\n            const previewRect = this._previewRect;\n            const minY = boundaryRect.top + pickupY;\n            const maxY = boundaryRect.bottom - (previewRect.height - pickupY);\n            const minX = boundaryRect.left + pickupX;\n            const maxX = boundaryRect.right - (previewRect.width - pickupX);\n            x = clamp(x, minX, maxX);\n            y = clamp(y, minY, maxY);\n        }\n        return { x, y };\n    }\n    /** Updates the current drag delta, based on the user's current pointer position on the page. */\n    _updatePointerDirectionDelta(pointerPositionOnPage) {\n        const { x, y } = pointerPositionOnPage;\n        const delta = this._pointerDirectionDelta;\n        const positionSinceLastChange = this._pointerPositionAtLastDirectionChange;\n        // Amount of pixels the user has dragged since the last time the direction changed.\n        const changeX = Math.abs(x - positionSinceLastChange.x);\n        const changeY = Math.abs(y - positionSinceLastChange.y);\n        // Because we handle pointer events on a per-pixel basis, we don't want the delta\n        // to change for every pixel, otherwise anything that depends on it can look erratic.\n        // To make the delta more consistent, we track how much the user has moved since the last\n        // delta change and we only update it after it has reached a certain threshold.\n        if (changeX > this._config.pointerDirectionChangeThreshold) {\n            delta.x = x > positionSinceLastChange.x ? 1 : -1;\n            positionSinceLastChange.x = x;\n        }\n        if (changeY > this._config.pointerDirectionChangeThreshold) {\n            delta.y = y > positionSinceLastChange.y ? 1 : -1;\n            positionSinceLastChange.y = y;\n        }\n        return delta;\n    }\n    /** Toggles the native drag interactions, based on how many handles are registered. */\n    _toggleNativeDragInteractions() {\n        if (!this._rootElement || !this._handles) {\n            return;\n        }\n        const shouldEnable = this._handles.length > 0 || !this.isDragging();\n        if (shouldEnable !== this._nativeInteractionsEnabled) {\n            this._nativeInteractionsEnabled = shouldEnable;\n            toggleNativeDragInteractions(this._rootElement, shouldEnable);\n        }\n    }\n    /** Removes the manually-added event listeners from the root element. */\n    _removeRootElementListeners(element) {\n        element.removeEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\n        element.removeEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\n    }\n    /**\n     * Applies a `transform` to the root element, taking into account any existing transforms on it.\n     * @param x New transform value along the X axis.\n     * @param y New transform value along the Y axis.\n     */\n    _applyRootElementTransform(x, y) {\n        const transform = getTransform(x, y);\n        // Cache the previous transform amount only after the first drag sequence, because\n        // we don't want our own transforms to stack on top of each other.\n        if (this._initialTransform == null) {\n            this._initialTransform = this._rootElement.style.transform || '';\n        }\n        // Preserve the previous `transform` value, if there was one. Note that we apply our own\n        // transform before the user's, because things like rotation can affect which direction\n        // the element will be translated towards.\n        this._rootElement.style.transform = this._initialTransform ?\n            transform + ' ' + this._initialTransform : transform;\n    }\n    /**\n     * Gets the distance that the user has dragged during the current drag sequence.\n     * @param currentPosition Current position of the user's pointer.\n     */\n    _getDragDistance(currentPosition) {\n        const pickupPosition = this._pickupPositionOnPage;\n        if (pickupPosition) {\n            return { x: currentPosition.x - pickupPosition.x, y: currentPosition.y - pickupPosition.y };\n        }\n        return { x: 0, y: 0 };\n    }\n    /** Cleans up any cached element dimensions that we don't need after dragging has stopped. */\n    _cleanupCachedDimensions() {\n        this._boundaryRect = this._previewRect = undefined;\n        this._parentPositions.clear();\n    }\n    /**\n     * Checks whether the element is still inside its boundary after the viewport has been resized.\n     * If not, the position is adjusted so that the element fits again.\n     */\n    _containInsideBoundaryOnResize() {\n        let { x, y } = this._passiveTransform;\n        if ((x === 0 && y === 0) || this.isDragging() || !this._boundaryElement) {\n            return;\n        }\n        const boundaryRect = this._boundaryElement.getBoundingClientRect();\n        const elementRect = this._rootElement.getBoundingClientRect();\n        // It's possible that the element got hidden away after dragging (e.g. by switching to a\n        // different tab). Don't do anything in this case so we don't clear the user's position.\n        if ((boundaryRect.width === 0 && boundaryRect.height === 0) ||\n            (elementRect.width === 0 && elementRect.height === 0)) {\n            return;\n        }\n        const leftOverflow = boundaryRect.left - elementRect.left;\n        const rightOverflow = elementRect.right - boundaryRect.right;\n        const topOverflow = boundaryRect.top - elementRect.top;\n        const bottomOverflow = elementRect.bottom - boundaryRect.bottom;\n        // If the element has become wider than the boundary, we can't\n        // do much to make it fit so we just anchor it to the left.\n        if (boundaryRect.width > elementRect.width) {\n            if (leftOverflow > 0) {\n                x += leftOverflow;\n            }\n            if (rightOverflow > 0) {\n                x -= rightOverflow;\n            }\n        }\n        else {\n            x = 0;\n        }\n        // If the element has become taller than the boundary, we can't\n        // do much to make it fit so we just anchor it to the top.\n        if (boundaryRect.height > elementRect.height) {\n            if (topOverflow > 0) {\n                y += topOverflow;\n            }\n            if (bottomOverflow > 0) {\n                y -= bottomOverflow;\n            }\n        }\n        else {\n            y = 0;\n        }\n        if (x !== this._passiveTransform.x || y !== this._passiveTransform.y) {\n            this.setFreeDragPosition({ y, x });\n        }\n    }\n    /** Gets the drag start delay, based on the event type. */\n    _getDragStartDelay(event) {\n        const value = this.dragStartDelay;\n        if (typeof value === 'number') {\n            return value;\n        }\n        else if (isTouchEvent(event)) {\n            return value.touch;\n        }\n        return value ? value.mouse : 0;\n    }\n    /** Updates the internal state of the draggable element when scrolling has occurred. */\n    _updateOnScroll(event) {\n        const scrollDifference = this._parentPositions.handleScroll(event);\n        if (scrollDifference) {\n            const target = event.target;\n            // ClientRect dimensions are based on the scroll position of the page and its parent node so\n            // we have to update the cached boundary ClientRect if the user has scrolled. Check for\n            // the `document` specifically since IE doesn't support `contains` on it.\n            if (this._boundaryRect && (target === this._document ||\n                (target !== this._boundaryElement && target.contains(this._boundaryElement)))) {\n                adjustClientRect(this._boundaryRect, scrollDifference.top, scrollDifference.left);\n            }\n            this._pickupPositionOnPage.x += scrollDifference.left;\n            this._pickupPositionOnPage.y += scrollDifference.top;\n            // If we're in free drag mode, we have to update the active transform, because\n            // it isn't relative to the viewport like the preview inside a drop list.\n            if (!this._dropContainer) {\n                this._activeTransform.x -= scrollDifference.left;\n                this._activeTransform.y -= scrollDifference.top;\n                this._applyRootElementTransform(this._activeTransform.x, this._activeTransform.y);\n            }\n        }\n    }\n    /** Gets the scroll position of the viewport. */\n    _getViewportScrollPosition() {\n        const cachedPosition = this._parentPositions.positions.get(this._document);\n        return cachedPosition ? cachedPosition.scrollPosition :\n            this._viewportRuler.getViewportScrollPosition();\n    }\n}\n/**\n * Gets a 3d `transform` that can be applied to an element.\n * @param x Desired position of the element along the X axis.\n * @param y Desired position of the element along the Y axis.\n */\nfunction getTransform(x, y) {\n    // Round the transforms since some browsers will\n    // blur the elements for sub-pixel transforms.\n    return `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`;\n}\n/** Creates a deep clone of an element. */\nfunction deepCloneNode(node) {\n    const clone = node.cloneNode(true);\n    const descendantsWithId = clone.querySelectorAll('[id]');\n    const descendantCanvases = node.querySelectorAll('canvas');\n    // Remove the `id` to avoid having multiple elements with the same id on the page.\n    clone.removeAttribute('id');\n    for (let i = 0; i < descendantsWithId.length; i++) {\n        descendantsWithId[i].removeAttribute('id');\n    }\n    // `cloneNode` won't transfer the content of `canvas` elements so we have to do it ourselves.\n    // We match up the cloned canvas to their sources using their index in the DOM.\n    if (descendantCanvases.length) {\n        const cloneCanvases = clone.querySelectorAll('canvas');\n        for (let i = 0; i < descendantCanvases.length; i++) {\n            const correspondingCloneContext = cloneCanvases[i].getContext('2d');\n            if (correspondingCloneContext) {\n                // In some cases `drawImage` can throw (e.g. if the canvas size is 0x0).\n                // We can't do much about it so just ignore the error.\n                try {\n                    correspondingCloneContext.drawImage(descendantCanvases[i], 0, 0);\n                }\n                catch (_a) { }\n            }\n        }\n    }\n    return clone;\n}\n/** Clamps a value between a minimum and a maximum. */\nfunction clamp(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * Helper to remove a node from the DOM and to do all the necessary null checks.\n * @param node Node to be removed.\n */\nfunction removeNode(node) {\n    if (node && node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\n/** Determines whether an event is a touch event. */\nfunction isTouchEvent(event) {\n    // This function is called for every pixel that the user has dragged so we need it to be\n    // as fast as possible. Since we only bind mouse events and touch events, we can assume\n    // that if the event's name starts with `t`, it's a touch event.\n    return event.type[0] === 't';\n}\n/** Gets the element into which the drag preview should be inserted. */\nfunction getPreviewInsertionPoint(documentRef) {\n    // We can't use the body if the user is in fullscreen mode,\n    // because the preview will render under the fullscreen element.\n    // TODO(crisbeto): dedupe this with the `FullscreenOverlayContainer` eventually.\n    return documentRef.fullscreenElement ||\n        documentRef.webkitFullscreenElement ||\n        documentRef.mozFullScreenElement ||\n        documentRef.msFullscreenElement ||\n        documentRef.body;\n}\n/**\n * Gets the root HTML element of an embedded view.\n * If the root is not an HTML element it gets wrapped in one.\n */\nfunction getRootNode(viewRef, _document) {\n    const rootNodes = viewRef.rootNodes;\n    if (rootNodes.length === 1 && rootNodes[0].nodeType === _document.ELEMENT_NODE) {\n        return rootNodes[0];\n    }\n    const wrapper = _document.createElement('div');\n    rootNodes.forEach(node => wrapper.appendChild(node));\n    return wrapper;\n}\n/**\n * Matches the target element's size to the source's size.\n * @param target Element that needs to be resized.\n * @param sourceRect Dimensions of the source element.\n */\nfunction matchElementSize(target, sourceRect) {\n    target.style.width = `${sourceRect.width}px`;\n    target.style.height = `${sourceRect.height}px`;\n    target.style.transform = getTransform(sourceRect.left, sourceRect.top);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Moves an item one index in an array to another.\n * @param array Array in which to move the item.\n * @param fromIndex Starting index of the item.\n * @param toIndex Index to which the item should be moved.\n */\nfunction moveItemInArray(array, fromIndex, toIndex) {\n    const from = clamp$1(fromIndex, array.length - 1);\n    const to = clamp$1(toIndex, array.length - 1);\n    if (from === to) {\n        return;\n    }\n    const target = array[from];\n    const delta = to < from ? -1 : 1;\n    for (let i = from; i !== to; i += delta) {\n        array[i] = array[i + delta];\n    }\n    array[to] = target;\n}\n/**\n * Moves an item from one array to another.\n * @param currentArray Array from which to transfer the item.\n * @param targetArray Array into which to put the item.\n * @param currentIndex Index of the item in its current array.\n * @param targetIndex Index at which to insert the item.\n */\nfunction transferArrayItem(currentArray, targetArray, currentIndex, targetIndex) {\n    const from = clamp$1(currentIndex, currentArray.length - 1);\n    const to = clamp$1(targetIndex, targetArray.length);\n    if (currentArray.length) {\n        targetArray.splice(to, 0, currentArray.splice(from, 1)[0]);\n    }\n}\n/**\n * Copies an item from one array to another, leaving it in its\n * original position in current array.\n * @param currentArray Array from which to copy the item.\n * @param targetArray Array into which is copy the item.\n * @param currentIndex Index of the item in its current array.\n * @param targetIndex Index at which to insert the item.\n *\n */\nfunction copyArrayItem(currentArray, targetArray, currentIndex, targetIndex) {\n    const to = clamp$1(targetIndex, targetArray.length);\n    if (currentArray.length) {\n        targetArray.splice(to, 0, currentArray[currentIndex]);\n    }\n}\n/** Clamps a number between zero and a maximum. */\nfunction clamp$1(value, max) {\n    return Math.max(0, Math.min(max, value));\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Proximity, as a ratio to width/height, at which a\n * dragged item will affect the drop container.\n */\nconst DROP_PROXIMITY_THRESHOLD = 0.05;\n/**\n * Proximity, as a ratio to width/height at which to start auto-scrolling the drop list or the\n * viewport. The value comes from trying it out manually until it feels right.\n */\nconst SCROLL_PROXIMITY_THRESHOLD = 0.05;\n/**\n * Number of pixels to scroll for each frame when auto-scrolling an element.\n * The value comes from trying it out manually until it feels right.\n */\nconst AUTO_SCROLL_STEP = 2;\n/**\n * Reference to a drop list. Used to manipulate or dispose of the container.\n */\nclass DropListRef {\n    constructor(element, _dragDropRegistry, _document, _ngZone, _viewportRuler) {\n        this._dragDropRegistry = _dragDropRegistry;\n        this._ngZone = _ngZone;\n        this._viewportRuler = _viewportRuler;\n        /** Whether starting a dragging sequence from this container is disabled. */\n        this.disabled = false;\n        /** Whether sorting items within the list is disabled. */\n        this.sortingDisabled = false;\n        /**\n         * Whether auto-scrolling the view when the user\n         * moves their pointer close to the edges is disabled.\n         */\n        this.autoScrollDisabled = false;\n        /**\n         * Function that is used to determine whether an item\n         * is allowed to be moved into a drop container.\n         */\n        this.enterPredicate = () => true;\n        /** Emits right before dragging has started. */\n        this.beforeStarted = new Subject();\n        /**\n         * Emits when the user has moved a new drag item into this container.\n         */\n        this.entered = new Subject();\n        /**\n         * Emits when the user removes an item from the container\n         * by dragging it into another container.\n         */\n        this.exited = new Subject();\n        /** Emits when the user drops an item inside the container. */\n        this.dropped = new Subject();\n        /** Emits as the user is swapping items while actively dragging. */\n        this.sorted = new Subject();\n        /** Whether an item in the list is being dragged. */\n        this._isDragging = false;\n        /** Cache of the dimensions of all the items inside the container. */\n        this._itemPositions = [];\n        /**\n         * Keeps track of the item that was last swapped with the dragged item, as well as what direction\n         * the pointer was moving in when the swap occured and whether the user's pointer continued to\n         * overlap with the swapped item after the swapping occurred.\n         */\n        this._previousSwap = { drag: null, delta: 0, overlaps: false };\n        /** Drop lists that are connected to the current one. */\n        this._siblings = [];\n        /** Direction in which the list is oriented. */\n        this._orientation = 'vertical';\n        /** Connected siblings that currently have a dragged item. */\n        this._activeSiblings = new Set();\n        /** Layout direction of the drop list. */\n        this._direction = 'ltr';\n        /** Subscription to the window being scrolled. */\n        this._viewportScrollSubscription = Subscription.EMPTY;\n        /** Vertical direction in which the list is currently scrolling. */\n        this._verticalScrollDirection = 0 /* NONE */;\n        /** Horizontal direction in which the list is currently scrolling. */\n        this._horizontalScrollDirection = 0 /* NONE */;\n        /** Used to signal to the current auto-scroll sequence when to stop. */\n        this._stopScrollTimers = new Subject();\n        /** Shadow root of the current element. Necessary for `elementFromPoint` to resolve correctly. */\n        this._cachedShadowRoot = null;\n        /** Starts the interval that'll auto-scroll the element. */\n        this._startScrollInterval = () => {\n            this._stopScrolling();\n            interval(0, animationFrameScheduler)\n                .pipe(takeUntil(this._stopScrollTimers))\n                .subscribe(() => {\n                const node = this._scrollNode;\n                if (this._verticalScrollDirection === 1 /* UP */) {\n                    incrementVerticalScroll(node, -AUTO_SCROLL_STEP);\n                }\n                else if (this._verticalScrollDirection === 2 /* DOWN */) {\n                    incrementVerticalScroll(node, AUTO_SCROLL_STEP);\n                }\n                if (this._horizontalScrollDirection === 1 /* LEFT */) {\n                    incrementHorizontalScroll(node, -AUTO_SCROLL_STEP);\n                }\n                else if (this._horizontalScrollDirection === 2 /* RIGHT */) {\n                    incrementHorizontalScroll(node, AUTO_SCROLL_STEP);\n                }\n            });\n        };\n        this.element = coerceElement(element);\n        this._document = _document;\n        this.withScrollableParents([this.element]);\n        _dragDropRegistry.registerDropContainer(this);\n        this._parentPositions = new ParentPositionTracker(_document, _viewportRuler);\n    }\n    /** Removes the drop list functionality from the DOM element. */\n    dispose() {\n        this._stopScrolling();\n        this._stopScrollTimers.complete();\n        this._viewportScrollSubscription.unsubscribe();\n        this.beforeStarted.complete();\n        this.entered.complete();\n        this.exited.complete();\n        this.dropped.complete();\n        this.sorted.complete();\n        this._activeSiblings.clear();\n        this._scrollNode = null;\n        this._parentPositions.clear();\n        this._dragDropRegistry.removeDropContainer(this);\n    }\n    /** Whether an item from this list is currently being dragged. */\n    isDragging() {\n        return this._isDragging;\n    }\n    /** Starts dragging an item. */\n    start() {\n        const styles = coerceElement(this.element).style;\n        this.beforeStarted.next();\n        this._isDragging = true;\n        // We need to disable scroll snapping while the user is dragging, because it breaks automatic\n        // scrolling. The browser seems to round the value based on the snapping points which means\n        // that we can't increment/decrement the scroll position.\n        this._initialScrollSnap = styles.msScrollSnapType || styles.scrollSnapType || '';\n        styles.scrollSnapType = styles.msScrollSnapType = 'none';\n        this._cacheItems();\n        this._siblings.forEach(sibling => sibling._startReceiving(this));\n        this._viewportScrollSubscription.unsubscribe();\n        this._listenToScrollEvents();\n    }\n    /**\n     * Emits an event to indicate that the user moved an item into the container.\n     * @param item Item that was moved into the container.\n     * @param pointerX Position of the item along the X axis.\n     * @param pointerY Position of the item along the Y axis.\n     * @param index Index at which the item entered. If omitted, the container will try to figure it\n     *   out automatically.\n     */\n    enter(item, pointerX, pointerY, index) {\n        this.start();\n        // If sorting is disabled, we want the item to return to its starting\n        // position if the user is returning it to its initial container.\n        let newIndex;\n        if (index == null) {\n            newIndex = this.sortingDisabled ? this._draggables.indexOf(item) : -1;\n            if (newIndex === -1) {\n                // We use the coordinates of where the item entered the drop\n                // zone to figure out at which index it should be inserted.\n                newIndex = this._getItemIndexFromPointerPosition(item, pointerX, pointerY);\n            }\n        }\n        else {\n            newIndex = index;\n        }\n        const activeDraggables = this._activeDraggables;\n        const currentIndex = activeDraggables.indexOf(item);\n        const placeholder = item.getPlaceholderElement();\n        let newPositionReference = activeDraggables[newIndex];\n        // If the item at the new position is the same as the item that is being dragged,\n        // it means that we're trying to restore the item to its initial position. In this\n        // case we should use the next item from the list as the reference.\n        if (newPositionReference === item) {\n            newPositionReference = activeDraggables[newIndex + 1];\n        }\n        // Since the item may be in the `activeDraggables` already (e.g. if the user dragged it\n        // into another container and back again), we have to ensure that it isn't duplicated.\n        if (currentIndex > -1) {\n            activeDraggables.splice(currentIndex, 1);\n        }\n        // Don't use items that are being dragged as a reference, because\n        // their element has been moved down to the bottom of the body.\n        if (newPositionReference && !this._dragDropRegistry.isDragging(newPositionReference)) {\n            const element = newPositionReference.getRootElement();\n            element.parentElement.insertBefore(placeholder, element);\n            activeDraggables.splice(newIndex, 0, item);\n        }\n        else if (this._shouldEnterAsFirstChild(pointerX, pointerY)) {\n            const reference = activeDraggables[0].getRootElement();\n            reference.parentNode.insertBefore(placeholder, reference);\n            activeDraggables.unshift(item);\n        }\n        else {\n            coerceElement(this.element).appendChild(placeholder);\n            activeDraggables.push(item);\n        }\n        // The transform needs to be cleared so it doesn't throw off the measurements.\n        placeholder.style.transform = '';\n        // Note that the positions were already cached when we called `start` above,\n        // but we need to refresh them since the amount of items has changed and also parent rects.\n        this._cacheItemPositions();\n        this._cacheParentPositions();\n        this.entered.next({ item, container: this, currentIndex: this.getItemIndex(item) });\n    }\n    /**\n     * Removes an item from the container after it was dragged into another container by the user.\n     * @param item Item that was dragged out.\n     */\n    exit(item) {\n        this._reset();\n        this.exited.next({ item, container: this });\n    }\n    /**\n     * Drops an item into this container.\n     * @param item Item being dropped into the container.\n     * @param currentIndex Index at which the item should be inserted.\n     * @param previousContainer Container from which the item got dragged in.\n     * @param isPointerOverContainer Whether the user's pointer was over the\n     *    container when the item was dropped.\n     * @param distance Distance the user has dragged since the start of the dragging sequence.\n     * @param previousIndex Index of the item when dragging started.\n     *\n     * @breaking-change 11.0.0 `previousIndex` parameter to become required.\n     */\n    drop(item, currentIndex, previousContainer, isPointerOverContainer, distance, previousIndex) {\n        this._reset();\n        // @breaking-change 11.0.0 Remove this fallback logic once `previousIndex` is a required param.\n        if (previousIndex == null) {\n            previousIndex = previousContainer.getItemIndex(item);\n        }\n        this.dropped.next({ item,\n            currentIndex,\n            previousIndex,\n            container: this,\n            previousContainer,\n            isPointerOverContainer,\n            distance\n        });\n    }\n    /**\n     * Sets the draggable items that are a part of this list.\n     * @param items Items that are a part of this list.\n     */\n    withItems(items) {\n        const previousItems = this._draggables;\n        this._draggables = items;\n        items.forEach(item => item._withDropContainer(this));\n        if (this.isDragging()) {\n            const draggedItems = previousItems.filter(item => item.isDragging());\n            // If all of the items being dragged were removed\n            // from the list, abort the current drag sequence.\n            if (draggedItems.every(item => items.indexOf(item) === -1)) {\n                this._reset();\n            }\n            else {\n                this._cacheItems();\n            }\n        }\n        return this;\n    }\n    /** Sets the layout direction of the drop list. */\n    withDirection(direction) {\n        this._direction = direction;\n        return this;\n    }\n    /**\n     * Sets the containers that are connected to this one. When two or more containers are\n     * connected, the user will be allowed to transfer items between them.\n     * @param connectedTo Other containers that the current containers should be connected to.\n     */\n    connectedTo(connectedTo) {\n        this._siblings = connectedTo.slice();\n        return this;\n    }\n    /**\n     * Sets the orientation of the container.\n     * @param orientation New orientation for the container.\n     */\n    withOrientation(orientation) {\n        this._orientation = orientation;\n        return this;\n    }\n    /**\n     * Sets which parent elements are can be scrolled while the user is dragging.\n     * @param elements Elements that can be scrolled.\n     */\n    withScrollableParents(elements) {\n        const element = coerceElement(this.element);\n        // We always allow the current element to be scrollable\n        // so we need to ensure that it's in the array.\n        this._scrollableElements =\n            elements.indexOf(element) === -1 ? [element, ...elements] : elements.slice();\n        return this;\n    }\n    /** Gets the scrollable parents that are registered with this drop container. */\n    getScrollableParents() {\n        return this._scrollableElements;\n    }\n    /**\n     * Figures out the index of an item in the container.\n     * @param item Item whose index should be determined.\n     */\n    getItemIndex(item) {\n        if (!this._isDragging) {\n            return this._draggables.indexOf(item);\n        }\n        // Items are sorted always by top/left in the cache, however they flow differently in RTL.\n        // The rest of the logic still stands no matter what orientation we're in, however\n        // we need to invert the array when determining the index.\n        const items = this._orientation === 'horizontal' && this._direction === 'rtl' ?\n            this._itemPositions.slice().reverse() : this._itemPositions;\n        return findIndex(items, currentItem => currentItem.drag === item);\n    }\n    /**\n     * Whether the list is able to receive the item that\n     * is currently being dragged inside a connected drop list.\n     */\n    isReceiving() {\n        return this._activeSiblings.size > 0;\n    }\n    /**\n     * Sorts an item inside the container based on its position.\n     * @param item Item to be sorted.\n     * @param pointerX Position of the item along the X axis.\n     * @param pointerY Position of the item along the Y axis.\n     * @param pointerDelta Direction in which the pointer is moving along each axis.\n     */\n    _sortItem(item, pointerX, pointerY, pointerDelta) {\n        // Don't sort the item if sorting is disabled or it's out of range.\n        if (this.sortingDisabled ||\n            !isPointerNearClientRect(this._clientRect, DROP_PROXIMITY_THRESHOLD, pointerX, pointerY)) {\n            return;\n        }\n        const siblings = this._itemPositions;\n        const newIndex = this._getItemIndexFromPointerPosition(item, pointerX, pointerY, pointerDelta);\n        if (newIndex === -1 && siblings.length > 0) {\n            return;\n        }\n        const isHorizontal = this._orientation === 'horizontal';\n        const currentIndex = findIndex(siblings, currentItem => currentItem.drag === item);\n        const siblingAtNewPosition = siblings[newIndex];\n        const currentPosition = siblings[currentIndex].clientRect;\n        const newPosition = siblingAtNewPosition.clientRect;\n        const delta = currentIndex > newIndex ? 1 : -1;\n        // How many pixels the item's placeholder should be offset.\n        const itemOffset = this._getItemOffsetPx(currentPosition, newPosition, delta);\n        // How many pixels all the other items should be offset.\n        const siblingOffset = this._getSiblingOffsetPx(currentIndex, siblings, delta);\n        // Save the previous order of the items before moving the item to its new index.\n        // We use this to check whether an item has been moved as a result of the sorting.\n        const oldOrder = siblings.slice();\n        // Shuffle the array in place.\n        moveItemInArray(siblings, currentIndex, newIndex);\n        this.sorted.next({\n            previousIndex: currentIndex,\n            currentIndex: newIndex,\n            container: this,\n            item\n        });\n        siblings.forEach((sibling, index) => {\n            // Don't do anything if the position hasn't changed.\n            if (oldOrder[index] === sibling) {\n                return;\n            }\n            const isDraggedItem = sibling.drag === item;\n            const offset = isDraggedItem ? itemOffset : siblingOffset;\n            const elementToOffset = isDraggedItem ? item.getPlaceholderElement() :\n                sibling.drag.getRootElement();\n            // Update the offset to reflect the new position.\n            sibling.offset += offset;\n            // Since we're moving the items with a `transform`, we need to adjust their cached\n            // client rects to reflect their new position, as well as swap their positions in the cache.\n            // Note that we shouldn't use `getBoundingClientRect` here to update the cache, because the\n            // elements may be mid-animation which will give us a wrong result.\n            if (isHorizontal) {\n                // Round the transforms since some browsers will\n                // blur the elements, for sub-pixel transforms.\n                elementToOffset.style.transform = `translate3d(${Math.round(sibling.offset)}px, 0, 0)`;\n                adjustClientRect(sibling.clientRect, 0, offset);\n            }\n            else {\n                elementToOffset.style.transform = `translate3d(0, ${Math.round(sibling.offset)}px, 0)`;\n                adjustClientRect(sibling.clientRect, offset, 0);\n            }\n        });\n        // Note that it's important that we do this after the client rects have been adjusted.\n        this._previousSwap.overlaps = isInsideClientRect(newPosition, pointerX, pointerY);\n        this._previousSwap.drag = siblingAtNewPosition.drag;\n        this._previousSwap.delta = isHorizontal ? pointerDelta.x : pointerDelta.y;\n    }\n    /**\n     * Checks whether the user's pointer is close to the edges of either the\n     * viewport or the drop list and starts the auto-scroll sequence.\n     * @param pointerX User's pointer position along the x axis.\n     * @param pointerY User's pointer position along the y axis.\n     */\n    _startScrollingIfNecessary(pointerX, pointerY) {\n        if (this.autoScrollDisabled) {\n            return;\n        }\n        let scrollNode;\n        let verticalScrollDirection = 0 /* NONE */;\n        let horizontalScrollDirection = 0 /* NONE */;\n        // Check whether we should start scrolling any of the parent containers.\n        this._parentPositions.positions.forEach((position, element) => {\n            // We have special handling for the `document` below. Also this would be\n            // nicer with a  for...of loop, but it requires changing a compiler flag.\n            if (element === this._document || !position.clientRect || scrollNode) {\n                return;\n            }\n            if (isPointerNearClientRect(position.clientRect, DROP_PROXIMITY_THRESHOLD, pointerX, pointerY)) {\n                [verticalScrollDirection, horizontalScrollDirection] = getElementScrollDirections(element, position.clientRect, pointerX, pointerY);\n                if (verticalScrollDirection || horizontalScrollDirection) {\n                    scrollNode = element;\n                }\n            }\n        });\n        // Otherwise check if we can start scrolling the viewport.\n        if (!verticalScrollDirection && !horizontalScrollDirection) {\n            const { width, height } = this._viewportRuler.getViewportSize();\n            const clientRect = { width, height, top: 0, right: width, bottom: height, left: 0 };\n            verticalScrollDirection = getVerticalScrollDirection(clientRect, pointerY);\n            horizontalScrollDirection = getHorizontalScrollDirection(clientRect, pointerX);\n            scrollNode = window;\n        }\n        if (scrollNode && (verticalScrollDirection !== this._verticalScrollDirection ||\n            horizontalScrollDirection !== this._horizontalScrollDirection ||\n            scrollNode !== this._scrollNode)) {\n            this._verticalScrollDirection = verticalScrollDirection;\n            this._horizontalScrollDirection = horizontalScrollDirection;\n            this._scrollNode = scrollNode;\n            if ((verticalScrollDirection || horizontalScrollDirection) && scrollNode) {\n                this._ngZone.runOutsideAngular(this._startScrollInterval);\n            }\n            else {\n                this._stopScrolling();\n            }\n        }\n    }\n    /** Stops any currently-running auto-scroll sequences. */\n    _stopScrolling() {\n        this._stopScrollTimers.next();\n    }\n    /** Caches the positions of the configured scrollable parents. */\n    _cacheParentPositions() {\n        const element = coerceElement(this.element);\n        this._parentPositions.cache(this._scrollableElements);\n        // The list element is always in the `scrollableElements`\n        // so we can take advantage of the cached `ClientRect`.\n        this._clientRect = this._parentPositions.positions.get(element).clientRect;\n    }\n    /** Refreshes the position cache of the items and sibling containers. */\n    _cacheItemPositions() {\n        const isHorizontal = this._orientation === 'horizontal';\n        this._itemPositions = this._activeDraggables.map(drag => {\n            const elementToMeasure = drag.getVisibleElement();\n            return { drag, offset: 0, clientRect: getMutableClientRect(elementToMeasure) };\n        }).sort((a, b) => {\n            return isHorizontal ? a.clientRect.left - b.clientRect.left :\n                a.clientRect.top - b.clientRect.top;\n        });\n    }\n    /** Resets the container to its initial state. */\n    _reset() {\n        this._isDragging = false;\n        const styles = coerceElement(this.element).style;\n        styles.scrollSnapType = styles.msScrollSnapType = this._initialScrollSnap;\n        // TODO(crisbeto): may have to wait for the animations to finish.\n        this._activeDraggables.forEach(item => {\n            const rootElement = item.getRootElement();\n            if (rootElement) {\n                rootElement.style.transform = '';\n            }\n        });\n        this._siblings.forEach(sibling => sibling._stopReceiving(this));\n        this._activeDraggables = [];\n        this._itemPositions = [];\n        this._previousSwap.drag = null;\n        this._previousSwap.delta = 0;\n        this._previousSwap.overlaps = false;\n        this._stopScrolling();\n        this._viewportScrollSubscription.unsubscribe();\n        this._parentPositions.clear();\n    }\n    /**\n     * Gets the offset in pixels by which the items that aren't being dragged should be moved.\n     * @param currentIndex Index of the item currently being dragged.\n     * @param siblings All of the items in the list.\n     * @param delta Direction in which the user is moving.\n     */\n    _getSiblingOffsetPx(currentIndex, siblings, delta) {\n        const isHorizontal = this._orientation === 'horizontal';\n        const currentPosition = siblings[currentIndex].clientRect;\n        const immediateSibling = siblings[currentIndex + delta * -1];\n        let siblingOffset = currentPosition[isHorizontal ? 'width' : 'height'] * delta;\n        if (immediateSibling) {\n            const start = isHorizontal ? 'left' : 'top';\n            const end = isHorizontal ? 'right' : 'bottom';\n            // Get the spacing between the start of the current item and the end of the one immediately\n            // after it in the direction in which the user is dragging, or vice versa. We add it to the\n            // offset in order to push the element to where it will be when it's inline and is influenced\n            // by the `margin` of its siblings.\n            if (delta === -1) {\n                siblingOffset -= immediateSibling.clientRect[start] - currentPosition[end];\n            }\n            else {\n                siblingOffset += currentPosition[start] - immediateSibling.clientRect[end];\n            }\n        }\n        return siblingOffset;\n    }\n    /**\n     * Gets the offset in pixels by which the item that is being dragged should be moved.\n     * @param currentPosition Current position of the item.\n     * @param newPosition Position of the item where the current item should be moved.\n     * @param delta Direction in which the user is moving.\n     */\n    _getItemOffsetPx(currentPosition, newPosition, delta) {\n        const isHorizontal = this._orientation === 'horizontal';\n        let itemOffset = isHorizontal ? newPosition.left - currentPosition.left :\n            newPosition.top - currentPosition.top;\n        // Account for differences in the item width/height.\n        if (delta === -1) {\n            itemOffset += isHorizontal ? newPosition.width - currentPosition.width :\n                newPosition.height - currentPosition.height;\n        }\n        return itemOffset;\n    }\n    /**\n     * Checks if pointer is entering in the first position\n     * @param pointerX Position of the user's pointer along the X axis.\n     * @param pointerY Position of the user's pointer along the Y axis.\n     */\n    _shouldEnterAsFirstChild(pointerX, pointerY) {\n        if (!this._activeDraggables.length) {\n            return false;\n        }\n        const itemPositions = this._itemPositions;\n        const isHorizontal = this._orientation === 'horizontal';\n        // `itemPositions` are sorted by position while `activeDraggables` are sorted by child index\n        // check if container is using some sort of \"reverse\" ordering (eg: flex-direction: row-reverse)\n        const reversed = itemPositions[0].drag !== this._activeDraggables[0];\n        if (reversed) {\n            const lastItemRect = itemPositions[itemPositions.length - 1].clientRect;\n            return isHorizontal ? pointerX >= lastItemRect.right : pointerY >= lastItemRect.bottom;\n        }\n        else {\n            const firstItemRect = itemPositions[0].clientRect;\n            return isHorizontal ? pointerX <= firstItemRect.left : pointerY <= firstItemRect.top;\n        }\n    }\n    /**\n     * Gets the index of an item in the drop container, based on the position of the user's pointer.\n     * @param item Item that is being sorted.\n     * @param pointerX Position of the user's pointer along the X axis.\n     * @param pointerY Position of the user's pointer along the Y axis.\n     * @param delta Direction in which the user is moving their pointer.\n     */\n    _getItemIndexFromPointerPosition(item, pointerX, pointerY, delta) {\n        const isHorizontal = this._orientation === 'horizontal';\n        return findIndex(this._itemPositions, ({ drag, clientRect }, _, array) => {\n            if (drag === item) {\n                // If there's only one item left in the container, it must be\n                // the dragged item itself so we use it as a reference.\n                return array.length < 2;\n            }\n            if (delta) {\n                const direction = isHorizontal ? delta.x : delta.y;\n                // If the user is still hovering over the same item as last time, their cursor hasn't left\n                // the item after we made the swap, and they didn't change the direction in which they're\n                // dragging, we don't consider it a direction swap.\n                if (drag === this._previousSwap.drag && this._previousSwap.overlaps &&\n                    direction === this._previousSwap.delta) {\n                    return false;\n                }\n            }\n            return isHorizontal ?\n                // Round these down since most browsers report client rects with\n                // sub-pixel precision, whereas the pointer coordinates are rounded to pixels.\n                pointerX >= Math.floor(clientRect.left) && pointerX < Math.floor(clientRect.right) :\n                pointerY >= Math.floor(clientRect.top) && pointerY < Math.floor(clientRect.bottom);\n        });\n    }\n    /** Caches the current items in the list and their positions. */\n    _cacheItems() {\n        this._activeDraggables = this._draggables.slice();\n        this._cacheItemPositions();\n        this._cacheParentPositions();\n    }\n    /**\n     * Checks whether the user's pointer is positioned over the container.\n     * @param x Pointer position along the X axis.\n     * @param y Pointer position along the Y axis.\n     */\n    _isOverContainer(x, y) {\n        return isInsideClientRect(this._clientRect, x, y);\n    }\n    /**\n     * Figures out whether an item should be moved into a sibling\n     * drop container, based on its current position.\n     * @param item Drag item that is being moved.\n     * @param x Position of the item along the X axis.\n     * @param y Position of the item along the Y axis.\n     */\n    _getSiblingContainerFromPosition(item, x, y) {\n        return this._siblings.find(sibling => sibling._canReceive(item, x, y));\n    }\n    /**\n     * Checks whether the drop list can receive the passed-in item.\n     * @param item Item that is being dragged into the list.\n     * @param x Position of the item along the X axis.\n     * @param y Position of the item along the Y axis.\n     */\n    _canReceive(item, x, y) {\n        if (!isInsideClientRect(this._clientRect, x, y) || !this.enterPredicate(item, this)) {\n            return false;\n        }\n        const elementFromPoint = this._getShadowRoot().elementFromPoint(x, y);\n        // If there's no element at the pointer position, then\n        // the client rect is probably scrolled out of the view.\n        if (!elementFromPoint) {\n            return false;\n        }\n        const nativeElement = coerceElement(this.element);\n        // The `ClientRect`, that we're using to find the container over which the user is\n        // hovering, doesn't give us any information on whether the element has been scrolled\n        // out of the view or whether it's overlapping with other containers. This means that\n        // we could end up transferring the item into a container that's invisible or is positioned\n        // below another one. We use the result from `elementFromPoint` to get the top-most element\n        // at the pointer position and to find whether it's one of the intersecting drop containers.\n        return elementFromPoint === nativeElement || nativeElement.contains(elementFromPoint);\n    }\n    /**\n     * Called by one of the connected drop lists when a dragging sequence has started.\n     * @param sibling Sibling in which dragging has started.\n     */\n    _startReceiving(sibling) {\n        const activeSiblings = this._activeSiblings;\n        if (!activeSiblings.has(sibling)) {\n            activeSiblings.add(sibling);\n            this._cacheParentPositions();\n            this._listenToScrollEvents();\n        }\n    }\n    /**\n     * Called by a connected drop list when dragging has stopped.\n     * @param sibling Sibling whose dragging has stopped.\n     */\n    _stopReceiving(sibling) {\n        this._activeSiblings.delete(sibling);\n        this._viewportScrollSubscription.unsubscribe();\n    }\n    /**\n     * Starts listening to scroll events on the viewport.\n     * Used for updating the internal state of the list.\n     */\n    _listenToScrollEvents() {\n        this._viewportScrollSubscription = this._dragDropRegistry.scroll.subscribe(event => {\n            if (this.isDragging()) {\n                const scrollDifference = this._parentPositions.handleScroll(event);\n                if (scrollDifference) {\n                    // Since we know the amount that the user has scrolled we can shift all of the\n                    // client rectangles ourselves. This is cheaper than re-measuring everything and\n                    // we can avoid inconsistent behavior where we might be measuring the element before\n                    // its position has changed.\n                    this._itemPositions.forEach(({ clientRect }) => {\n                        adjustClientRect(clientRect, scrollDifference.top, scrollDifference.left);\n                    });\n                    // We need two loops for this, because we want all of the cached\n                    // positions to be up-to-date before we re-sort the item.\n                    this._itemPositions.forEach(({ drag }) => {\n                        if (this._dragDropRegistry.isDragging(drag)) {\n                            // We need to re-sort the item manually, because the pointer move\n                            // events won't be dispatched while the user is scrolling.\n                            drag._sortFromLastPointerPosition();\n                        }\n                    });\n                }\n            }\n            else if (this.isReceiving()) {\n                this._cacheParentPositions();\n            }\n        });\n    }\n    /**\n     * Lazily resolves and returns the shadow root of the element. We do this in a function, rather\n     * than saving it in property directly on init, because we want to resolve it as late as possible\n     * in order to ensure that the element has been moved into the shadow DOM. Doing it inside the\n     * constructor might be too early if the element is inside of something like `ngFor` or `ngIf`.\n     */\n    _getShadowRoot() {\n        if (!this._cachedShadowRoot) {\n            const shadowRoot = _getShadowRoot(coerceElement(this.element));\n            this._cachedShadowRoot = shadowRoot || this._document;\n        }\n        return this._cachedShadowRoot;\n    }\n}\n/**\n * Finds the index of an item that matches a predicate function. Used as an equivalent\n * of `Array.prototype.findIndex` which isn't part of the standard Google typings.\n * @param array Array in which to look for matches.\n * @param predicate Function used to determine whether an item is a match.\n */\nfunction findIndex(array, predicate) {\n    for (let i = 0; i < array.length; i++) {\n        if (predicate(array[i], i, array)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Increments the vertical scroll position of a node.\n * @param node Node whose scroll position should change.\n * @param amount Amount of pixels that the `node` should be scrolled.\n */\nfunction incrementVerticalScroll(node, amount) {\n    if (node === window) {\n        node.scrollBy(0, amount);\n    }\n    else {\n        // Ideally we could use `Element.scrollBy` here as well, but IE and Edge don't support it.\n        node.scrollTop += amount;\n    }\n}\n/**\n * Increments the horizontal scroll position of a node.\n * @param node Node whose scroll position should change.\n * @param amount Amount of pixels that the `node` should be scrolled.\n */\nfunction incrementHorizontalScroll(node, amount) {\n    if (node === window) {\n        node.scrollBy(amount, 0);\n    }\n    else {\n        // Ideally we could use `Element.scrollBy` here as well, but IE and Edge don't support it.\n        node.scrollLeft += amount;\n    }\n}\n/**\n * Gets whether the vertical auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerY Position of the user's pointer along the y axis.\n */\nfunction getVerticalScrollDirection(clientRect, pointerY) {\n    const { top, bottom, height } = clientRect;\n    const yThreshold = height * SCROLL_PROXIMITY_THRESHOLD;\n    if (pointerY >= top - yThreshold && pointerY <= top + yThreshold) {\n        return 1 /* UP */;\n    }\n    else if (pointerY >= bottom - yThreshold && pointerY <= bottom + yThreshold) {\n        return 2 /* DOWN */;\n    }\n    return 0 /* NONE */;\n}\n/**\n * Gets whether the horizontal auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerX Position of the user's pointer along the x axis.\n */\nfunction getHorizontalScrollDirection(clientRect, pointerX) {\n    const { left, right, width } = clientRect;\n    const xThreshold = width * SCROLL_PROXIMITY_THRESHOLD;\n    if (pointerX >= left - xThreshold && pointerX <= left + xThreshold) {\n        return 1 /* LEFT */;\n    }\n    else if (pointerX >= right - xThreshold && pointerX <= right + xThreshold) {\n        return 2 /* RIGHT */;\n    }\n    return 0 /* NONE */;\n}\n/**\n * Gets the directions in which an element node should be scrolled,\n * assuming that the user's pointer is already within it scrollable region.\n * @param element Element for which we should calculate the scroll direction.\n * @param clientRect Bounding client rectangle of the element.\n * @param pointerX Position of the user's pointer along the x axis.\n * @param pointerY Position of the user's pointer along the y axis.\n */\nfunction getElementScrollDirections(element, clientRect, pointerX, pointerY) {\n    const computedVertical = getVerticalScrollDirection(clientRect, pointerY);\n    const computedHorizontal = getHorizontalScrollDirection(clientRect, pointerX);\n    let verticalScrollDirection = 0 /* NONE */;\n    let horizontalScrollDirection = 0 /* NONE */;\n    // Note that we here we do some extra checks for whether the element is actually scrollable in\n    // a certain direction and we only assign the scroll direction if it is. We do this so that we\n    // can allow other elements to be scrolled, if the current element can't be scrolled anymore.\n    // This allows us to handle cases where the scroll regions of two scrollable elements overlap.\n    if (computedVertical) {\n        const scrollTop = element.scrollTop;\n        if (computedVertical === 1 /* UP */) {\n            if (scrollTop > 0) {\n                verticalScrollDirection = 1 /* UP */;\n            }\n        }\n        else if (element.scrollHeight - scrollTop > element.clientHeight) {\n            verticalScrollDirection = 2 /* DOWN */;\n        }\n    }\n    if (computedHorizontal) {\n        const scrollLeft = element.scrollLeft;\n        if (computedHorizontal === 1 /* LEFT */) {\n            if (scrollLeft > 0) {\n                horizontalScrollDirection = 1 /* LEFT */;\n            }\n        }\n        else if (element.scrollWidth - scrollLeft > element.clientWidth) {\n            horizontalScrollDirection = 2 /* RIGHT */;\n        }\n    }\n    return [verticalScrollDirection, horizontalScrollDirection];\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Event options that can be used to bind an active, capturing event. */\nconst activeCapturingEventOptions = normalizePassiveListenerOptions({\n    passive: false,\n    capture: true\n});\n/**\n * Service that keeps track of all the drag item and drop container\n * instances, and manages global event listeners on the `document`.\n * @docs-private\n */\n// Note: this class is generic, rather than referencing CdkDrag and CdkDropList directly, in order\n// to avoid circular imports. If we were to reference them here, importing the registry into the\n// classes that are registering themselves will introduce a circular import.\nclass DragDropRegistry {\n    constructor(_ngZone, _document) {\n        this._ngZone = _ngZone;\n        /** Registered drop container instances. */\n        this._dropInstances = new Set();\n        /** Registered drag item instances. */\n        this._dragInstances = new Set();\n        /** Drag item instances that are currently being dragged. */\n        this._activeDragInstances = new Set();\n        /** Keeps track of the event listeners that we've bound to the `document`. */\n        this._globalListeners = new Map();\n        /**\n         * Emits the `touchmove` or `mousemove` events that are dispatched\n         * while the user is dragging a drag item instance.\n         */\n        this.pointerMove = new Subject();\n        /**\n         * Emits the `touchend` or `mouseup` events that are dispatched\n         * while the user is dragging a drag item instance.\n         */\n        this.pointerUp = new Subject();\n        /** Emits when the viewport has been scrolled while the user is dragging an item. */\n        this.scroll = new Subject();\n        /**\n         * Event listener that will prevent the default browser action while the user is dragging.\n         * @param event Event whose default action should be prevented.\n         */\n        this._preventDefaultWhileDragging = (event) => {\n            if (this._activeDragInstances.size) {\n                event.preventDefault();\n            }\n        };\n        this._document = _document;\n    }\n    /** Adds a drop container to the registry. */\n    registerDropContainer(drop) {\n        if (!this._dropInstances.has(drop)) {\n            this._dropInstances.add(drop);\n        }\n    }\n    /** Adds a drag item instance to the registry. */\n    registerDragItem(drag) {\n        this._dragInstances.add(drag);\n        // The `touchmove` event gets bound once, ahead of time, because WebKit\n        // won't preventDefault on a dynamically-added `touchmove` listener.\n        // See https://bugs.webkit.org/show_bug.cgi?id=184250.\n        if (this._dragInstances.size === 1) {\n            this._ngZone.runOutsideAngular(() => {\n                // The event handler has to be explicitly active,\n                // because newer browsers make it passive by default.\n                this._document.addEventListener('touchmove', this._preventDefaultWhileDragging, activeCapturingEventOptions);\n            });\n        }\n    }\n    /** Removes a drop container from the registry. */\n    removeDropContainer(drop) {\n        this._dropInstances.delete(drop);\n    }\n    /** Removes a drag item instance from the registry. */\n    removeDragItem(drag) {\n        this._dragInstances.delete(drag);\n        this.stopDragging(drag);\n        if (this._dragInstances.size === 0) {\n            this._document.removeEventListener('touchmove', this._preventDefaultWhileDragging, activeCapturingEventOptions);\n        }\n    }\n    /**\n     * Starts the dragging sequence for a drag instance.\n     * @param drag Drag instance which is being dragged.\n     * @param event Event that initiated the dragging.\n     */\n    startDragging(drag, event) {\n        // Do not process the same drag twice to avoid memory leaks and redundant listeners\n        if (this._activeDragInstances.has(drag)) {\n            return;\n        }\n        this._activeDragInstances.add(drag);\n        if (this._activeDragInstances.size === 1) {\n            const isTouchEvent = event.type.startsWith('touch');\n            const moveEvent = isTouchEvent ? 'touchmove' : 'mousemove';\n            const upEvent = isTouchEvent ? 'touchend' : 'mouseup';\n            // We explicitly bind __active__ listeners here, because newer browsers will default to\n            // passive ones for `mousemove` and `touchmove`. The events need to be active, because we\n            // use `preventDefault` to prevent the page from scrolling while the user is dragging.\n            this._globalListeners\n                .set(moveEvent, {\n                handler: (e) => this.pointerMove.next(e),\n                options: activeCapturingEventOptions\n            })\n                .set(upEvent, {\n                handler: (e) => this.pointerUp.next(e),\n                options: true\n            })\n                .set('scroll', {\n                handler: (e) => this.scroll.next(e),\n                // Use capturing so that we pick up scroll changes in any scrollable nodes that aren't\n                // the document. See https://github.com/angular/components/issues/17144.\n                options: true\n            })\n                // Preventing the default action on `mousemove` isn't enough to disable text selection\n                // on Safari so we need to prevent the selection event as well. Alternatively this can\n                // be done by setting `user-select: none` on the `body`, however it has causes a style\n                // recalculation which can be expensive on pages with a lot of elements.\n                .set('selectstart', {\n                handler: this._preventDefaultWhileDragging,\n                options: activeCapturingEventOptions\n            });\n            this._ngZone.runOutsideAngular(() => {\n                this._globalListeners.forEach((config, name) => {\n                    this._document.addEventListener(name, config.handler, config.options);\n                });\n            });\n        }\n    }\n    /** Stops dragging a drag item instance. */\n    stopDragging(drag) {\n        this._activeDragInstances.delete(drag);\n        if (this._activeDragInstances.size === 0) {\n            this._clearGlobalListeners();\n        }\n    }\n    /** Gets whether a drag item instance is currently being dragged. */\n    isDragging(drag) {\n        return this._activeDragInstances.has(drag);\n    }\n    ngOnDestroy() {\n        this._dragInstances.forEach(instance => this.removeDragItem(instance));\n        this._dropInstances.forEach(instance => this.removeDropContainer(instance));\n        this._clearGlobalListeners();\n        this.pointerMove.complete();\n        this.pointerUp.complete();\n    }\n    /** Clears out the global event listeners from the `document`. */\n    _clearGlobalListeners() {\n        this._globalListeners.forEach((config, name) => {\n            this._document.removeEventListener(name, config.handler, config.options);\n        });\n        this._globalListeners.clear();\n    }\n}\nDragDropRegistry.ɵfac = function DragDropRegistry_Factory(t) { return new (t || DragDropRegistry)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(DOCUMENT)); };\nDragDropRegistry.ɵprov = ɵɵdefineInjectable({ factory: function DragDropRegistry_Factory() { return new DragDropRegistry(ɵɵinject(NgZone), ɵɵinject(DOCUMENT)); }, token: DragDropRegistry, providedIn: \"root\" });\nDragDropRegistry.ctorParameters = () => [\n    { type: NgZone },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragDropRegistry, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }]; }, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Default configuration to be used when creating a `DragRef`. */\nconst DEFAULT_CONFIG = {\n    dragStartThreshold: 5,\n    pointerDirectionChangeThreshold: 5\n};\n/**\n * Service that allows for drag-and-drop functionality to be attached to DOM elements.\n */\nclass DragDrop {\n    constructor(_document, _ngZone, _viewportRuler, _dragDropRegistry) {\n        this._document = _document;\n        this._ngZone = _ngZone;\n        this._viewportRuler = _viewportRuler;\n        this._dragDropRegistry = _dragDropRegistry;\n    }\n    /**\n     * Turns an element into a draggable item.\n     * @param element Element to which to attach the dragging functionality.\n     * @param config Object used to configure the dragging behavior.\n     */\n    createDrag(element, config = DEFAULT_CONFIG) {\n        return new DragRef(element, config, this._document, this._ngZone, this._viewportRuler, this._dragDropRegistry);\n    }\n    /**\n     * Turns an element into a drop list.\n     * @param element Element to which to attach the drop list functionality.\n     */\n    createDropList(element) {\n        return new DropListRef(element, this._dragDropRegistry, this._document, this._ngZone, this._viewportRuler);\n    }\n}\nDragDrop.ɵfac = function DragDrop_Factory(t) { return new (t || DragDrop)(ɵngcc0.ɵɵinject(DOCUMENT), ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc1.ViewportRuler), ɵngcc0.ɵɵinject(DragDropRegistry)); };\nDragDrop.ɵprov = ɵɵdefineInjectable({ factory: function DragDrop_Factory() { return new DragDrop(ɵɵinject(DOCUMENT), ɵɵinject(NgZone), ɵɵinject(ViewportRuler), ɵɵinject(DragDropRegistry)); }, token: DragDrop, providedIn: \"root\" });\nDragDrop.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: NgZone },\n    { type: ViewportRuler },\n    { type: DragDropRegistry }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragDrop, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ɵngcc0.NgZone }, { type: ɵngcc1.ViewportRuler }, { type: DragDropRegistry }]; }, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used for a `CdkDrag` to provide itself as a parent to the\n * drag-specific child directive (`CdkDragHandle`, `CdkDragPreview` etc.). Used primarily\n * to avoid circular imports.\n * @docs-private\n */\nconst CDK_DRAG_PARENT = new InjectionToken('CDK_DRAG_PARENT');\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Handle that can be used to drag and CdkDrag instance. */\nclass CdkDragHandle {\n    constructor(element, parentDrag) {\n        this.element = element;\n        /** Emits when the state of the handle has changed. */\n        this._stateChanges = new Subject();\n        this._disabled = false;\n        this._parentDrag = parentDrag;\n        toggleNativeDragInteractions(element.nativeElement, false);\n    }\n    /** Whether starting to drag through this handle is disabled. */\n    get disabled() { return this._disabled; }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        this._stateChanges.next(this);\n    }\n    ngOnDestroy() {\n        this._stateChanges.complete();\n    }\n}\nCdkDragHandle.ɵfac = function CdkDragHandle_Factory(t) { return new (t || CdkDragHandle)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(CDK_DRAG_PARENT, 8)); };\nCdkDragHandle.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDragHandle, selectors: [[\"\", \"cdkDragHandle\", \"\"]], hostAttrs: [1, \"cdk-drag-handle\"], inputs: { disabled: [\"cdkDragHandleDisabled\", \"disabled\"] } });\nCdkDragHandle.ctorParameters = () => [\n    { type: ElementRef },\n    { type: undefined, decorators: [{ type: Inject, args: [CDK_DRAG_PARENT,] }, { type: Optional }] }\n];\nCdkDragHandle.propDecorators = {\n    disabled: [{ type: Input, args: ['cdkDragHandleDisabled',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDragHandle, [{\n        type: Directive,\n        args: [{\n                selector: '[cdkDragHandle]',\n                host: {\n                    'class': 'cdk-drag-handle'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [CDK_DRAG_PARENT]\n            }, {\n                type: Optional\n            }] }]; }, { disabled: [{\n            type: Input,\n            args: ['cdkDragHandleDisabled']\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Element that will be used as a template for the placeholder of a CdkDrag when\n * it is being dragged. The placeholder is displayed in place of the element being dragged.\n */\nclass CdkDragPlaceholder {\n    constructor(templateRef) {\n        this.templateRef = templateRef;\n    }\n}\nCdkDragPlaceholder.ɵfac = function CdkDragPlaceholder_Factory(t) { return new (t || CdkDragPlaceholder)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.TemplateRef)); };\nCdkDragPlaceholder.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDragPlaceholder, selectors: [[\"ng-template\", \"cdkDragPlaceholder\", \"\"]], inputs: { data: \"data\" } });\nCdkDragPlaceholder.ctorParameters = () => [\n    { type: TemplateRef }\n];\nCdkDragPlaceholder.propDecorators = {\n    data: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDragPlaceholder, [{\n        type: Directive,\n        args: [{\n                selector: 'ng-template[cdkDragPlaceholder]'\n            }]\n    }], function () { return [{ type: ɵngcc0.TemplateRef }]; }, { data: [{\n            type: Input\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Element that will be used as a template for the preview\n * of a CdkDrag when it is being dragged.\n */\nclass CdkDragPreview {\n    constructor(templateRef) {\n        this.templateRef = templateRef;\n        this._matchSize = false;\n    }\n    /** Whether the preview should preserve the same size as the item that is being dragged. */\n    get matchSize() { return this._matchSize; }\n    set matchSize(value) { this._matchSize = coerceBooleanProperty(value); }\n}\nCdkDragPreview.ɵfac = function CdkDragPreview_Factory(t) { return new (t || CdkDragPreview)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.TemplateRef)); };\nCdkDragPreview.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDragPreview, selectors: [[\"ng-template\", \"cdkDragPreview\", \"\"]], inputs: { matchSize: \"matchSize\", data: \"data\" } });\nCdkDragPreview.ctorParameters = () => [\n    { type: TemplateRef }\n];\nCdkDragPreview.propDecorators = {\n    data: [{ type: Input }],\n    matchSize: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDragPreview, [{\n        type: Directive,\n        args: [{\n                selector: 'ng-template[cdkDragPreview]'\n            }]\n    }], function () { return [{ type: ɵngcc0.TemplateRef }]; }, { matchSize: [{\n            type: Input\n        }], data: [{\n            type: Input\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to configure the\n * behavior of the drag&drop-related components.\n */\nconst CDK_DRAG_CONFIG = new InjectionToken('CDK_DRAG_CONFIG');\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that is used to provide a CdkDropList instance to CdkDrag.\n * Used for avoiding circular imports.\n */\nconst CDK_DROP_LIST = new InjectionToken('CDK_DROP_LIST');\n/** Element that can be moved inside a CdkDropList container. */\nclass CdkDrag {\n    constructor(\n    /** Element that the draggable is attached to. */\n    element, \n    /** Droppable container that the draggable is a part of. */\n    dropContainer, _document, _ngZone, _viewContainerRef, config, _dir, dragDrop, _changeDetectorRef) {\n        this.element = element;\n        this.dropContainer = dropContainer;\n        this._document = _document;\n        this._ngZone = _ngZone;\n        this._viewContainerRef = _viewContainerRef;\n        this._dir = _dir;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._destroyed = new Subject();\n        /** Emits when the user starts dragging the item. */\n        this.started = new EventEmitter();\n        /** Emits when the user has released a drag item, before any animations have started. */\n        this.released = new EventEmitter();\n        /** Emits when the user stops dragging an item in the container. */\n        this.ended = new EventEmitter();\n        /** Emits when the user has moved the item into a new container. */\n        this.entered = new EventEmitter();\n        /** Emits when the user removes the item its container by dragging it into another container. */\n        this.exited = new EventEmitter();\n        /** Emits when the user drops the item inside a container. */\n        this.dropped = new EventEmitter();\n        /**\n         * Emits as the user is dragging the item. Use with caution,\n         * because this event will fire for every pixel that the user has dragged.\n         */\n        this.moved = new Observable((observer) => {\n            const subscription = this._dragRef.moved.pipe(map(movedEvent => ({\n                source: this,\n                pointerPosition: movedEvent.pointerPosition,\n                event: movedEvent.event,\n                delta: movedEvent.delta,\n                distance: movedEvent.distance\n            }))).subscribe(observer);\n            return () => {\n                subscription.unsubscribe();\n            };\n        });\n        this._dragRef = dragDrop.createDrag(element, {\n            dragStartThreshold: config && config.dragStartThreshold != null ?\n                config.dragStartThreshold : 5,\n            pointerDirectionChangeThreshold: config && config.pointerDirectionChangeThreshold != null ?\n                config.pointerDirectionChangeThreshold : 5,\n            zIndex: config === null || config === void 0 ? void 0 : config.zIndex\n        });\n        this._dragRef.data = this;\n        if (config) {\n            this._assignDefaults(config);\n        }\n        // Note that usually the container is assigned when the drop list is picks up the item, but in\n        // some cases (mainly transplanted views with OnPush, see #18341) we may end up in a situation\n        // where there are no items on the first change detection pass, but the items get picked up as\n        // soon as the user triggers another pass by dragging. This is a problem, because the item would\n        // have to switch from standalone mode to drag mode in the middle of the dragging sequence which\n        // is too late since the two modes save different kinds of information. We work around it by\n        // assigning the drop container both from here and the list.\n        if (dropContainer) {\n            this._dragRef._withDropContainer(dropContainer._dropListRef);\n            dropContainer.addItem(this);\n        }\n        this._syncInputs(this._dragRef);\n        this._handleEvents(this._dragRef);\n    }\n    /** Whether starting to drag this element is disabled. */\n    get disabled() {\n        return this._disabled || (this.dropContainer && this.dropContainer.disabled);\n    }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        this._dragRef.disabled = this._disabled;\n    }\n    /**\n     * Returns the element that is being used as a placeholder\n     * while the current element is being dragged.\n     */\n    getPlaceholderElement() {\n        return this._dragRef.getPlaceholderElement();\n    }\n    /** Returns the root draggable element. */\n    getRootElement() {\n        return this._dragRef.getRootElement();\n    }\n    /** Resets a standalone drag item to its initial position. */\n    reset() {\n        this._dragRef.reset();\n    }\n    /**\n     * Gets the pixel coordinates of the draggable outside of a drop container.\n     */\n    getFreeDragPosition() {\n        return this._dragRef.getFreeDragPosition();\n    }\n    ngAfterViewInit() {\n        // We need to wait for the zone to stabilize, in order for the reference\n        // element to be in the proper place in the DOM. This is mostly relevant\n        // for draggable elements inside portals since they get stamped out in\n        // their original DOM position and then they get transferred to the portal.\n        this._ngZone.onStable.asObservable()\n            .pipe(take(1), takeUntil(this._destroyed))\n            .subscribe(() => {\n            this._updateRootElement();\n            // Listen for any newly-added handles.\n            this._handles.changes.pipe(startWith(this._handles), \n            // Sync the new handles with the DragRef.\n            tap((handles) => {\n                const childHandleElements = handles\n                    .filter(handle => handle._parentDrag === this)\n                    .map(handle => handle.element);\n                this._dragRef.withHandles(childHandleElements);\n            }), \n            // Listen if the state of any of the handles changes.\n            switchMap((handles) => {\n                return merge(...handles.map(item => {\n                    return item._stateChanges.pipe(startWith(item));\n                }));\n            }), takeUntil(this._destroyed)).subscribe(handleInstance => {\n                // Enabled/disable the handle that changed in the DragRef.\n                const dragRef = this._dragRef;\n                const handle = handleInstance.element.nativeElement;\n                handleInstance.disabled ? dragRef.disableHandle(handle) : dragRef.enableHandle(handle);\n            });\n            if (this.freeDragPosition) {\n                this._dragRef.setFreeDragPosition(this.freeDragPosition);\n            }\n        });\n    }\n    ngOnChanges(changes) {\n        const rootSelectorChange = changes['rootElementSelector'];\n        const positionChange = changes['freeDragPosition'];\n        // We don't have to react to the first change since it's being\n        // handled in `ngAfterViewInit` where it needs to be deferred.\n        if (rootSelectorChange && !rootSelectorChange.firstChange) {\n            this._updateRootElement();\n        }\n        // Skip the first change since it's being handled in `ngAfterViewInit`.\n        if (positionChange && !positionChange.firstChange && this.freeDragPosition) {\n            this._dragRef.setFreeDragPosition(this.freeDragPosition);\n        }\n    }\n    ngOnDestroy() {\n        if (this.dropContainer) {\n            this.dropContainer.removeItem(this);\n        }\n        this._destroyed.next();\n        this._destroyed.complete();\n        this._dragRef.dispose();\n    }\n    /** Syncs the root element with the `DragRef`. */\n    _updateRootElement() {\n        const element = this.element.nativeElement;\n        const rootElement = this.rootElementSelector ?\n            getClosestMatchingAncestor(element, this.rootElementSelector) : element;\n        if (rootElement && rootElement.nodeType !== this._document.ELEMENT_NODE) {\n            throw Error(`cdkDrag must be attached to an element node. ` +\n                `Currently attached to \"${rootElement.nodeName}\".`);\n        }\n        this._dragRef.withRootElement(rootElement || element);\n    }\n    /** Gets the boundary element, based on the `boundaryElement` value. */\n    _getBoundaryElement() {\n        const boundary = this.boundaryElement;\n        if (!boundary) {\n            return null;\n        }\n        if (typeof boundary === 'string') {\n            return getClosestMatchingAncestor(this.element.nativeElement, boundary);\n        }\n        const element = coerceElement(boundary);\n        if (isDevMode() && !element.contains(this.element.nativeElement)) {\n            throw Error('Draggable element is not inside of the node passed into cdkDragBoundary.');\n        }\n        return element;\n    }\n    /** Syncs the inputs of the CdkDrag with the options of the underlying DragRef. */\n    _syncInputs(ref) {\n        ref.beforeStarted.subscribe(() => {\n            if (!ref.isDragging()) {\n                const dir = this._dir;\n                const dragStartDelay = this.dragStartDelay;\n                const placeholder = this._placeholderTemplate ? {\n                    template: this._placeholderTemplate.templateRef,\n                    context: this._placeholderTemplate.data,\n                    viewContainer: this._viewContainerRef\n                } : null;\n                const preview = this._previewTemplate ? {\n                    template: this._previewTemplate.templateRef,\n                    context: this._previewTemplate.data,\n                    matchSize: this._previewTemplate.matchSize,\n                    viewContainer: this._viewContainerRef\n                } : null;\n                ref.disabled = this.disabled;\n                ref.lockAxis = this.lockAxis;\n                ref.dragStartDelay = (typeof dragStartDelay === 'object' && dragStartDelay) ?\n                    dragStartDelay : coerceNumberProperty(dragStartDelay);\n                ref.constrainPosition = this.constrainPosition;\n                ref.previewClass = this.previewClass;\n                ref\n                    .withBoundaryElement(this._getBoundaryElement())\n                    .withPlaceholderTemplate(placeholder)\n                    .withPreviewTemplate(preview);\n                if (dir) {\n                    ref.withDirection(dir.value);\n                }\n            }\n        });\n    }\n    /** Handles the events from the underlying `DragRef`. */\n    _handleEvents(ref) {\n        ref.started.subscribe(() => {\n            this.started.emit({ source: this });\n            // Since all of these events run outside of change detection,\n            // we need to ensure that everything is marked correctly.\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.released.subscribe(() => {\n            this.released.emit({ source: this });\n        });\n        ref.ended.subscribe(event => {\n            this.ended.emit({ source: this, distance: event.distance });\n            // Since all of these events run outside of change detection,\n            // we need to ensure that everything is marked correctly.\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.entered.subscribe(event => {\n            this.entered.emit({\n                container: event.container.data,\n                item: this,\n                currentIndex: event.currentIndex\n            });\n        });\n        ref.exited.subscribe(event => {\n            this.exited.emit({\n                container: event.container.data,\n                item: this\n            });\n        });\n        ref.dropped.subscribe(event => {\n            this.dropped.emit({\n                previousIndex: event.previousIndex,\n                currentIndex: event.currentIndex,\n                previousContainer: event.previousContainer.data,\n                container: event.container.data,\n                isPointerOverContainer: event.isPointerOverContainer,\n                item: this,\n                distance: event.distance\n            });\n        });\n    }\n    /** Assigns the default input values based on a provided config object. */\n    _assignDefaults(config) {\n        const { lockAxis, dragStartDelay, constrainPosition, previewClass, boundaryElement, draggingDisabled, rootElementSelector } = config;\n        this.disabled = draggingDisabled == null ? false : draggingDisabled;\n        this.dragStartDelay = dragStartDelay || 0;\n        if (lockAxis) {\n            this.lockAxis = lockAxis;\n        }\n        if (constrainPosition) {\n            this.constrainPosition = constrainPosition;\n        }\n        if (previewClass) {\n            this.previewClass = previewClass;\n        }\n        if (boundaryElement) {\n            this.boundaryElement = boundaryElement;\n        }\n        if (rootElementSelector) {\n            this.rootElementSelector = rootElementSelector;\n        }\n    }\n}\nCdkDrag.ɵfac = function CdkDrag_Factory(t) { return new (t || CdkDrag)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(CDK_DROP_LIST, 12), ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(CDK_DRAG_CONFIG, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Directionality, 8), ɵngcc0.ɵɵdirectiveInject(DragDrop), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nCdkDrag.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDrag, selectors: [[\"\", \"cdkDrag\", \"\"]], contentQueries: function CdkDrag_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, CdkDragPreview, true);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, CdkDragPlaceholder, true);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, CdkDragHandle, true);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._previewTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._placeholderTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._handles = _t);\n    } }, hostAttrs: [1, \"cdk-drag\"], hostVars: 4, hostBindings: function CdkDrag_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"cdk-drag-disabled\", ctx.disabled)(\"cdk-drag-dragging\", ctx._dragRef.isDragging());\n    } }, inputs: { disabled: [\"cdkDragDisabled\", \"disabled\"], dragStartDelay: [\"cdkDragStartDelay\", \"dragStartDelay\"], lockAxis: [\"cdkDragLockAxis\", \"lockAxis\"], constrainPosition: [\"cdkDragConstrainPosition\", \"constrainPosition\"], previewClass: [\"cdkDragPreviewClass\", \"previewClass\"], boundaryElement: [\"cdkDragBoundary\", \"boundaryElement\"], rootElementSelector: [\"cdkDragRootElement\", \"rootElementSelector\"], data: [\"cdkDragData\", \"data\"], freeDragPosition: [\"cdkDragFreeDragPosition\", \"freeDragPosition\"] }, outputs: { started: \"cdkDragStarted\", released: \"cdkDragReleased\", ended: \"cdkDragEnded\", entered: \"cdkDragEntered\", exited: \"cdkDragExited\", dropped: \"cdkDragDropped\", moved: \"cdkDragMoved\" }, exportAs: [\"cdkDrag\"], features: [ɵngcc0.ɵɵProvidersFeature([{ provide: CDK_DRAG_PARENT, useExisting: CdkDrag }]), ɵngcc0.ɵɵNgOnChangesFeature] });\nCdkDrag.ctorParameters = () => [\n    { type: ElementRef },\n    { type: undefined, decorators: [{ type: Inject, args: [CDK_DROP_LIST,] }, { type: Optional }, { type: SkipSelf }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: NgZone },\n    { type: ViewContainerRef },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [CDK_DRAG_CONFIG,] }] },\n    { type: Directionality, decorators: [{ type: Optional }] },\n    { type: DragDrop },\n    { type: ChangeDetectorRef }\n];\nCdkDrag.propDecorators = {\n    _handles: [{ type: ContentChildren, args: [CdkDragHandle, { descendants: true },] }],\n    _previewTemplate: [{ type: ContentChild, args: [CdkDragPreview,] }],\n    _placeholderTemplate: [{ type: ContentChild, args: [CdkDragPlaceholder,] }],\n    data: [{ type: Input, args: ['cdkDragData',] }],\n    lockAxis: [{ type: Input, args: ['cdkDragLockAxis',] }],\n    rootElementSelector: [{ type: Input, args: ['cdkDragRootElement',] }],\n    boundaryElement: [{ type: Input, args: ['cdkDragBoundary',] }],\n    dragStartDelay: [{ type: Input, args: ['cdkDragStartDelay',] }],\n    freeDragPosition: [{ type: Input, args: ['cdkDragFreeDragPosition',] }],\n    disabled: [{ type: Input, args: ['cdkDragDisabled',] }],\n    constrainPosition: [{ type: Input, args: ['cdkDragConstrainPosition',] }],\n    previewClass: [{ type: Input, args: ['cdkDragPreviewClass',] }],\n    started: [{ type: Output, args: ['cdkDragStarted',] }],\n    released: [{ type: Output, args: ['cdkDragReleased',] }],\n    ended: [{ type: Output, args: ['cdkDragEnded',] }],\n    entered: [{ type: Output, args: ['cdkDragEntered',] }],\n    exited: [{ type: Output, args: ['cdkDragExited',] }],\n    dropped: [{ type: Output, args: ['cdkDragDropped',] }],\n    moved: [{ type: Output, args: ['cdkDragMoved',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDrag, [{\n        type: Directive,\n        args: [{\n                selector: '[cdkDrag]',\n                exportAs: 'cdkDrag',\n                host: {\n                    'class': 'cdk-drag',\n                    '[class.cdk-drag-disabled]': 'disabled',\n                    '[class.cdk-drag-dragging]': '_dragRef.isDragging()'\n                },\n                providers: [{ provide: CDK_DRAG_PARENT, useExisting: CdkDrag }]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [CDK_DROP_LIST]\n            }, {\n                type: Optional\n            }, {\n                type: SkipSelf\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ɵngcc0.NgZone }, { type: ɵngcc0.ViewContainerRef }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [CDK_DRAG_CONFIG]\n            }] }, { type: ɵngcc2.Directionality, decorators: [{\n                type: Optional\n            }] }, { type: DragDrop }, { type: ɵngcc0.ChangeDetectorRef }]; }, { started: [{\n            type: Output,\n            args: ['cdkDragStarted']\n        }], released: [{\n            type: Output,\n            args: ['cdkDragReleased']\n        }], ended: [{\n            type: Output,\n            args: ['cdkDragEnded']\n        }], entered: [{\n            type: Output,\n            args: ['cdkDragEntered']\n        }], exited: [{\n            type: Output,\n            args: ['cdkDragExited']\n        }], dropped: [{\n            type: Output,\n            args: ['cdkDragDropped']\n        }], moved: [{\n            type: Output,\n            args: ['cdkDragMoved']\n        }], disabled: [{\n            type: Input,\n            args: ['cdkDragDisabled']\n        }], dragStartDelay: [{\n            type: Input,\n            args: ['cdkDragStartDelay']\n        }], lockAxis: [{\n            type: Input,\n            args: ['cdkDragLockAxis']\n        }], constrainPosition: [{\n            type: Input,\n            args: ['cdkDragConstrainPosition']\n        }], previewClass: [{\n            type: Input,\n            args: ['cdkDragPreviewClass']\n        }], boundaryElement: [{\n            type: Input,\n            args: ['cdkDragBoundary']\n        }], rootElementSelector: [{\n            type: Input,\n            args: ['cdkDragRootElement']\n        }], _handles: [{\n            type: ContentChildren,\n            args: [CdkDragHandle, { descendants: true }]\n        }], _previewTemplate: [{\n            type: ContentChild,\n            args: [CdkDragPreview]\n        }], _placeholderTemplate: [{\n            type: ContentChild,\n            args: [CdkDragPlaceholder]\n        }], data: [{\n            type: Input,\n            args: ['cdkDragData']\n        }], freeDragPosition: [{\n            type: Input,\n            args: ['cdkDragFreeDragPosition']\n        }] }); })();\n/** Gets the closest ancestor of an element that matches a selector. */\nfunction getClosestMatchingAncestor(element, selector) {\n    let currentElement = element.parentElement;\n    while (currentElement) {\n        // IE doesn't support `matches` so we have to fall back to `msMatchesSelector`.\n        if (currentElement.matches ? currentElement.matches(selector) :\n            currentElement.msMatchesSelector(selector)) {\n            return currentElement;\n        }\n        currentElement = currentElement.parentElement;\n    }\n    return null;\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Declaratively connects sibling `cdkDropList` instances together. All of the `cdkDropList`\n * elements that are placed inside a `cdkDropListGroup` will be connected to each other\n * automatically. Can be used as an alternative to the `cdkDropListConnectedTo` input\n * from `cdkDropList`.\n */\nclass CdkDropListGroup {\n    constructor() {\n        /** Drop lists registered inside the group. */\n        this._items = new Set();\n        this._disabled = false;\n    }\n    /** Whether starting a dragging sequence from inside this group is disabled. */\n    get disabled() { return this._disabled; }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n    ngOnDestroy() {\n        this._items.clear();\n    }\n}\nCdkDropListGroup.ɵfac = function CdkDropListGroup_Factory(t) { return new (t || CdkDropListGroup)(); };\nCdkDropListGroup.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDropListGroup, selectors: [[\"\", \"cdkDropListGroup\", \"\"]], inputs: { disabled: [\"cdkDropListGroupDisabled\", \"disabled\"] }, exportAs: [\"cdkDropListGroup\"] });\nCdkDropListGroup.propDecorators = {\n    disabled: [{ type: Input, args: ['cdkDropListGroupDisabled',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDropListGroup, [{\n        type: Directive,\n        args: [{\n                selector: '[cdkDropListGroup]',\n                exportAs: 'cdkDropListGroup'\n            }]\n    }], function () { return []; }, { disabled: [{\n            type: Input,\n            args: ['cdkDropListGroupDisabled']\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Counter used to generate unique ids for drop zones. */\nlet _uniqueIdCounter = 0;\nconst ɵ0 = undefined;\n/** Container that wraps a set of draggable items. */\nclass CdkDropList {\n    constructor(\n    /** Element that the drop list is attached to. */\n    element, dragDrop, _changeDetectorRef, _dir, _group, \n    /**\n     * @deprecated _scrollDispatcher parameter to become required.\n     * @breaking-change 11.0.0\n     */\n    _scrollDispatcher, config) {\n        this.element = element;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._dir = _dir;\n        this._group = _group;\n        this._scrollDispatcher = _scrollDispatcher;\n        /** Emits when the list has been destroyed. */\n        this._destroyed = new Subject();\n        /**\n         * Other draggable containers that this container is connected to and into which the\n         * container's items can be transferred. Can either be references to other drop containers,\n         * or their unique IDs.\n         */\n        this.connectedTo = [];\n        /**\n         * Unique ID for the drop zone. Can be used as a reference\n         * in the `connectedTo` of another `CdkDropList`.\n         */\n        this.id = `cdk-drop-list-${_uniqueIdCounter++}`;\n        /**\n         * Function that is used to determine whether an item\n         * is allowed to be moved into a drop container.\n         */\n        this.enterPredicate = () => true;\n        /** Emits when the user drops an item inside the container. */\n        this.dropped = new EventEmitter();\n        /**\n         * Emits when the user has moved a new drag item into this container.\n         */\n        this.entered = new EventEmitter();\n        /**\n         * Emits when the user removes an item from the container\n         * by dragging it into another container.\n         */\n        this.exited = new EventEmitter();\n        /** Emits as the user is swapping items while actively dragging. */\n        this.sorted = new EventEmitter();\n        /**\n         * Keeps track of the items that are registered with this container. Historically we used to\n         * do this with a `ContentChildren` query, however queries don't handle transplanted views very\n         * well which means that we can't handle cases like dragging the headers of a `mat-table`\n         * correctly. What we do instead is to have the items register themselves with the container\n         * and then we sort them based on their position in the DOM.\n         */\n        this._unsortedItems = new Set();\n        this._dropListRef = dragDrop.createDropList(element);\n        this._dropListRef.data = this;\n        if (config) {\n            this._assignDefaults(config);\n        }\n        this._dropListRef.enterPredicate = (drag, drop) => {\n            return this.enterPredicate(drag.data, drop.data);\n        };\n        this._setupInputSyncSubscription(this._dropListRef);\n        this._handleEvents(this._dropListRef);\n        CdkDropList._dropLists.push(this);\n        if (_group) {\n            _group._items.add(this);\n        }\n    }\n    /** Whether starting a dragging sequence from this container is disabled. */\n    get disabled() {\n        return this._disabled || (!!this._group && this._group.disabled);\n    }\n    set disabled(value) {\n        // Usually we sync the directive and ref state right before dragging starts, in order to have\n        // a single point of failure and to avoid having to use setters for everything. `disabled` is\n        // a special case, because it can prevent the `beforeStarted` event from firing, which can lock\n        // the user in a disabled state, so we also need to sync it as it's being set.\n        this._dropListRef.disabled = this._disabled = coerceBooleanProperty(value);\n    }\n    /** Registers an items with the drop list. */\n    addItem(item) {\n        this._unsortedItems.add(item);\n        if (this._dropListRef.isDragging()) {\n            this._syncItemsWithRef();\n        }\n    }\n    /** Removes an item from the drop list. */\n    removeItem(item) {\n        this._unsortedItems.delete(item);\n        if (this._dropListRef.isDragging()) {\n            this._syncItemsWithRef();\n        }\n    }\n    /** Gets the registered items in the list, sorted by their position in the DOM. */\n    getSortedItems() {\n        return Array.from(this._unsortedItems).sort((a, b) => {\n            const documentPosition = a._dragRef.getVisibleElement().compareDocumentPosition(b._dragRef.getVisibleElement());\n            // `compareDocumentPosition` returns a bitmask so we have to use a bitwise operator.\n            // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n            // tslint:disable-next-line:no-bitwise\n            return documentPosition & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : 1;\n        });\n    }\n    ngOnDestroy() {\n        const index = CdkDropList._dropLists.indexOf(this);\n        if (index > -1) {\n            CdkDropList._dropLists.splice(index, 1);\n        }\n        if (this._group) {\n            this._group._items.delete(this);\n        }\n        this._unsortedItems.clear();\n        this._dropListRef.dispose();\n        this._destroyed.next();\n        this._destroyed.complete();\n    }\n    /** Syncs the inputs of the CdkDropList with the options of the underlying DropListRef. */\n    _setupInputSyncSubscription(ref) {\n        if (this._dir) {\n            this._dir.change\n                .pipe(startWith(this._dir.value), takeUntil(this._destroyed))\n                .subscribe(value => ref.withDirection(value));\n        }\n        ref.beforeStarted.subscribe(() => {\n            const siblings = coerceArray(this.connectedTo).map(drop => {\n                return typeof drop === 'string' ?\n                    CdkDropList._dropLists.find(list => list.id === drop) : drop;\n            });\n            if (this._group) {\n                this._group._items.forEach(drop => {\n                    if (siblings.indexOf(drop) === -1) {\n                        siblings.push(drop);\n                    }\n                });\n            }\n            // Note that we resolve the scrollable parents here so that we delay the resolution\n            // as long as possible, ensuring that the element is in its final place in the DOM.\n            // @breaking-change 11.0.0 Remove null check for _scrollDispatcher once it's required.\n            if (!this._scrollableParentsResolved && this._scrollDispatcher) {\n                const scrollableParents = this._scrollDispatcher\n                    .getAncestorScrollContainers(this.element)\n                    .map(scrollable => scrollable.getElementRef().nativeElement);\n                this._dropListRef.withScrollableParents(scrollableParents);\n                // Only do this once since it involves traversing the DOM and the parents\n                // shouldn't be able to change without the drop list being destroyed.\n                this._scrollableParentsResolved = true;\n            }\n            ref.disabled = this.disabled;\n            ref.lockAxis = this.lockAxis;\n            ref.sortingDisabled = coerceBooleanProperty(this.sortingDisabled);\n            ref.autoScrollDisabled = coerceBooleanProperty(this.autoScrollDisabled);\n            ref\n                .connectedTo(siblings.filter(drop => drop && drop !== this).map(list => list._dropListRef))\n                .withOrientation(this.orientation);\n        });\n    }\n    /** Handles events from the underlying DropListRef. */\n    _handleEvents(ref) {\n        ref.beforeStarted.subscribe(() => {\n            this._syncItemsWithRef();\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.entered.subscribe(event => {\n            this.entered.emit({\n                container: this,\n                item: event.item.data,\n                currentIndex: event.currentIndex\n            });\n        });\n        ref.exited.subscribe(event => {\n            this.exited.emit({\n                container: this,\n                item: event.item.data\n            });\n            this._changeDetectorRef.markForCheck();\n        });\n        ref.sorted.subscribe(event => {\n            this.sorted.emit({\n                previousIndex: event.previousIndex,\n                currentIndex: event.currentIndex,\n                container: this,\n                item: event.item.data\n            });\n        });\n        ref.dropped.subscribe(event => {\n            this.dropped.emit({\n                previousIndex: event.previousIndex,\n                currentIndex: event.currentIndex,\n                previousContainer: event.previousContainer.data,\n                container: event.container.data,\n                item: event.item.data,\n                isPointerOverContainer: event.isPointerOverContainer,\n                distance: event.distance\n            });\n            // Mark for check since all of these events run outside of change\n            // detection and we're not guaranteed for something else to have triggered it.\n            this._changeDetectorRef.markForCheck();\n        });\n    }\n    /** Assigns the default input values based on a provided config object. */\n    _assignDefaults(config) {\n        const { lockAxis, draggingDisabled, sortingDisabled, listAutoScrollDisabled, listOrientation } = config;\n        this.disabled = draggingDisabled == null ? false : draggingDisabled;\n        this.sortingDisabled = sortingDisabled == null ? false : sortingDisabled;\n        this.autoScrollDisabled = listAutoScrollDisabled == null ? false : listAutoScrollDisabled;\n        this.orientation = listOrientation || 'vertical';\n        if (lockAxis) {\n            this.lockAxis = lockAxis;\n        }\n    }\n    /** Syncs up the registered drag items with underlying drop list ref. */\n    _syncItemsWithRef() {\n        this._dropListRef.withItems(this.getSortedItems().map(item => item._dragRef));\n    }\n}\nCdkDropList.ɵfac = function CdkDropList_Factory(t) { return new (t || CdkDropList)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(DragDrop), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Directionality, 8), ɵngcc0.ɵɵdirectiveInject(CdkDropListGroup, 12), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ScrollDispatcher), ɵngcc0.ɵɵdirectiveInject(CDK_DRAG_CONFIG, 8)); };\nCdkDropList.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkDropList, selectors: [[\"\", \"cdkDropList\", \"\"], [\"cdk-drop-list\"]], hostAttrs: [1, \"cdk-drop-list\"], hostVars: 7, hostBindings: function CdkDropList_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵhostProperty(\"id\", ctx.id);\n        ɵngcc0.ɵɵclassProp(\"cdk-drop-list-disabled\", ctx.disabled)(\"cdk-drop-list-dragging\", ctx._dropListRef.isDragging())(\"cdk-drop-list-receiving\", ctx._dropListRef.isReceiving());\n    } }, inputs: { connectedTo: [\"cdkDropListConnectedTo\", \"connectedTo\"], id: \"id\", enterPredicate: [\"cdkDropListEnterPredicate\", \"enterPredicate\"], disabled: [\"cdkDropListDisabled\", \"disabled\"], sortingDisabled: [\"cdkDropListSortingDisabled\", \"sortingDisabled\"], autoScrollDisabled: [\"cdkDropListAutoScrollDisabled\", \"autoScrollDisabled\"], orientation: [\"cdkDropListOrientation\", \"orientation\"], lockAxis: [\"cdkDropListLockAxis\", \"lockAxis\"], data: [\"cdkDropListData\", \"data\"] }, outputs: { dropped: \"cdkDropListDropped\", entered: \"cdkDropListEntered\", exited: \"cdkDropListExited\", sorted: \"cdkDropListSorted\" }, exportAs: [\"cdkDropList\"], features: [ɵngcc0.ɵɵProvidersFeature([\n            // Prevent child drop lists from picking up the same group as their parent.\n            { provide: CdkDropListGroup, useValue: ɵ0 },\n            { provide: CDK_DROP_LIST, useExisting: CdkDropList },\n        ])] });\n/** Keeps track of the drop lists that are currently on the page. */\nCdkDropList._dropLists = [];\nCdkDropList.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DragDrop },\n    { type: ChangeDetectorRef },\n    { type: Directionality, decorators: [{ type: Optional }] },\n    { type: CdkDropListGroup, decorators: [{ type: Optional }, { type: SkipSelf }] },\n    { type: ScrollDispatcher },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [CDK_DRAG_CONFIG,] }] }\n];\nCdkDropList.propDecorators = {\n    connectedTo: [{ type: Input, args: ['cdkDropListConnectedTo',] }],\n    data: [{ type: Input, args: ['cdkDropListData',] }],\n    orientation: [{ type: Input, args: ['cdkDropListOrientation',] }],\n    id: [{ type: Input }],\n    lockAxis: [{ type: Input, args: ['cdkDropListLockAxis',] }],\n    disabled: [{ type: Input, args: ['cdkDropListDisabled',] }],\n    sortingDisabled: [{ type: Input, args: ['cdkDropListSortingDisabled',] }],\n    enterPredicate: [{ type: Input, args: ['cdkDropListEnterPredicate',] }],\n    autoScrollDisabled: [{ type: Input, args: ['cdkDropListAutoScrollDisabled',] }],\n    dropped: [{ type: Output, args: ['cdkDropListDropped',] }],\n    entered: [{ type: Output, args: ['cdkDropListEntered',] }],\n    exited: [{ type: Output, args: ['cdkDropListExited',] }],\n    sorted: [{ type: Output, args: ['cdkDropListSorted',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkDropList, [{\n        type: Directive,\n        args: [{\n                selector: '[cdkDropList], cdk-drop-list',\n                exportAs: 'cdkDropList',\n                providers: [\n                    // Prevent child drop lists from picking up the same group as their parent.\n                    { provide: CdkDropListGroup, useValue: ɵ0 },\n                    { provide: CDK_DROP_LIST, useExisting: CdkDropList },\n                ],\n                host: {\n                    'class': 'cdk-drop-list',\n                    '[id]': 'id',\n                    '[class.cdk-drop-list-disabled]': 'disabled',\n                    '[class.cdk-drop-list-dragging]': '_dropListRef.isDragging()',\n                    '[class.cdk-drop-list-receiving]': '_dropListRef.isReceiving()'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: DragDrop }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc2.Directionality, decorators: [{\n                type: Optional\n            }] }, { type: CdkDropListGroup, decorators: [{\n                type: Optional\n            }, {\n                type: SkipSelf\n            }] }, { type: ɵngcc1.ScrollDispatcher }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [CDK_DRAG_CONFIG]\n            }] }]; }, { connectedTo: [{\n            type: Input,\n            args: ['cdkDropListConnectedTo']\n        }], id: [{\n            type: Input\n        }], enterPredicate: [{\n            type: Input,\n            args: ['cdkDropListEnterPredicate']\n        }], dropped: [{\n            type: Output,\n            args: ['cdkDropListDropped']\n        }], entered: [{\n            type: Output,\n            args: ['cdkDropListEntered']\n        }], exited: [{\n            type: Output,\n            args: ['cdkDropListExited']\n        }], sorted: [{\n            type: Output,\n            args: ['cdkDropListSorted']\n        }], disabled: [{\n            type: Input,\n            args: ['cdkDropListDisabled']\n        }], sortingDisabled: [{\n            type: Input,\n            args: ['cdkDropListSortingDisabled']\n        }], autoScrollDisabled: [{\n            type: Input,\n            args: ['cdkDropListAutoScrollDisabled']\n        }], orientation: [{\n            type: Input,\n            args: ['cdkDropListOrientation']\n        }], lockAxis: [{\n            type: Input,\n            args: ['cdkDropListLockAxis']\n        }], data: [{\n            type: Input,\n            args: ['cdkDropListData']\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass DragDropModule {\n}\nDragDropModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: DragDropModule });\nDragDropModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function DragDropModule_Factory(t) { return new (t || DragDropModule)(); }, providers: [\n        DragDrop,\n    ], imports: [CdkScrollableModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DragDropModule, { declarations: function () { return [CdkDropList, CdkDropListGroup, CdkDrag, CdkDragHandle, CdkDragPreview, CdkDragPlaceholder]; }, exports: function () { return [CdkScrollableModule, CdkDropList, CdkDropListGroup, CdkDrag, CdkDragHandle, CdkDragPreview, CdkDragPlaceholder]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragDropModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    CdkDropList,\n                    CdkDropListGroup,\n                    CdkDrag,\n                    CdkDragHandle,\n                    CdkDragPreview,\n                    CdkDragPlaceholder,\n                ],\n                exports: [\n                    CdkScrollableModule,\n                    CdkDropList,\n                    CdkDropListGroup,\n                    CdkDrag,\n                    CdkDragHandle,\n                    CdkDragPreview,\n                    CdkDragPlaceholder,\n                ],\n                providers: [\n                    DragDrop,\n                ]\n            }]\n    }], null, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CDK_DRAG_CONFIG, CDK_DROP_LIST, CdkDrag, CdkDragHandle, CdkDragPlaceholder, CdkDragPreview, CdkDropList, CdkDropListGroup, DragDrop, DragDropModule, DragDropRegistry, DragRef, DropListRef, copyArrayItem, moveItemInArray, transferArrayItem, CDK_DRAG_PARENT as ɵangular_material_src_cdk_drag_drop_drag_drop_b };\n\n//# sourceMappingURL=drag-drop.js.map","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Order } from 'src/app/shared/interfaces/order';\nimport { OrderService } from 'src/app/shared/service/order.service';\n\n@Component({\n  selector: 'app-delivery-summery',\n  templateUrl: './delivery-summery.component.html',\n  styleUrls: ['./delivery-summery.component.scss']\n})\nexport class DeliverySummeryComponent implements OnInit {\n  clientId:string;\n\n  allOrders:Order[]=[];\n  deliveredOrders :Order[]=[];\n  deliveredOrdersThisMonth:any=[];\n  thisMonthOrders:Order[]=[];\n  allPayments:any;\n  curdate:any;\n  thisMonthPayments:any;\n   constructor(private orderService:OrderService,private route:ActivatedRoute) { \n     \n    \n   }\n \n   ngOnInit(): void {\n     this.clientId= this.route.snapshot.queryParams[\"id\"];\n     if(this.clientId){\n       console.log(this.clientId)\n       \n     }\n \n     this.orderService.getOrdersByDelivery(this.clientId).subscribe(orders=>{\n       this.allOrders = orders;\n       this.deliveredOrders = this.allOrders.filter(item=>item.status == \"4\");\n       this.allPayments=this.totalPrice();\n       this.curdate = \"01-\"+(new Date().getMonth() + 1).toString() + '-' + new Date().getFullYear().toString();\n       this.thisMonthOrders = this.allOrders.filter(item=>item.date > this.curdate);\n       this.deliveredOrdersThisMonth = this.thisMonthOrders.filter(item=>item.status == \"4\");\n       this.thisMonthPayments = this.totalPriceThisMonth();\n       console.log(orders)\n     })\n \n     console.log(this.curdate)\n \n   }\n \n   \n   totalPrice() {\n     let total = 0;\n     for(let data of this.deliveredOrders){\n       total += data.totalAmount;\n     }\n     return total;\n   }\n \n   totalPriceThisMonth() {\n     let total = 0;\n     for(let data of this.deliveredOrdersThisMonth){\n       total += data.totalAmount;\n     }\n     return total;\n   }\n  \n \n }\n ","<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-xl-3 col-md-6 xl-50\">\n            <div class=\"card o-hidden widget-cards\">\n                <div class=\"bg-warning card-body\">\n                    <div class=\"media static-top-widget row\">\n                        <div class=\"icons-widgets col-4\">\n                            <div class=\"align-self-center text-center\">\n                                <app-feather-icons [icon]=\"'navigation'\" class=\"font-warning\"></app-feather-icons>\n                            </div>\n                        </div>\n                        <div class=\"media-body col-6\"><span >{{'All Orders'|translate}}</span>\n                            <h3 ><span class=\"counter\" [CountTo]=\"allOrders?.length\" [from]=\"0\"\n                                    [duration]=\"2\">{{allOrders?.length}}</span><small></small></h3>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-xl-3 col-md-6 xl-50\">\n            <div class=\"card o-hidden  widget-cards\">\n                <div class=\"bg-secondary card-body\">\n                    <div class=\"media static-top-widget row\">\n                        <div class=\"icons-widgets col-4\">\n                            <div class=\"align-self-center text-center\">\n                                <app-feather-icons [icon]=\"'box'\" class=\"font-secondary\"></app-feather-icons>\n                            </div>\n                        </div>\n                        <div class=\"media-body col-8\"><span class=\"m-0\">{{'All Payments'|translate}}</span>\n                            <h3 class=\"mb-0\"><span class=\"counter\" >{{allPayments| number : '1.2-2'}}</span><small></small> {{'EGP'|translate}} </h3>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n        <div class=\"row\">\n            <div class=\"col-xl-3 col-md-6 xl-50\">\n                <div class=\"card o-hidden widget-cards\">\n                    <div class=\"bg-primary card-body\">\n                        <div class=\"media static-top-widget row\">\n                            <div class=\"icons-widgets col-4\">\n                                <div class=\"align-self-center text-center\">\n                                    <app-feather-icons [icon]=\"'navigation'\" class=\"font-warning\"></app-feather-icons>\n                                </div>\n                            </div>\n                            <div class=\"media-body col-8\"><span class=\"m-0\">{{'This month orders'|translate}}</span>\n                                <h3 class=\"mb-0\"><span class=\"counter\" [CountTo]=\"thisMonthOrders.length\" [from]=\"0\"\n                                        [duration]=\"2\">{{thisMonthOrders.length}}</span></h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-xl-3 col-md-6 xl-50\">\n                <div class=\"card o-hidden widget-cards\">\n                    <div class=\"bg-danger card-body\">\n                        <div class=\"media static-top-widget row\">\n                            <div class=\"icons-widgets col-4\">\n                                <div class=\"align-self-center text-center\">\n                                    <app-feather-icons [icon]=\"'box'\" class=\"font-secondary\"></app-feather-icons>\n                                </div>\n                            </div>\n                            <div class=\"media-body col-8\"><span class=\"m-0\">{{'This month payments'|translate}}</span>\n                                <h3 class=\"mb-0\"><span class=\"counter\">{{thisMonthPayments| number : '1.2-2'}}</span> {{'EGP'|translate}} </h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        </div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DeliveryBoy } from 'src/app/shared/interfaces/delivery-boy';\nimport { AccountDelivery } from 'src/app/shared/interfaces/account-delivery';\nimport { AuthService } from 'src/app/shared/service/auth.service';\nimport { DeliveryService } from 'src/app/shared/service/delivery.service';\nimport { DataService } from 'src/app/shared/service/data.service';\nimport { Town } from 'src/app/shared/interfaces/town';\nimport { State } from 'src/app/shared/interfaces/state';\ndeclare const $: any;\n@Component({\n  selector: 'app-view-delivery-boy',\n  templateUrl: './view-delivery-boy.component.html',\n  styleUrls: ['./view-delivery-boy.component.scss']\n})\nexport class ViewDeliveryBoyComponent implements OnInit {\n\n  id:any;\n  dBoy:DeliveryBoy;\n  towns:Town[]=[];\n  states:State[]=[];\n  tempId:any;\n  idPhoto1:any;\n  idPhoto2:any;\n  mLPhoto:any;\n  dLPhoto:any;\n  fishPhoto:any;\n  dbAcoount:AccountDelivery\n  constructor(private route:ActivatedRoute,private deliveryService:DeliveryService,private router:Router,private dataService:DataService) { }\n\n  ngOnInit(): void {\n    this.id = this.route.snapshot.queryParams[\"id\"];\n    console.log(this.id)\n    this.getCustomer(this.id);\n    this.getAccounting(this.id);\n    this.getFillters()\n  }\n  getFillters() {\n    this.dataService.getTowns().subscribe(towns=>{\n      this.towns = towns;\n    });\n  }\n\n  getStates(){\n    this.dataService.getStates(this.dBoy.state).subscribe(states=>{\n      this.states = states;\n    });\n  }\n  getCustomer(id: any) {\n    this.deliveryService.getDB(this.id).subscribe(user=>{\n      this.dBoy = user;\n      this.getStates();\n      this.idPhoto1 = this.dBoy.idPhoto1||'assets/images/pro3/1.jpg';\n      this.idPhoto2 = this.dBoy.idPhoto2||'assets/images/pro3/1.jpg';\n      this.mLPhoto = this.dBoy.mLPhoto||'assets/images/pro3/1.jpg';\n      this.dLPhoto = this.dBoy.dLPhoto||'assets/images/pro3/1.jpg';\n      this.fishPhoto = this.dBoy.fishPhoto||'assets/images/pro3/1.jpg';\n    })\n  }\n\n  getAccounting(id:string){\n    this.deliveryService.getAllDeliveryBoyAccounting(id).subscribe(res=>{\n      console.log(res)\n      this.dbAcoount = res[0];\n    })\n  }\n\n  onEdit(id){\n    this.router.navigate(['/delivery/add-delivery-boy'],{ queryParams: {id: id}});\n    }\n  \n\n  onActive(id){\n    this.deliveryService.updateDeliveryStatus(this.id,\"1\");\n    }\n\n  onBlock(id){\n    if(this.dBoy.block){\n      this.deliveryService.updateDeliveryBlock(this.id,false);\n    }else{\n      this.deliveryService.updateDeliveryBlock(this.id,true);\n    }\n    \n      }\n\n  onCollect(){\n   this.deliveryService.updateDeliveryCollect(this.id, this.dbAcoount.id,true).subscribe(i=>{\n    $(\"#collect\").modal(\"hide\");\n   });\n  }\n\n}\n","<!-- Page Content -->\n<div class=\"content container-fluid\">\n    <div class=\"card mb-0\">\n        <div class=\"card-body\">\n            <div class=\"row\">\n                <div class=\"col-md-12\">\n                    <div class=\"profile-view\">\n                        \n                        <div>\n                            <div class=\"row\">\n                                <div class=\"col-md-4\">\n                                    <div class=\"profile-info-left\">\n                                        <ul class=\"order-detail\">\n                                            <li>{{'Name :'|translate}} {{dBoy?.name}}</li>\n                                            <li>{{'Phone :'|translate}} {{dBoy?.phone}}</li>\n                                            <li>{{'Email :'|translate}} {{dBoy?.email}}</li>\n                                            <li>{{'Town :'|translate}} {{towns|townPipe:dBoy?.town}}</li>\n                                            <li>{{'State :'|translate}} {{states|statePipe:dBoy?.state}}</li>\n                                            <li>{{'Address :'|translate}} {{dBoy?.address}}</li>\n                                            <li>{{'Account Type :'|translate}} {{dBoy?.aType|translate}}</li>\n                                            <li>{{'Vehicle Type :'|translate}} {{dBoy?.vType |translate}}</li>\n                                        </ul>\n                                       \n                                    \n                                    </div>\n                                </div>\n                                <div class=\"col-md-4\">\n                                    <div class=\"profile-info-left\">\n                                        <ul class=\"order-detail\">\n                                            <li>{{'ID Number :'|translate}} {{dBoy?.idNumber}}</li>\n                                            <li><a href=\"{{dBoy?.idPhoto1}}\" target=\"_blank\">{{'ID Image 1'|translate}} </a></li>\n                                            <li><a href=\"{{dBoy?.idPhoto2}}\" target=\"_blank\">{{'ID Image 2'|translate}}</a></li>\n                                            <li><a href=\"{{dBoy?.dLPhoto}}\" target=\"_blank\">{{'Driving License Image'|translate}}</a></li>\n                                            <li><a href=\"{{dBoy?.mLPhoto}}\" target=\"_blank\">{{'Vehicle License Image'|translate}}</a></li>\n                                            <li><a href=\"{{dBoy?.fishPhoto}}\" target=\"_blank\">{{'Feash Image Type'|translate}}</a></li>\n                                        </ul>\n                                       \n                                    \n                                    </div>\n                                </div>\n                                <div class=\"col-md-4\">\n                                    <div class=\"profile-info-left\">\n                                        <ul class=\"order-detail\">\n                                            <li>{{'Status :'|translate}} <a style=\"color: rgb(84, 167, 2);\" *ngIf=\"!dBoy?.block && dBoy?.status=='1'\">{{'Active'|translate}}</a>\n                                                <a style=\"color: rgb(78, 76, 76);\" *ngIf=\"!dBoy?.block && dBoy?.status=='0'\">{{'Not Active'|translate}}</a><a style=\"color: rgb(240, 20, 4);\" *ngIf=\"dBoy?.block\">{{'Blocked'|translate}}</a></li>\n                                                 <li><button style=\"margin-top: 10px; width: 150px;\" type=\"button\" (click)=\"onEdit(dBoy.phone)\" class=\"btn btn-custom\">{{'Edit'|translate}}</button></li>\n                                            <li><button style=\"margin-top: 10px; width: 150px;\" type=\"button\" (click)=\"onActive(dBoy.phone)\" class=\"btn btn-custom\">{{'Activeate'|translate}}</button></li>\n                                            <li ><button type=\"button\" style=\"margin-top: 10px; width: 150px;\" (click)=\"onBlock(dBoy.phone)\" class=\"btn btn-custom\">{{'Block'|translate}}</button></li>\n                                            \n                                            \n                                        </ul>\n                                       \n                                    \n                                    </div>\n                                </div>\n                                \n                            </div>\n                        </div>\n                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"card tab-box\">\n        <div class=\"row user-tabs\">\n            <div class=\"col-lg-12 col-md-12 col-sm-12 line-tabs\">\n                <ul class=\"nav nav-tabs nav-tabs-bottom\">\n                    <li class=\"nav-item\"><a href=\"#profile\" data-toggle=\"tab\" class=\"nav-link active\">{{'Summary'|translate}}</a>\n                    </li>\n                    <li class=\"nav-item\"><a href=\"#orders\" data-toggle=\"tab\" class=\"nav-link\">{{'Orders'|translate}}</a></li>\n                    <li class=\"nav-item\"><a href=\"#gifts\" data-toggle=\"tab\" class=\"nav-link\">{{'Accounts'|translate}}</a></li>\n\n                </ul>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"tab-content\">\n\n        <!-- Profile Info Tab -->\n        <div id=\"profile\" class=\"pro-overview tab-pane fade show active\">\n         <app-delivery-summery></app-delivery-summery>\n        </div>\n        <!-- /Profile Info Tab -->\n\n        <!-- Invoices Tab -->\n        <div class=\"tab-pane fade\" id=\"orders\">\n        <app-delivery-orders></app-delivery-orders>\n        </div>\n        <!-- /Invoices Tab -->\n\n        <!-- Account Tab -->\n        <div class=\"tab-pane fade\" id=\"gifts\">\n        <app-delivery-accounts></app-delivery-accounts>\n        </div>\n        <!-- Account Tab -->\n        <!-- Services Tab -->\n        <div class=\"tab-pane fade\" id=\"schadul\">\n           \n         </div>\n         <!-- Services Tab -->\n \n      \n    </div>\n</div>\n<!-- /Page Content -->\n<div class=\"modal custom-modal fade\" id=\"collect\" role=\"dialog\">\n    <div class=\"modal-dialog modal-dialog-centered\">\n        <div class=\"modal-content\">\n            <div class=\"modal-body\">\n                <div class=\"form-header text-center\">\n                    <h3 class=\"text-center\">{{'Collect'|translate}}</h3>\n                    <h4 class=\"text-center\">{{'you want to Collect Amount'|translate}} {{dbAcoount?.total}} {{'EGP'|translate}} {{'?'|translate}}</h4>\n                </div>\n                <div class=\"modal-btn delete-action\">\n                    <div class=\"row\">\n                        <div class=\"col-6\">\n                            <a  class=\"btn btn-primary continue-btn\"\n                                (click)=\"onCollect()\">{{'Collect'|translate}}</a>\n                        </div>\n                        <div class=\"col-6\">\n                            <a  data-dismiss=\"modal\"\n                                class=\"btn btn-primary cancel-btn\">{{'Cancel'|translate}}</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { DatePipe } from '@angular/common';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport { DataTableDirective } from 'angular-datatables';\nimport { Subject } from 'rxjs';\nimport { OrderService } from 'src/app/shared/service/order.service';\n\n@Component({\n  selector: 'app-delivery-hour-report',\n  templateUrl: './delivery-hour-report.component.html',\n  styleUrls: ['./delivery-hour-report.component.scss']\n})\nexport class DeliveryHourReportComponent implements OnInit {\n  clientId:any;\n  public closeResult: string;\n  @ViewChild(DataTableDirective, { static: false })\n  public dtElement: DataTableDirective;\n  dtOptions: DataTables.Settings = {};\n  isDtInitialized:boolean = false\n  public dtTrigger: Subject<any> = new Subject();\n  public orders = [];\n  public editedClient;\n  public tempId: any;\n  public companiesList = [];\n\n  public rows = [];\n  public srch = [];\n  public statusValue;\n  public pipe = new DatePipe(\"en-US\");\n\n  constructor(private modalService: NgbModal,private orderService:OrderService\n    ,private _domSanitizer: DomSanitizer,private router:Router,private route:ActivatedRoute) {\n\n  }\n\n  open(content) {\n    this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then((result) => {\n      this.closeResult = `Closed with: ${result}`;\n    }, (reason) => {\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n    });\n  }\n  private getDismissReason(reason: any): string {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return `with: ${reason}`;\n    }\n  }\n\n\n \n\n  ngOnInit() {\n    this.dtOptions = {\n      // ... skipped ...\n      pageLength: 10,\n      language : {\n        \"emptyTable\": \"ليست هناك بيانات متاحة في الجدول\",\n        \"loadingRecords\": \"جارٍ التحميل...\",\n        \"lengthMenu\": \" _MENU_ \",\n        \"zeroRecords\": \"لم يعثر على أية سجلات\",\n        \"info\": \"إظهار _START_ إلى _END_ من أصل _TOTAL_ مدخل\",\n        \"infoEmpty\": \"يعرض 0 إلى 0 من أصل 0 سجل\",\n        \"infoFiltered\": \"(منتقاة من مجموع _MAX_ مُدخل)\",\n        \"search\": \"بحث:\",\n        \"paginate\": {\n            \"first\": \"الأول\",\n            \"previous\": \"السابق\",\n            \"next\": \"التالي\",\n            \"last\": \"الأخير\"\n        },\n        \"aria\": {\n            \"sortAscending\": \": تفعيل لترتيب العمود تصاعدياً\",\n            \"sortDescending\": \": تفعيل لترتيب العمود تنازلياً\"\n        },\n        \"processing\": \"جارٍ المعالجة...\"\n    },\n      dom: \"lfrtip\",\n    };\n\n    this.dtOptions.language.url = \"src/assets/i18n/datatable.ar.json\";\n\n    this.clientId= this.route.snapshot.queryParams[\"id\"];\n    this.getOrders();\n  }\n  getOrders() {\n    this.orderService.getOrdersByDelivery(this.clientId).subscribe(res=>{\n      if (this.isDtInitialized) {\n        this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n          dtInstance.destroy();\n          this.dtTrigger.next();\n        });\n      }else{\n        this.isDtInitialized = true\n        this.dtTrigger.next();\n      }\n      \n      this.orders = res;\n      console.log(this.orders)\n     // this.dtTrigger.next();\n      this.rows = this.orders;\n      this.srch = [...this.rows];\n    });\n   \n  }\n  onEditClient(event){\n\n  }\n\n  onEdit(event){\n    \n    }\n\n    addProduct(){\n    \n    }\n    objectValues(obj) {\n      return Object.values(obj);\n   }\n}\n\n","<!-- Container-fluid starts-->\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"card\">\n                \n                <div class=\"card-body\">\n                    \n                    <div id=\"batchDelete\" class=\"category-table custom-datatable\">\n                        <div class=\"table-responsive\">\n                            <table datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\" id=\"datatable\"\n                            class=\"table table-striped custom-table datatable\">\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>{{'Order ID'|translate}}</th>\n                                    <th>{{'Friday'|translate}}</th>\n                                    <th>{{'Saturday'|translate}}</th>\n                                    <th>{{'Sunday'|translate}}</th>\n                                    <th>{{'Monday'|translate}}</th>\n                                    <th>{{'Tuesday'|translate}}</th>\n                                    <th>{{'Wednesday'|translate}}</th>\n                                    <th>{{'Thursday'|translate}}</th>\n\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr *ngFor=\"let order of orders; let i = index\">\n                                    <td>{{i+1}}</td>\n                                    <td><a routerLink = \"/sales/view-order\" [queryParams]=\"{id: order?.orderId}\">{{order?.orderId}}</a></td>\n                                    <td>{{order?.date}}</td>\n                                    <td>{{order?.status | customStatus |translate}}</td>\n                                    <td>{{order?.shipping| number : '1.2-2'}}</td>\n                                    <td>{{order?.totalAmount| number : '1.2-2'}}</td>\n                                    \n                                </tr>\n                                <tr *ngIf=\"orders.length === 0\">\n                                    <td colspan=\"10\">\n                                        <h5 style=\"text-align: center;\">No data found</h5>\n                                    </td>\n                                   \n                                </tr>\n                            </tbody>\n                        </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- Container-fluid Ends-->","import { DatePipe } from '@angular/common';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport { DataTableDirective } from 'angular-datatables';\nimport { Subject } from 'rxjs';\nimport { OrderService } from 'src/app/shared/service/order.service';\n\n@Component({\n  selector: 'app-delivery-orders',\n  templateUrl: './delivery-orders.component.html',\n  styleUrls: ['./delivery-orders.component.scss']\n})\nexport class DeliveryOrdersComponent implements OnInit {\n\n  clientId:any;\n  public closeResult: string;\n  @ViewChild(DataTableDirective, { static: false })\n  public dtElement: DataTableDirective;\n  dtOptions: DataTables.Settings = {};\n  isDtInitialized:boolean = false\n  public dtTrigger: Subject<any> = new Subject();\n  public orders = [];\n  public editedClient;\n  public tempId: any;\n  public companiesList = [];\n\n  public rows = [];\n  public srch = [];\n  public statusValue;\n  public pipe = new DatePipe(\"en-US\");\n\n  constructor(private modalService: NgbModal,private orderService:OrderService\n    ,private _domSanitizer: DomSanitizer,private router:Router,private route:ActivatedRoute) {\n\n  }\n\n  open(content) {\n    this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then((result) => {\n      this.closeResult = `Closed with: ${result}`;\n    }, (reason) => {\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n    });\n  }\n  private getDismissReason(reason: any): string {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return `with: ${reason}`;\n    }\n  }\n\n\n \n\n  ngOnInit() {\n    this.dtOptions = {\n      // ... skipped ...\n      pageLength: 10,\n      language : {\n        \"emptyTable\": \"ليست هناك بيانات متاحة في الجدول\",\n        \"loadingRecords\": \"جارٍ التحميل...\",\n        \"lengthMenu\": \" _MENU_ \",\n        \"zeroRecords\": \"لم يعثر على أية سجلات\",\n        \"info\": \"إظهار _START_ إلى _END_ من أصل _TOTAL_ مدخل\",\n        \"infoEmpty\": \"يعرض 0 إلى 0 من أصل 0 سجل\",\n        \"infoFiltered\": \"(منتقاة من مجموع _MAX_ مُدخل)\",\n        \"search\": \"بحث:\",\n        \"paginate\": {\n            \"first\": \"الأول\",\n            \"previous\": \"السابق\",\n            \"next\": \"التالي\",\n            \"last\": \"الأخير\"\n        },\n        \"aria\": {\n            \"sortAscending\": \": تفعيل لترتيب العمود تصاعدياً\",\n            \"sortDescending\": \": تفعيل لترتيب العمود تنازلياً\"\n        },\n        \"processing\": \"جارٍ المعالجة...\"\n    },\n      dom: \"lfrtip\",\n    };\n\n    this.dtOptions.language.url = \"src/assets/i18n/datatable.ar.json\";\n\n    this.clientId= this.route.snapshot.queryParams[\"id\"];\n    this.getOrders();\n  }\n  getOrders() {\n    this.orderService.getOrdersByDelivery(this.clientId).subscribe(res=>{\n      if (this.isDtInitialized) {\n        this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n          dtInstance.destroy();\n          this.dtTrigger.next();\n        });\n      }else{\n        this.isDtInitialized = true\n        this.dtTrigger.next();\n      }\n      \n      this.orders = res;\n      console.log(this.orders)\n     // this.dtTrigger.next();\n      this.rows = this.orders;\n      this.srch = [...this.rows];\n    });\n   \n  }\n  onEditClient(event){\n\n  }\n\n  onEdit(event){\n    \n    }\n\n    addProduct(){\n    \n    }\n\n}\n\n","<!-- Container-fluid starts-->\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"card\">\n                \n                <div class=\"card-body\">\n                    \n                    <div id=\"batchDelete\" class=\"category-table custom-datatable\">\n                        <div class=\"table-responsive\">\n                            <table datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\" id=\"datatable\"\n                            class=\"table table-striped custom-table datatable\">\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>{{'Order ID'|translate}}</th>\n                                    <th>{{'Date'|translate}}</th>\n                                    <th>{{'Status'|translate}}</th>\n                                    <th>{{'Shipping'|translate}}</th>\n                                    <th>{{'Total'|translate}}</th>\n\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr *ngFor=\"let order of orders; let i = index\">\n                                    <td>{{i+1}}</td>\n                                    <td><a routerLink = \"/sales/view-order\" [queryParams]=\"{id: order?.orderId}\">{{order?.orderId}}</a></td>\n                                    <td>{{order?.date}}</td>\n                                    <td>{{order?.status | customStatus |translate}}</td>\n                                    <td>{{order?.shipping| number : '1.2-2'}}</td>\n                                    <td>{{order?.totalAmount| number : '1.2-2'}}</td>\n                                    \n                                </tr>\n                                <tr *ngIf=\"orders.length === 0\">\n                                    <td colspan=\"10\">\n                                        <h5 style=\"text-align: center;\">No data found</h5>\n                                    </td>\n                                   \n                                </tr>\n                            </tbody>\n                        </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- Container-fluid Ends-->","\n <div class=\"status-list\">\n    <div class=\"px-3 pb-4 pt-3 uppercase text-center text-title truncate\">\n        {{ IssueStatusDisplay[status] |translate}}\n        <span class=\"lowercase text-13\">{{ ordersCount }}</span>\n    </div>\n    <div class=\"example-list\"\n         cdkDropList\n         [cdkDropListData]=\"orders\"\n         [id]=\"status\"\n         (cdkDropListDropped)=\"drop($event)\">\n        <div issue-card *ngFor=\"let order of orders\"\n                    [order]=\"order\"\n                    cdkDragLockAxis=\"y\"\n                    cdkDrag\n                    [cdkDragData]=\"order\">\n</div>\n    </div>\n</div> \n\n\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\n\n\n\nimport { Observable, combineLatest } from 'rxjs';\nimport { untilDestroyed, UntilDestroy } from '@ngneat/until-destroy';\n\nimport * as dateFns from 'date-fns';\n\nimport { FilterState } from 'src/assets/filter/filter.store';\nimport { IssueStatus, IssueStatusDisplay } from 'src/app/shared/data/issue';\nimport { FilterQuery } from 'src/assets/filter/filter.query';\nimport { IssueUtil } from 'src/app/shared/data/utils/issue';\nimport { ProjectService } from 'src/app/shared/service/project.service';\nimport { Order } from 'src/app/shared/interfaces/order';\n\n@Component({\n  selector: '[app-zone-orders]',\n  templateUrl: './zone-orders.component.html',\n  styleUrls: ['./zone-orders.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\n@UntilDestroy()\nexport class ZoneOrdersComponent implements OnInit {\n  @Input() status: IssueStatus;\n  @Input() currentUserId: string;\n  IssueStatusDisplay = IssueStatusDisplay;\n  @Input() orders: Order[] ;\n\n  get ordersCount(): number {\n    return this.orders.length;\n  }\n\n  constructor(private _projectService: ProjectService, private _filterQuery: FilterQuery) {}\n\n  ngOnInit(): void {\n    this._projectService.getProject();\n  \n  }\n\n  drop(event: CdkDragDrop<Order[]>) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n      console.log( event.previousIndex, event.currentIndex)\n     \n  }\n\n  filterIssues(order: Order[], filter: FilterState): Order[] {\n    const { onlyMyIssue, ignoreResolved, searchTerm, userIds } = filter;\n    return order.filter((order) => {\n      const isMatchTerm = searchTerm ? IssueUtil.searchString(order.orderId, searchTerm) : true;\n\n     // const isIncludeUsers = userIds.length\n    //    ? order.userIds.some((userId) => userIds.includes(userId))\n       // : true;\n\n    //  const isMyIssue = onlyMyIssue\n      //  ? this.currentUserId && order.userIds.includes(this.currentUserId)\n      //  : true;\n\n      const isIgnoreResolved = ignoreResolved ? order.status !== IssueStatus.DONE : true;\n\n      return isMatchTerm ;//&& isIncludeUsers && isMyIssue && isIgnoreResolved;\n    });\n  }\n\n  isDateWithinThreeDaysFromNow(date: string) {\n    const now = new Date();\n    const inputDate = new Date(date);\n    return dateFns.isAfter(inputDate, dateFns.subDays(now, 3));\n  }\n\n  private updateListPosition(newList: Order[]) {\n    newList.forEach((order, idx) => {\n      const newIssueWithNewPosition = { ...order, listPosition: idx + 1 };\n      //this._projectService.updateIssue(newIssueWithNewPosition);\n    });\n  }\n}","\n\nimport { IssuePriority, OrderType } from '../issue';\nimport { IssuePriorityIcon } from '../issue-priority-icon';\n\nexport class IssueUtil {\n  static getIssueTypeIcon(orderType: OrderType): string {\n    return orderType?.toLowerCase();\n  }\n\n  static getIssuePriorityIcon(issuePriority: IssuePriority): IssuePriorityIcon {\n    return new IssuePriorityIcon(issuePriority);\n  }\n\n  static getRandomId(): string {\n    return `${Math.ceil(Math.random() * 8000)}`;\n  }\n\n  static searchString(str: string, searchString: string): boolean {\n    str = str ?? '';\n    searchString = searchString ?? '';\n    return str.trim().toLowerCase().includes(searchString.trim().toLowerCase());\n  }\n}\n","import { DatePipe } from '@angular/common';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport { DataTableDirective } from 'angular-datatables';\nimport { Subject } from 'rxjs';\nimport { AccountDelivery } from 'src/app/shared/interfaces/account-delivery';\nimport { User } from 'src/app/shared/interfaces/user';\nimport { DeliveryService } from 'src/app/shared/service/delivery.service';\nimport { OrderService } from 'src/app/shared/service/order.service';\n\n@Component({\n  selector: 'app-delivery-accounts',\n  templateUrl: './delivery-accounts.component.html',\n  styleUrls: ['./delivery-accounts.component.scss']\n})\nexport class DeliveryAccountsComponent implements OnInit {\n\n  clientId:any;\n  public closeResult: string;\n  @ViewChild(DataTableDirective, { static: false })\n  public dtElement: DataTableDirective;\n  dtOptions: DataTables.Settings = {};\n  isDtInitialized:boolean = false\n  public dtTrigger: Subject<any> = new Subject();\n  public orders:AccountDelivery[]=[];\n  public editedClient;\n  public tempId: any;\n  public companiesList = [];\n  public dbAcoounts:AccountDelivery[]=[];\n  public rows = [];\n  public srch = [];\n  public statusValue;\n  public pipe = new DatePipe(\"en-US\");\n\n  constructor(private modalService: NgbModal,private deliveryService:DeliveryService\n    ,private _domSanitizer: DomSanitizer,private router:Router,private route:ActivatedRoute) {\n     \n\n  }\n\n  open(content) {\n    this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then((result) => {\n      this.closeResult = `Closed with: ${result}`;\n    }, (reason) => {\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n    });\n  }\n  private getDismissReason(reason: any): string {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return `with: ${reason}`;\n    }\n  }\n\n\n \n\n  ngOnInit() {\n    this.dtOptions = {\n      // ... skipped ...\n      pageLength: 10,\n      language : {\n        \"emptyTable\": \"ليست هناك بيانات متاحة في الجدول\",\n        \"loadingRecords\": \"جارٍ التحميل...\",\n        \"lengthMenu\": \" _MENU_ \",\n        \"zeroRecords\": \"لم يعثر على أية سجلات\",\n        \"info\": \"إظهار _START_ إلى _END_ من أصل _TOTAL_ مدخل\",\n        \"infoEmpty\": \"يعرض 0 إلى 0 من أصل 0 سجل\",\n        \"infoFiltered\": \"(منتقاة من مجموع _MAX_ مُدخل)\",\n        \"search\": \"بحث:\",\n        \"paginate\": {\n            \"first\": \"الأول\",\n            \"previous\": \"السابق\",\n            \"next\": \"التالي\",\n            \"last\": \"الأخير\"\n        },\n        \"aria\": {\n            \"sortAscending\": \": تفعيل لترتيب العمود تصاعدياً\",\n            \"sortDescending\": \": تفعيل لترتيب العمود تنازلياً\"\n        },\n        \"processing\": \"جارٍ المعالجة...\"\n    },\n      dom: \"lfrtip\",\n    };\n\n    this.dtOptions.language.url = \"src/assets/i18n/datatable.ar.json\";\n\n    this.clientId= this.route.snapshot.queryParams[\"id\"];\n    this.getDBoyes();\n  }\n  getDBoyes() {\n    this.deliveryService.getAllDeliveryBoyAccounting(this.clientId).subscribe(res=>{\n     \n      if (this.isDtInitialized) {\n        this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n          dtInstance.destroy();\n          this.dtTrigger.next();\n        });\n      }else{\n        this.isDtInitialized = true\n        this.dtTrigger.next();\n      }\n      \n      this.orders = res;\n      this.rows = this.orders;\n      this.srch = [...this.rows];\n    });\n   \n  }\n  onEditClient(event){\n\n  }\n\n  onEdit(event){\n    \n    }\n\n    addProduct(){\n    \n    }\n\n}\n\n","<!-- Container-fluid starts-->\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"card\">\n                \n                <div class=\"card-body\">\n                    \n                    <div id=\"batchDelete\" class=\"category-table custom-datatable\">\n                        <div class=\"table-responsive\">\n                            <table datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\" id=\"datatable\"\n                            class=\"table table-striped custom-table datatable\">\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>{{'Order Count'|translate}}</th>\n                                    <th>{{'Total'|translate}}</th>\n                                    <th>{{'Status'|translate}}</th>\n\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr *ngFor=\"let order of orders; let i = index\">\n                                    <td>{{i+1}}</td>\n                                    <td>{{order?.orderCount}}</td>\n                                    <td>{{order?.total| number : '1.2-2'}}</td>\n                                    <td><a *ngIf=\"!order?.closed\" style=\"color: crimson;\">{{'Not Collected'|translate}}</a><a *ngIf=\"order?.closed\" style=\"color: rgb(58, 189, 7);\">{{'Collected'|translate}}</a></td>\n                                    \n                                </tr>\n                                <tr *ngIf=\"orders.length === 0\">\n                                    <td colspan=\"10\">\n                                        <h5 style=\"text-align: center;\">No data found</h5>\n                                    </td>\n                                   \n                                </tr>\n                            </tbody>\n                        </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- Container-fluid Ends-->","\nimport { Store, StoreConfig } from '@datorama/akita';\nimport { Injectable } from '@angular/core';\nimport { JProject } from './project';\n\nexport type ProjectState = JProject;\n\nfunction createInitialState(): ProjectState {\n  return {\n    issues: [],\n    users: []\n  } as ProjectState;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\n@StoreConfig({\n  name: 'project'\n})\nexport class ProjectStore extends Store<ProjectState> {\n  constructor() {\n    super(createInitialState());\n  }\n}\n","import { DatePipe } from '@angular/common';\nimport { Component, ElementRef, Input, NgZone, OnInit, ViewChild } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { ChatList } from 'src/app/shared/interfaces/chat-list';\nimport { ChatMs } from 'src/app/shared/interfaces/chat-ms';\nimport { Customer } from 'src/app/shared/interfaces/customer';\nimport { DeliveryBoy } from 'src/app/shared/interfaces/delivery-boy';\nimport { Message } from 'src/app/shared/interfaces/message';\nimport { AuthService } from 'src/app/shared/service/auth.service';\nimport { DeliveryService } from 'src/app/shared/service/delivery.service';\nimport { MessengerService } from 'src/app/shared/service/messenger.service';\n\n@Component({\n  selector: 'app-zone-chat',\n  templateUrl: './zone-chat.component.html',\n  styleUrls: ['./zone-chat.component.scss']\n})\nexport class ZoneChatComponent implements OnInit {\n\n  chatsList: ChatList[] = [];\n  chats: Message[] ;\n  chatsAfter:Message[]=[];\n  messageChat = \"\";\n  currentIndex = \"\";\n  dBoy:DeliveryBoy;\n  currentChat:ChatList;\n  members;\n  id:any;\n  chatMs:ChatList;\n  userID:any;\n  customer:Customer;\n  noSeenChats:Message[]=[];\n\n  @ViewChild('scrollMe') private myScrollContainer: ElementRef;\n  @ViewChild(\"imagePond\", { static: false }) imagePond: any;\n  public pipe = new DatePipe(\"en-US\");\n  todosProyectos: AngularFireList<any>;\n  proyectos: Observable<Message[]>;\n  pondOptions = {\n    class: \"my-filepond\",\n    multiple: true,\n    labelIdle: \"Browse and Drop files here\",\n    acceptedFileTypes: \"image/jpeg, image/png\",\n  };\n  private chatSubscription: Subscription;\n\n  pondFiles = [\"assets/img/logo2.png\"];\n  public pageNo: number = 1;\n  public paginate: any = {};\n @Input() stateId:string;\n\n  constructor(private route: ActivatedRoute, private router: Router,private database: AngularFireDatabase,private ngZone: NgZone\n    ,private messengerService:MessengerService,private authService:AuthService,private deliveryService:DeliveryService) {\n    window.onresize = (e) => {\n      this.ngZone.run(() => {\n        this.innerHeight = window.innerHeight + 'px';\n      });\n    };\n    this.getScreenHeight();\n  \n    \n    \n  }\n\n  ngOnInit() {\n \n \n     \n        this.messengerService.getZoneChatsReciver(this.stateId).subscribe(res=>{\n          this.chatsList=res;\n          \n         \n        });\n        this.scrollToBottom();        \n \n    \n  }\n  \n // product Pagination\n setPage(page: number) {\n   \n  this.router.navigate(['chat'], { queryParams: { page: page },replaceUrl: true})\n}\n\nsendMessage() {\n\n  if(this.messageChat!=''){\n    const time = new Date().getTime();\n    const date = this.pipe.transform(new Date(), 'hh:MM a yyyy-MM-dd');\n    const obj = {\n      id:\"\"+time,\n      isseen:false,\n      sender:\"0102\",\n      receiver:this.chatMs.id,\n      type:this.chatMs.type,\n      time:date,\n      sort:\"\"+time,\n      with:\"shop\",\n      ref:this.chatMs.ref,\n      message: this.messageChat,\n      status: \"sent\",\n    };\n\n    const obj1={\n      block: \"false\",\n      id: this.chatMs.id,\n      last_msg: this.messageChat,\n      name: this.chatMs.name,\n      ref: this.chatMs.ref,\n      timeStamp: \"\"+time,\n      type: this.chatMs.type,\n      notSeen: false,\n      zone: this.stateId\n    }\n    const obj2={\n      block: \"false\",\n      id: \"0102\",\n      last_msg: this.messageChat,\n      name: \"Shoppy\",\n      ref: this.chatMs.ref,\n      timeStamp: \"\"+time,\n      type: this.chatMs.type,\n      notSeen: true,\n      zone: this.stateId\n    }\n    this.messengerService.sendMessage(obj);\n    this.messengerService.sendChatMsUser(obj2,this.chatMs.id);\n    this.messengerService.sendChatMsShop(obj1);\n   \n    this.messageChat = \"\";\n    this.scrolltoB()\n  }\n \n}\nscrolltoB() {\n  var element = document.getElementById(\"chats\");\n  element.scrollIntoView();\n  element.scrollIntoView(false);\n  element.scrollIntoView({block: \"end\"});\n  element.scrollIntoView({behavior: \"smooth\", block: \"end\", inline: \"nearest\"});  \n\n}\npublic innerHeight: any;\n\n  getScreenHeight() {\n    this.innerHeight = window.innerHeight + 'px';\n  }\n\n \n\n  onResize(event) {\n    this.innerHeight = event.target.innerHeight + 'px';\n  }\n\n\n  ngAfterViewChecked() {        \n   this.scrollToBottom();        \n}\n \n  setActiveChat(chat: ChatList): void {\n    this.currentChat = chat;\n    this.currentIndex = chat.id;\n    this.getChatMs(chat.id);\n    this.getChat(chat.ref);\n    if(chat.type =='support'){\n      this.getDelivery(chat.id);\n    }else{\n      this.getUser(chat.id);\n    }\n    \n  }\n  getDelivery(id: string) {\n   this.deliveryService.getDB(id).subscribe(res=>{\n     this.dBoy = res;\n   })\n  }\n\n  getChat(id: any) {\n    this.chatSubscription = this.messengerService.getChats(id).subscribe(res=>{\n       this.chats=res;\n       this.noSeenChats = this.chats.filter(chat=>!chat.isseen && chat.receiver ==\"0102\");\n       console.log(this.noSeenChats)\n       this.seenMessage(this.noSeenChats);\n       if(this.currentIndex == res[0].sender)\n         this.seenAllMessage(res[0].sender)\n       this.scrollToBottom();\n       if(this.chatsAfter.length<this.chats.length){\n       \n        this.chatsAfter = this.chats;\n        this.scrollToBottom();\n      }\n     });\n     \n     \n    \n   }\n  \n   seenMessage(chats:Message[]) {\n    chats.forEach(element => {\n      this.database.object('Chats/'+element.id+'/isseen').set(true);\n    });\n\n   }\n   seenAllMessage(chatId:string) {\n    this.database.object('Chatlist/0102/'+chatId+'/notSeen').set(false);\n   }\n  getChatMs(userID: any) {\n    this.messengerService.getChatMs(userID).subscribe(chatMs=>this.chatMs=chatMs);\n    //this.scrolltoB();\n   }\n \n   getUser(userID: any) {\n    // this.authService.getCustomer(userID).subscribe(customer=>this.customer=customer);\n \n    }\n \n    scrollToBottom(): void {\n      try {\n         // this.myScrollContainer.nativeElement.scrollTop = this.myScrollContainer.nativeElement.scrollHeight;\n          this.myScrollContainer.nativeElement.scrollIntoView();\n          this.myScrollContainer.nativeElement.scrollIntoView(false);\n          this.myScrollContainer.nativeElement.scrollIntoView({block: \"end\"});\n          this.myScrollContainer.nativeElement.scrollIntoView({behavior: \"smooth\", block: \"end\", inline: \"nearest\"});  \n      } catch(err) { }                 \n  }\n \n  ngOnDestroy(): void {\n    if(this.chatSubscription!=null)\n    this.chatSubscription.unsubscribe();\n    console.log(\"closed\");\n  }\n\n}\n\n","\n    <div class=\"flex col-xl-12 w-full h-full full-height py-8 pl-8 pr-6\">\n        <div class=\"small-gap\"></div>\n        <div class=\"col-md-4 \">\n          <ul class=\"list-group\">\n            <li\n              class=\"list-group-item\"\n              *ngFor=\"let item of chatsList\"\n              [class.active]=\"item.id == currentIndex\"\n              (click)=\"setActiveChat(item)\"\n            >\n            <div class=\"user-card\">\n            <div class=\"chat-content\">\n                <div *ngIf=\"item?.type == 'support'\" class=\"dv_icon\"><img style=\"height: 30px;width: 30px; \" src=\"assets/images/dashboard/motorcycle.png\"></div>\n                <h4>{{ item.name }}  </h4>\n                <p>{{ item.last_msg }}</p>\n                <span class=\"chat-time\">{{item.timeStamp|dateAgo:'ar' |translate}}</span>\n                <div *ngIf = \"item?.notSeen\" class=\"mr-1 text-textMedium not_seen\" \n                >\n                </div>\n            </div>\n       \n        </div>\n            </li>\n          </ul>\n         \n        </div>\n        <div class=\"small-gap\"></div>\n        <div class=\"col-md-8\" *ngIf=\"chats\" >\n            <div class=\"chat-window\">\n                <div class=\"fixed-header\">\n                    <div class=\"navbar\">\n                        <div class=\"user-details\">\n                            \n                            <div class=\"user-info float-left\">\n                                <a *ngIf=\"chatMs.type !='support'\" routerLink = \"/customers/view-customer\" [queryParams]=\"{id: chatMs?.id}\" [title]=\"chatMs?.name\" class=\"text-white\" target=\"_blank\"><span>{{ chatMs?.name }}</span></a>\n                                <a *ngIf=\"chatMs.type =='support'\" routerLink = \"/delivery/view-delivery-boy\" [queryParams]=\"{id: chatMs?.id}\" [title]=\"chatMs?.name\" class=\"text-white\" target=\"_blank\"><span>{{ chatMs?.name }}</span></a>\n                            </div>\n                        </div>\n                        \n                        \n                    </div>\n                </div>\n                <div class=\"chat-contents\">\n                    <div class=\"chat-content-wrap\">\n                        <div class=\"chat-wrap-inner\">\n                            <div class=\"chat-box\" id=\"chats\" style=\"overflow: scroll; height: xyz;\" #scrollMe [scrollTop]=\"scrollMe.scrollHeight\" >\n                                <div class=\"chats\" >\n                               \n                                    <div class=\"chat\" [ngClass]=\"item.status === 'sent' ? 'chat-right' : 'chat-left'\"\n                                        *ngFor=\"let item of chats\">\n                                        <div class=\"chat-avatar\" *ngIf=\"item.status === 'received'\">\n                                            <a href=\"javascript:\" class=\"avatar\">\n                                                <img alt=\"\" src=\"assets/images/user.png\">\n                                            </a>\n                                        </div>\n                                        <div class=\"chat-body\">\n                                            <div class=\"chat-bubble\">\n                                                <div *ngIf=\"item.with !='complain'\" class=\"chat-content\">\n                                                    <p style=\"white-space: pre-line\">{{ item.message }}</p>\n                                                    <span class=\"chat-time\">{{item.sort|dateAgo:'ar' |translate}}</span>\n                                                </div>\n                                                <div *ngIf=\"item.with =='complain'\" class=\"chat-content\" >\n                                                    <a routerLink = \"/sales/view-order\"  [queryParams]=\"{id: item.order_number}\" target=\"_blank\"><p style=\"white-space: pre-line\">{{ item.message }}</p></a>\n                                                    <span class=\"chat-time\">{{item.sort|dateAgo:'ar' |translate}}</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"chat-footer\">\n                    <div class=\"message-bar\">\n                        <div class=\"message-inner\">\n                            <a class=\"link attach-icon\" href=\"javascript:\" data-toggle=\"modal\" data-target=\"#drag_files\"><img\n                                    src=\"assets/img/attachment.png\" alt=\"\"></a>\n                            <div class=\"message-area\">\n                                <div class=\"input-group\">\n                                    <textarea class=\"form-control\" placeholder=\"{{'Type message...'|translate}}\"\n                                        [(ngModel)]=\"messageChat\"></textarea>\n                                    <span class=\"input-group-append\">\n                                        <a class=\"btn btn-chat\" type=\"button\" (click)=\"sendMessage()\"><i\n                                                class=\"fa fa-send\"></i></a>\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div> \n      \n          \n        </div>\n        <div *ngIf=\"!chats\">\n            <br />\n            <p>Please click on a device...</p>\n          </div>\n      </div>\n    <div class=\"vertical-height\"></div>\n     \n                            \n                               \n                           \n                          \n","import { Injectable } from '@angular/core';\nimport { Store, StoreConfig } from '@datorama/akita';\n\nexport interface FilterState {\n  searchTerm: string;\n  userIds: string[];\n  onlyMyIssue: boolean;\n  ignoreResolved: boolean;\n}\n\nexport function createInitialFilterState(): FilterState {\n  return {\n    searchTerm: '',\n    userIds: [],\n    onlyMyIssue: false,\n    ignoreResolved: false\n  };\n}\n\n@Injectable({\n  providedIn: 'root'\n})\n@StoreConfig({\n  name: 'filter'\n})\nexport class FilterStore extends Store<FilterState> {\n  constructor() {\n    super(createInitialFilterState());\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'issue-loader',\n  templateUrl: './issue-loader.component.html',\n  styleUrls: ['./issue-loader.component.scss']\n})\nexport class IssueLoaderComponent {\n  constructor() {}\n}\n","<div class=\"p-10\">\n    <content-loader [backgroundColor]=\"'#f3f3f3'\" [foregroundColor]=\"'#ecebeb'\" [viewBox]=\"'0 0 940 300'\">\n        <svg:rect x=\"0\" y=\"0\" rx=\"3\" ry=\"3\" width=\"627\" height=\"24\" />\n        <svg:rect x=\"0\" y=\"29\" rx=\"3\" ry=\"3\" width=\"506\" height=\"24\" />\n        <svg:rect x=\"0\" y=\"77\" rx=\"3\" ry=\"3\" width=\"590\" height=\"16\" />\n        <svg:rect x=\"0\" y=\"100\" rx=\"3\" ry=\"3\" width=\"627\" height=\"16\" />\n        <svg:rect x=\"0\" y=\"123\" rx=\"3\" ry=\"3\" width=\"480\" height=\"16\" />\n        <svg:rect x=\"0\" y=\"187\" rx=\"3\" ry=\"3\" width=\"370\" height=\"16\" />\n        <svg:circle cx=\"18\" cy=\"239\" r=\"18\" />\n        <svg:rect x=\"46\" y=\"217\" rx=\"3\" ry=\"3\" width=\"548\" height=\"42\" />\n        <svg:rect x=\"683\" y=\"3\" rx=\"3\" ry=\"3\" width=\"135\" height=\"14\" />\n        <svg:rect x=\"683\" y=\"33\" rx=\"3\" ry=\"3\" width=\"251\" height=\"24\" />\n        <svg:rect x=\"683\" y=\"90\" rx=\"3\" ry=\"3\" width=\"135\" height=\"14\" />\n        <svg:rect x=\"683\" y=\"120\" rx=\"3\" ry=\"3\" width=\"251\" height=\"24\" />\n        <svg:rect x=\"683\" y=\"177\" rx=\"3\" ry=\"3\" width=\"135\" height=\"14\" />\n        <svg:rect x=\"683\" y=\"207\" rx=\"3\" ry=\"3\" width=\"251\" height=\"24\" />\n    </content-loader>\n</div>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { NgxImageCompressService } from 'ngx-image-compress';\nimport { ToastrService } from 'ngx-toastr';\nimport { Observable } from 'rxjs';\nimport { finalize } from 'rxjs/operators';\nimport { DeliveryBoy } from 'src/app/shared/interfaces/delivery-boy';\nimport { Permission } from 'src/app/shared/interfaces/permission';\nimport { Shop } from 'src/app/shared/interfaces/shop';\nimport { State } from 'src/app/shared/interfaces/state';\nimport { Town } from 'src/app/shared/interfaces/town';\nimport { User } from 'src/app/shared/interfaces/user';\nimport { AuthService } from 'src/app/shared/service/auth.service';\nimport { DataService } from 'src/app/shared/service/data.service';\nimport { ProductService } from 'src/app/shared/service/product.service';\ndeclare const $: any;\n@Component({\n  selector: 'app-add-delivery-boy',\n  templateUrl: './add-delivery-boy.component.html',\n  styleUrls: ['./add-delivery-boy.component.scss']\n})\nexport class AddDeliveryBoyComponent implements OnInit {\n\n  file: any;\n  localUrl: any;\n  localCompressedURl:any;\n  sizeOfOriginalImage:number;\n  sizeOFCompressedImage:number;\n  downloadURL: Observable<string>;\n  public accountForm: FormGroup;\n  public permissionForm: FormGroup;\n  public registerErrors: string;\n  user:DeliveryBoy = new DeliveryBoy();\n  selectedRole:boolean =false;\n  fishPhoto='assets/images/pro3/1.jpg'\n  idPhoto1='assets/images/pro3/1.jpg';\n  idPhoto2='assets/images/pro3/1.jpg';\n  dLPhoto='assets/images/pro3/1.jpg';\n  mLPhoto='assets/images/pro3/1.jpg';\n  public mode: 'edit' | 'add';\n  roles=[{name:\"Motorcycle\"},{name:\"Bike\"}];\n  permission : Permission= new Permission();\n  shops:Shop[]=[]\n  id:any;\n  imageType = \"\";\n  selectedTown='';\n  states:State[]=[];\n  towns:Town[]=[];\n  busy:boolean = false;\n  ATypes = [{name:\"By Hour\"},{name:\"Commission\"}];\n  constructor(private formBuilder: FormBuilder,private authService:AuthService,private toastr:ToastrService,\n    private router:Router,private route:ActivatedRoute,private imageCompress: NgxImageCompressService,private productService:ProductService\n    ,private db: AngularFireDatabase , private storage: AngularFireStorage,private dataService:DataService) {\n    this.createAccountForm();\n    this.getTowns()\n  }\n  getStates(){\n    this.dataService.getStates(this.selectedTown).subscribe(states=>{\n      this.states = states;\n    })\n  }\n\n  progress(){\n    document.getElementById(\"dialog\").click();\n  }\n\n  getTowns(){\n    this.dataService.getTowns().subscribe(towns=>{\n      this.towns = towns;\n    })\n  }\n  createAccountForm() {\n    this.accountForm = this.formBuilder.group({\n      idNumber: [this.user && this.user.idNumber,Validators.required],\n      vType: [this.user && this.user.vType,Validators.required],\n      name: [this.user && this.user.name,Validators.required],\n      phone: [this.user && this.user.phone,Validators.required],\n      address: [this.user && this.user.address,Validators.required],\n      email: [this.user && this.user.email,Validators.required],\n      passwored: [this.user && this.user.passwored,Validators.required],\n      confirmPwd: [],\n     state: [this.user && this.user.state,Validators.required],\n     town: [this.user && this.user.town,Validators.required],\n     idPhoto1: [this.user && this.user.idPhoto1],\n     idPhoto2: [this.user && this.user.idPhoto2],\n     mLPhoto: [this.user && this.user.mLPhoto],\n     fishPhoto: [this.user && this.user.fishPhoto],\n     dLPhoto: [this.user && this.user.dLPhoto]\n    })\n  }\n \n\n  selectFile(event: any,type:string) {\n    this.progress();\n    var  fileName : any;\n    this.imageType = type;\n    this.file = event.target.files[0];\n    fileName = this.file['name'];\n    if (event.target.files && event.target.files[0]) {\n       var reader = new FileReader();\n       reader.onload = (event: any) => {\n       this.localUrl = event.target.result;\n       this.compressFile(this.localUrl,fileName)\n       }\n       reader.readAsDataURL(event.target.files[0]);\n     }\n    }\n    imgResultBeforeCompress:string;\n    imgResultAfterCompress:string;\n\n\n    compressFile(image,fileName) {\n        var orientation = -1;\n        this.sizeOfOriginalImage = this.imageCompress.byteCount(image)/(1024*1024);\n        console.warn('Size in bytes is now:',  this.sizeOfOriginalImage);\n        this.imageCompress.compressFile(image, orientation, 200, 200).then(\n        result => {\n          this.imgResultAfterCompress = result;\n         this.localCompressedURl = result;\n    \n         this.sizeOFCompressedImage = this.imageCompress.byteCount(result)/(1024*1024)\n          console.warn('Size in bytes after compression:',  this.sizeOFCompressedImage);\n         // create file from byte\n         const imageName = fileName;\n        // call method that creates a blob from dataUri\n        const imageBlob = this.dataURItoBlob(this.imgResultAfterCompress.split(',')[1]);\n        //imageFile created below is the new compressed file which can be send to API in form data\n        const imageFile = new File([result], imageName, { type: 'image/jpeg' });\n        this.onFileSelected(imageBlob)\n      });}\n    dataURItoBlob(dataURI) {\n        const byteString = window.atob(dataURI);\n        const arrayBuffer = new ArrayBuffer(byteString.length);\n        const int8Array = new Uint8Array(arrayBuffer);\n        for (let i = 0; i < byteString.length; i++) {\n        int8Array[i] = byteString.charCodeAt(i);\n    }\n        const blob = new Blob([int8Array], { type: 'image/jpeg' });\n        return blob;\n    }\n\n  ngOnInit() {\n    this.id = this.route.snapshot.queryParams[\"id\"];\n    if(this.id){\n      this.mode='edit';\n      this.authService.getDB(this.id).subscribe(user=>{\n        this.user = user;\n        this.idPhoto1 = this.user.idPhoto1||'assets/images/pro3/1.jpg';\n        this.idPhoto2 = this.user.idPhoto2||'assets/images/pro3/1.jpg';\n        this.mLPhoto = this.user.mLPhoto||'assets/images/pro3/1.jpg';\n        this.dLPhoto = this.user.dLPhoto||'assets/images/pro3/1.jpg';\n        this.fishPhoto = this.user.fishPhoto||'assets/images/pro3/1.jpg';\n        this.selectedTown = this.user.town;\n        this.busy = this.user.busy;\n        this.getStates();\n        console.log(this.user)\n        this.createAccountForm();\n      })\n    }else{\n      this.mode='add';\n    }\n  }\n\n  addUser(){\n    if (!this.accountForm.valid) {\n      this.toastr.error(\"\", \"Please enter mandatory field!\");\n    }else if (this.mode=='add' && this.accountForm.value.passwored !== this.accountForm.value.confirmPwd) {\n      this.registerErrors = 'Passwords don\\'t match!';\n      \n    } else {\n      this.user.name = this.accountForm.value.name;\n      this.user.phone = this.accountForm.value.phone;\n      this.user.idNumber = this.accountForm.value.idNumber;\n      this.user.vType = this.accountForm.value.vType;\n      this.user.aType = this.accountForm.value.aType;\n      this.user.passwored = this.accountForm.value.passwored;\n      this.user.email = this.accountForm.value.email;\n      this.user.address = this.accountForm.value.address;\n      this.user.state = this.accountForm.value.state;\n      this.user.town = this.accountForm.value.town;\n      console.log(this.user)\n      this.authService.updateNewDB(this.user) \n      this.toastr.success(\"User Created \");\n      this.router.navigate(['/delivery/list-delivery-boys'])\n    }\n  }\n\n  private createId(): string {\n    const randomId = Math.floor(Math.random() * new Date().getTime());\n    let id = this.id || randomId+\"\";\n    if (id === \"1\") {\n      id = randomId+\"\";\n    }\n    return id;\n  }\n\n  onFileSelected(url) {\n    var n = Date.now();\n    const file = url;\n    console.log(url)\n    const filePath = `RoomsImages/${n}`;\n    const fileRef = this.storage.ref(filePath);\n    const task = this.storage.upload(`RoomsImages/${n}`, file);\n    task\n      .snapshotChanges()\n      .pipe(\n        finalize(() => {\n          this.downloadURL = fileRef.getDownloadURL();\n          this.downloadURL.subscribe(url => {\n            if (url) {\n              console.log(this.imageType)\n                if(this.imageType == \"idPhoto1\"){\n                  this.idPhoto1=url;\n                  this.user.idPhoto1 = url;\n                }else if(this.imageType == \"idPhoto2\"){\n                  this.idPhoto2=url;\n                  this.user.idPhoto2 = url;\n                  \n                }else if(this.imageType == \"dLPhoto\"){\n                  this.dLPhoto=url;\n                  this.user.dLPhoto = url;\n                  \n                }else if(this.imageType == \"mLPhoto\"){\n                  this.mLPhoto=url;\n                  this.user.mLPhoto = url;\n                  \n                }else {\n                  this.fishPhoto=url;\n                  this.user.fishPhoto = url;\n                  \n                }\n                $(\"#progress\").modal(\"hide\");\n             \n            }\n          });\n        })\n      )\n      .subscribe(url => {\n        if (url) {\n          console.log(url);\n        }\n      });\n  }\n\n  \n\n   \n}\n\n","<!-- Container-fluid starts-->\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <button data-toggle=\"modal\"\n            data-target=\"#progress\" class=\"btn btn-primary\" data-backdrop=\"static\" id=\"dialog\" hidden ></button>\n            <div class=\"card tab2-card\">\n                <div class=\"card-header\">\n                    <h5> {{'Add Delivery Boy'|translate}}</h5>\n                </div>\n                <div class=\"card-body tab2-card col-sm-8\">\n                    <ngb-tabset class=\"tab-coupon\">\n                        <ngb-tab title=\"{{'Account'|translate}}\">\n                            <ng-template ngbTabContent>                                                                                                                                        <div class=\"tab-pane fade active show\" id=\"account\" role=\"tabpanel\"\n                                        aria-labelledby=\"account-tab\">\n                                    <form [formGroup]=\"accountForm\" class=\"needs-validation user-add\" novalida>\n                                        <h4>{{'Account Details'|translate}}</h4>\n                                        <div class=\"form-group row\">\n                                            <label for=\"exampleFormControlSelect2\" class=\"col-xl-3 col-sm-4 mb-0\"><span>*</span>{{'Town :'|translate}}</label>\n                                            <select class=\"form-control digits col-xl-8 col-sm-7\"\n                                                id=\"exampleFormControlSelect2\" [(ngModel)]= \"selectedTown\" formControlName=\"town\"  (change)=\"getStates()\">\n                                                <option *ngFor=\"let town of towns\" [value]=\"town.id\" selected = \"town.id == user.town\">\n                                                    {{town.name}}\n                                                </option>\n                                            </select>\n                                        </div>\n                                        <div class=\"form-group row\">\n                                            <label for=\"exampleFormControlSelect2\" class=\"col-xl-3 col-sm-4 mb-0\"><span>*</span>{{'State :'|translate}}</label>\n                                            <select class=\"form-control digits col-xl-8 col-sm-7\"\n                                                id=\"exampleFormControlSelect2\" formControlName=\"state\" >\n                                                <option *ngFor=\"let state of states\" [value]=\"state.id\" selected = \"state.id == user.state\">\n                                                    {{state.name}}\n                                                </option>\n                                            </select>\n                                        </div>\n                                        <div class=\"form-group row\">\n                                            <label for=\"exampleFormControlSelect2\" class=\"col-xl-3 col-sm-4 mb-0\"><span>*</span>{{'Type :'|translate}}</label>\n                                            <select class=\"form-control digits col-xl-8 col-sm-7\"\n                                                id=\"exampleFormControlSelect2\"  formControlName=\"vType\">\n                                                <option *ngFor=\"let role of roles\" [value]=\"role.name\">\n                                                    {{role.name|translate}}\n                                                </option>\n                                            </select>\n                                        </div>\n                                      \n                                        \n                                        <div class=\"form-group row\">\n                                            <label for=\"validationCustom0\" class=\"col-xl-3 col-md-4\"><span>*</span>\n                                                {{'Name'|translate}}</label>\n                                            <input class=\"form-control col-xl-8 col-md-7\" id=\"validationCustom0\"\n                                                type=\"text\"  formControlName=\"name\" required=\"\">\n                                        </div>\n                                       \n                                        <div class=\"form-group row\">\n                                            <label for=\"validationCustom2\" class=\"col-xl-3 col-md-4\"><span>*</span>\n                                                {{'Phone'|translate}}</label>\n                                            <input class=\"form-control col-xl-8 col-md-7\" id=\"validationCustom2\"\n                                                type=\"text\"  formControlName=\"phone\" required=\"\">\n                                        </div>\n                                        <div class=\"form-group row\">\n                                            <label for=\"validationCustom2\" class=\"col-xl-3 col-md-4\"><span>*</span>\n                                                {{'Email'|translate}}</label>\n                                            <input class=\"form-control col-xl-8 col-md-7\" id=\"validationCustom3\"\n                                                type=\"text\"  formControlName=\"email\" required=\"\">\n                                        </div>\n                                        <div class=\"form-group row\">\n                                            <label for=\"validationCustom2\" class=\"col-xl-3 col-md-4\"><span>*</span>\n                                                {{'Address'|translate}}</label>\n                                            <input class=\"form-control col-xl-8 col-md-7\" id=\"validationCustom3\"\n                                                type=\"text\"  formControlName=\"address\" required=\"\">\n                                        </div>\n                                       \n                                        <div class=\"form-group row\">\n                                            <label for=\"validationCustom1\" class=\"col-xl-3 col-md-4\"><span>*</span>\n                                                {{'ID Number'|translate}}</label>\n                                            <input class=\"form-control col-xl-8 col-md-7\" id=\"validationCustom1\"\n                                                type=\"text\"  formControlName=\"idNumber\" required=\"\">\n                                        </div>\n                                        \n                                        \n                                        <div class=\"form-group row\">\n                                            <label for=\"validationCustom3\" class=\"col-xl-3 col-md-4\"><span>*</span>\n                                                {{'Password'|translate}}</label>\n                                            <input class=\"form-control col-xl-8 col-md-7\" id=\"validationCustom4\"\n                                                type=\"password\"  formControlName=\"passwored\" required=\"\">\n                                        </div>\n                                        <div class=\"form-group row\">\n                                            <label for=\"validationCustom4\" class=\"col-xl-3 col-md-4\"><span>*</span>\n                                                {{'Confirm Password'|translate}}</label>\n                                            <input class=\"form-control col-xl-8 col-md-7\" id=\"validationCustom5\"\n                                                type=\"password\"  formControlName=\"confirmPwd\" >\n                                        </div>\n                                    </form>\n                                </div>\n                            </ng-template>\n                        </ngb-tab>\n                        <ngb-tab>\n                            <ng-template ngbTabTitle>{{'Images'|translate}}\n                                <ng-template ngbTabContent>\n                                        \n                                        <div class=\"permission-block\">\n                                            <div class=\"attribute-blocks\">\n                                                <h4 style=\"margin-bottom: 20px;\">{{'Delivery Boy Papers  Images'|translate}} </h4>\n                                                <div class=\"row\">\n                                                    <div class=\"col-xl-3 col-sm-4\">\n                                                        <label>{{'ID Image 1'|translate}}</label>\n                                                    </div>\n                                                    <div class=\"col-xl-9 col-sm-8\">\n                                                        <div>\n                                                            <img [src]=\"idPhoto1\" alt=\"\" class=\"img-fluid image_zoom_1 col-xl-8 db-image\">\n                                                            <input accept=\".jpg,.png,.jpeg\" class=\"form-control col-xl-8 col-sm-7\" type=\"file\" \n                                             placeholder=\"{{'Enter Image'|translate}}\" id=\"photo1\"  (change)=\"selectFile($event,'idPhoto1')\"   required>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row\">\n                                                    <div class=\"col-xl-3 col-sm-4\">\n                                                        <label>{{'ID Image 2'|translate}}</label>\n                                                    </div>\n                                                    <div class=\"col-xl-9 col-sm-8\">\n                                                        <div>\n                                                            <img [src]=\"idPhoto2\" alt=\"\" class=\"img-fluid image_zoom_1 col-xl-8 db-image\">\n                                                            <input class=\"form-control col-xl-8 col-sm-7\" type=\"file\" \n                                             placeholder=\"{{'Enter Image'|translate}}\" accept=\".jpg,.png,.jpeg\" id=\"photo2\"  (change)=\"selectFile($event,'idPhoto2')\"  required>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row\">\n                                                    <div class=\"col-xl-3 col-sm-4\">\n                                                        <label>{{'Driving License Image'|translate}}</label>\n                                                    </div>\n                                                    <div class=\"col-xl-9 col-sm-8\">\n                                                        <div>\n                                                            <img [src]=\"dLPhoto\" alt=\"\" class=\"img-fluid image_zoom_1 col-xl-8 db-image\"> \n                                                            <input class=\"form-control col-xl-8 col-sm-7\" type=\"file\" \n                                             placeholder=\"{{'Enter Image'|translate}}\" accept=\".jpg,.png,.jpeg\" id=\"photo3\"  (change)=\"selectFile($event,'dLPhoto')\" required>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row\">\n                                                    <div class=\"col-xl-3 col-sm-4\">\n                                                        <label>{{'Vehicle license Image'|translate}}</label>\n                                                    </div>\n                                                    <div class=\"col-xl-9 col-sm-8\">\n                                                        <div>\n                                                            <img [src]=\"mLPhoto\" alt=\"\" class=\"img-fluid image_zoom_1 col-xl-8 db-image\">\n                                                            <input class=\"form-control col-xl-8 col-sm-7\" type=\"file\" \n                                             placeholder=\"{{'Enter Image'|translate}}\" accept=\".jpg,.png,.jpeg\"  id=\"photo4\"  (change)=\" selectFile($event,'mLPhoto')\"  required>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row\">\n                                                    <div class=\"col-xl-3 col-sm-4\">\n                                                        <label>{{'Fish Image'|translate}}</label>\n                                                    </div>\n                                                    <div class=\"col-xl-9 col-sm-8\">\n                                                        <div>\n                                                        <img [src]=\"fishPhoto\" alt=\"\" class=\"img-fluid image_zoom_1 col-xl-8 db-image\">\n                                                        <input class=\"form-control col-xl-8 col-sm-7\" type=\"file\" \n                                             placeholder=\"{{'Enter Image'|translate}}\" accept=\".jpg,.png,.jpeg\" id=\"photo5\"  (change)=\"selectFile($event,'fishPhoto')\"  required>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                               \n                                            </div>\n                                           \n                                        </div>\n                                  \n                                </ng-template>\n                            </ng-template>\n                        </ngb-tab>\n                    </ngb-tabset>\n                    <div class=\"pull-right\">\n                        <div class=\"form-group has-danger\">\n                            <div class=\"form-control-feedback\">\n                              {{ registerErrors }}\n                            </div>\n                          </div>\n                        <button type=\"button\" class=\"btn btn-primary\" (click)=\"addUser()\">{{'Save'|translate}}</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- Container-fluid Ends-->\n<div class=\"modal custom-modal fade\" id=\"progress\" role=\"dialog\">\n    <div class=\"modal-dialog modal-dialog-centered\">\n     <div class=\"progress-content modal-dialog-centered\" >\n\n        <mat-spinner></mat-spinner>\n     \n      </div>\n       </div>\n   </div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-zone-hours',\n  templateUrl: './zone-hours.component.html',\n  styleUrls: ['./zone-hours.component.scss']\n})\nexport class ZoneHoursComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>zone-hours works!</p>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Order } from 'src/app/shared/interfaces/order';\nimport { State } from 'src/app/shared/interfaces/state';\nimport { Town } from 'src/app/shared/interfaces/town';\nimport { User } from 'src/app/shared/interfaces/user';\nimport { DataService } from 'src/app/shared/service/data.service';\nimport { OrderService } from 'src/app/shared/service/order.service';\n\n@Component({\n  selector: 'app-orders-dashboard',\n  templateUrl: './orders-dashboard.component.html',\n  styleUrls: ['./orders-dashboard.component.scss']\n})\nexport class OrdersDashboardComponent implements OnInit {\n \n  selectedTown='';\n  states:State[]=[];\n  selectedState:any;\n  towns:Town[]=[];\n  Allorders:Order[]=[];\n  user:User;\n  allZone:boolean = false;\n  constructor(private dataService:DataService,private orderService:OrderService,private router:Router) {\n    const user = localStorage.getItem('adminUser');\n      if(user){\n      console.log(user) \n      let jsonObj: any = JSON.parse(user); // string to generic object first\n      this.user = <User>jsonObj;\n      console.log(this.user)\n      this.allZone = this.user.allZone;\n\n      if(this.allZone){\n        this.getTowns()\n      }else{\n        this.selectedTown = this.user.town;\n        this.selectedState = this.user.state;\n        this.getAllOrders();\n      }\n      }\n   \n   }\n\n  ngOnInit(): void {\n\n  }\n  \n  getStates(){\n    this.dataService.getStates(this.selectedTown).subscribe(states=>{\n      this.states = states;\n    })\n  }\n\n  progress(){\n    document.getElementById(\"dialog\").click();\n  }\n\n  getTowns(){\n    this.dataService.getTowns().subscribe(towns=>{\n      this.towns = towns;\n    })\n  }\n\n  getAllOrders(){\n    this.Allorders = [];\n  this.orderService.getAllOrdersByState(this.selectedState).subscribe(res=>{\n    this.Allorders = res;\n\n  });\n  }\n\n  reloadComponent() {\n    let currentUrl = this.router.url;\n    this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n    this.router.onSameUrlNavigation = 'reload';\n    this.router.navigate([currentUrl]);\n }\n\n  chat(){\n    \n  }\n \n \n}\n","<!-- Container-fluid starts-->\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div *ngIf=\"allZone\" class=\"row\">\n                <div class=\"col-xl-5 col-sm-4 mb-0\">\n                    <div class=\"form-group row \">\n                        <label for=\"exampleFormControlSelect2\" class=\"col-xl-3 col-sm-4 mb-0\"><span>*</span>{{'Town :'|translate}}</label>\n                     <select class=\"form-control digits col-xl-8 col-sm-7\"\n                    id=\"exampleFormControlSelect2\" [(ngModel)]= \"selectedTown\" (change)=\"getStates()\">\n                    <option *ngFor=\"let town of towns\" [value]=\"town.id\" selected = \"town.id == user.town\">\n                        {{town.name}}\n                    </option>\n                </select>\n                    </div>\n                    \n                </div>\n                <div class=\"col-xl-5 col-sm-4 mb-0\">\n                    <div class=\"form-group row \">\n                        <label for=\"exampleFormControlSelect2\" class=\"col-xl-3 col-sm-4 mb-0\"><span>*</span>{{'State :'|translate}}</label>\n                    <select class=\"form-control digits col-xl-8 col-sm-7\"\n                        id=\"exampleFormControlSelect2\" [(ngModel)]= \"selectedState\" (change)=\"getAllOrders()\">\n                        <option *ngFor=\"let state of states\" [value]=\"state.id\"  selected = \"state.id == user.state\">\n                            {{state.name}}\n                        </option>\n                    </select>  \n                    </div>\n                    \n                </div>\n\n                <div class=\"col-xl-2 col-sm-2 mb-0\">\n                    <button  (click)=\"reloadComponent()\" class=\"btn btn-primary mr-1\"  >\n                        {{'Reset'|translate}}\n                    </button>\n                    \n                </div>\n                \n               \n            </div>\n            <div class=\"form-group row\">\n               \n            </div>\n            <ngb-tabset class=\"tab-coupon\">\n                <ngb-tab title=\"{{'Orders'|translate}}\">\n                    <ng-template ngbTabContent>                                                                                                                                        <div class=\"tab-pane fade active show\" id=\"account\" role=\"tabpanel\"\n                                aria-labelledby=\"account-tab\">\n                                <app-orders-board *ngIf=\"selectedState\" [Allorders] = \"Allorders\"></app-orders-board>\n                        </div>\n                    </ng-template>\n                </ngb-tab>\n                <ngb-tab>\n                    <ng-template ngbTabTitle>{{'Map'|translate}}\n                        <ng-template ngbTabContent>\n                               <app-zone-delivery-boys-tracking *ngIf=\"selectedState\" [stateId]=\"selectedState\"></app-zone-delivery-boys-tracking> \n                                \n                          \n                        </ng-template>\n                    </ng-template>\n                </ngb-tab>\n                <ngb-tab>\n                    <ng-template ngbTabTitle>{{'Chats'|translate}}\n                        <ng-template ngbTabContent>\n                               <app-zone-chat  *ngIf=\"selectedState\" [stateId]=\"selectedState\" ></app-zone-chat> \n                                \n                          \n                        </ng-template>\n                    </ng-template>\n                </ngb-tab>\n            </ngb-tabset>\n        </div>\n    </div>\n</div>\n<!-- Container-fluid Ends-->\n\n","import { Component, ChangeDetectionStrategy, Input, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nfunction ContentLoaderComponent__svg_animate_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"animate\", 7);\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"keyTimes\", ctx_r0.keyTimes)(\"values\", ctx_r0.animationValues[0])(\"dur\", ctx_r0.duration);\n} }\nfunction ContentLoaderComponent__svg_animate_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"animate\", 7);\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"keyTimes\", ctx_r1.keyTimes)(\"values\", ctx_r1.animationValues[1])(\"dur\", ctx_r1.duration);\n} }\nfunction ContentLoaderComponent__svg_animate_11_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"animate\", 7);\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵattribute(\"keyTimes\", ctx_r2.keyTimes)(\"values\", ctx_r2.animationValues[2])(\"dur\", ctx_r2.duration);\n} }\nconst _c0 = [\"*\"];\nfunction uid() {\n    return Math.random().toString(36).substring(2);\n}\nclass ContentLoaderComponent {\n    constructor() {\n        this.fixedId = uid();\n        this.idClip = `${this.fixedId}-diff`;\n        this.idGradient = `${this.fixedId}-animated-diff`;\n        this.idAria = `${this.fixedId}-aria`;\n        this.animate = true;\n        this.baseUrl = '';\n        this.speed = 1.2;\n        this.viewBox = '0 0 400 130';\n        this.gradientRatio = 2;\n        this.backgroundColor = '#f5f6f7';\n        this.backgroundOpacity = 1;\n        this.foregroundColor = '#eee';\n        this.foregroundOpacity = 1;\n        this.rtl = false;\n        this.interval = 0.25;\n        this.style = {};\n        this.animationValues = [];\n    }\n    ngOnInit() {\n        this.clipPath = `url(${this.baseUrl}#${this.idClip})`;\n        this.fillStyle = { fill: `url(${this.baseUrl}#${this.idGradient})` };\n        this.style = this.rtl ? Object.assign(Object.assign({}, this.style), { transform: 'scaleX(-1)' }) : this.style;\n        this.duration = `${this.speed}s`;\n        this.keyTimes = `0; ${this.interval}; 1`;\n        this.animationValues = [\n            `${-this.gradientRatio}; ${-this.gradientRatio}; 1`,\n            `${-this.gradientRatio / 2}; ${-this.gradientRatio / 2}; ${1 + this.gradientRatio / 2}`,\n            `0; 0; ${1 + this.gradientRatio}`\n        ];\n    }\n}\nContentLoaderComponent.ɵfac = function ContentLoaderComponent_Factory(t) { return new (t || ContentLoaderComponent)(); };\nContentLoaderComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ContentLoaderComponent, selectors: [[\"content-loader\"]], inputs: { animate: \"animate\", baseUrl: \"baseUrl\", speed: \"speed\", viewBox: \"viewBox\", gradientRatio: \"gradientRatio\", backgroundColor: \"backgroundColor\", backgroundOpacity: \"backgroundOpacity\", foregroundColor: \"foregroundColor\", foregroundOpacity: \"foregroundOpacity\", rtl: \"rtl\", interval: \"interval\", style: \"style\" }, ngContentSelectors: _c0, decls: 12, vars: 15, consts: [[3, \"ngStyle\"], [\"role\", \"presentation\", \"x\", \"0\", \"y\", \"0\", \"width\", \"100%\", \"height\", \"100%\", 3, \"ngStyle\"], [\"role\", \"presentation\"], [\"offset\", \"0%\"], [\"attributeName\", \"offset\", \"repeatCount\", \"indefinite\", 4, \"ngIf\"], [\"offset\", \"50%\"], [\"offset\", \"100%\"], [\"attributeName\", \"offset\", \"repeatCount\", \"indefinite\"]], template: function ContentLoaderComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(0, \"svg\", 0);\n        ɵngcc0.ɵɵelement(1, \"rect\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"defs\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"clipPath\");\n        ɵngcc0.ɵɵprojection(4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"linearGradient\");\n        ɵngcc0.ɵɵelementStart(6, \"stop\", 3);\n        ɵngcc0.ɵɵtemplate(7, ContentLoaderComponent__svg_animate_7_Template, 1, 3, \"animate\", 4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(8, \"stop\", 5);\n        ɵngcc0.ɵɵtemplate(9, ContentLoaderComponent__svg_animate_9_Template, 1, 3, \"animate\", 4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(10, \"stop\", 6);\n        ɵngcc0.ɵɵtemplate(11, ContentLoaderComponent__svg_animate_11_Template, 1, 3, \"animate\", 4);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngStyle\", ctx.style);\n        ɵngcc0.ɵɵattribute(\"viewBox\", ctx.viewBox);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngStyle\", ctx.fillStyle);\n        ɵngcc0.ɵɵattribute(\"clip-path\", ctx.clipPath);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.idClip);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵattribute(\"id\", ctx.idGradient);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"stop-color\", ctx.backgroundColor)(\"stop-opacity\", ctx.backgroundOpacity);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.animate);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"stop-color\", ctx.foregroundColor)(\"stop-opacity\", ctx.foregroundOpacity);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.animate);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵattribute(\"stop-color\", ctx.backgroundColor)(\"stop-opacity\", ctx.backgroundOpacity);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.animate);\n    } }, directives: [ɵngcc1.NgStyle, ɵngcc1.NgIf], styles: [\"[_nghost-%COMP%] {\\n        display: block;\\n      }\"], changeDetection: 0 });\nContentLoaderComponent.propDecorators = {\n    animate: [{ type: Input }],\n    baseUrl: [{ type: Input }],\n    speed: [{ type: Input }],\n    viewBox: [{ type: Input }],\n    gradientRatio: [{ type: Input }],\n    backgroundColor: [{ type: Input }],\n    backgroundOpacity: [{ type: Input }],\n    foregroundColor: [{ type: Input }],\n    foregroundOpacity: [{ type: Input }],\n    rtl: [{ type: Input }],\n    interval: [{ type: Input }],\n    style: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ContentLoaderComponent, [{\n        type: Component,\n        args: [{\n                selector: 'content-loader',\n                template: \"<svg [attr.viewBox]=\\\"viewBox\\\" [ngStyle]=\\\"style\\\">\\n  <rect role=\\\"presentation\\\" [attr.clip-path]=\\\"clipPath\\\" [ngStyle]=\\\"fillStyle\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\" />\\n\\n  <defs role=\\\"presentation\\\">\\n    <clipPath [attr.id]=\\\"idClip\\\">\\n      <ng-content></ng-content>\\n    </clipPath>\\n\\n    <linearGradient [attr.id]=\\\"idGradient\\\">\\n      <stop offset=\\\"0%\\\" [attr.stop-color]=\\\"backgroundColor\\\" [attr.stop-opacity]=\\\"backgroundOpacity\\\">\\n        <animate\\n          *ngIf=\\\"animate\\\"\\n          [attr.keyTimes]=\\\"keyTimes\\\"\\n          attributeName=\\\"offset\\\"\\n          [attr.values]=\\\"animationValues[0]\\\"\\n          [attr.dur]=\\\"duration\\\"\\n          repeatCount=\\\"indefinite\\\"\\n        />\\n      </stop>\\n\\n      <stop offset=\\\"50%\\\" [attr.stop-color]=\\\"foregroundColor\\\" [attr.stop-opacity]=\\\"foregroundOpacity\\\">\\n        <animate\\n          *ngIf=\\\"animate\\\"\\n          attributeName=\\\"offset\\\"\\n          [attr.keyTimes]=\\\"keyTimes\\\"\\n          [attr.values]=\\\"animationValues[1]\\\"\\n          [attr.dur]=\\\"duration\\\"\\n          repeatCount=\\\"indefinite\\\"\\n        />\\n      </stop>\\n\\n      <stop offset=\\\"100%\\\" [attr.stop-color]=\\\"backgroundColor\\\" [attr.stop-opacity]=\\\"backgroundOpacity\\\">\\n        <animate\\n          *ngIf=\\\"animate\\\"\\n          attributeName=\\\"offset\\\"\\n          [attr.keyTimes]=\\\"keyTimes\\\"\\n          [attr.values]=\\\"animationValues[2]\\\"\\n          [attr.dur]=\\\"duration\\\"\\n          repeatCount=\\\"indefinite\\\"\\n        />\\n      </stop>\\n    </linearGradient>\\n  </defs>\\n</svg>\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [`\n      :host {\n        display: block;\n      }\n    `]\n            }]\n    }], function () { return []; }, { animate: [{\n            type: Input\n        }], baseUrl: [{\n            type: Input\n        }], speed: [{\n            type: Input\n        }], viewBox: [{\n            type: Input\n        }], gradientRatio: [{\n            type: Input\n        }], backgroundColor: [{\n            type: Input\n        }], backgroundOpacity: [{\n            type: Input\n        }], foregroundColor: [{\n            type: Input\n        }], foregroundOpacity: [{\n            type: Input\n        }], rtl: [{\n            type: Input\n        }], interval: [{\n            type: Input\n        }], style: [{\n            type: Input\n        }] }); })();\n\nclass BulletListContentLoaderComponent extends ContentLoaderComponent {\n}\nBulletListContentLoaderComponent.ɵfac = function BulletListContentLoaderComponent_Factory(t) { return ɵBulletListContentLoaderComponent_BaseFactory(t || BulletListContentLoaderComponent); };\nBulletListContentLoaderComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: BulletListContentLoaderComponent, selectors: [[\"bullet-list-content-loader\"]], features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 9, vars: 0, consts: [[\"viewBox\", \"0 0 245 125\"], [\"cx\", \"10\", \"cy\", \"20\", \"r\", \"8\"], [\"x\", \"25\", \"y\", \"15\", \"rx\", \"5\", \"ry\", \"5\", \"width\", \"220\", \"height\", \"10\"], [\"cx\", \"10\", \"cy\", \"50\", \"r\", \"8\"], [\"x\", \"25\", \"y\", \"45\", \"rx\", \"5\", \"ry\", \"5\", \"width\", \"220\", \"height\", \"10\"], [\"cx\", \"10\", \"cy\", \"80\", \"r\", \"8\"], [\"x\", \"25\", \"y\", \"75\", \"rx\", \"5\", \"ry\", \"5\", \"width\", \"220\", \"height\", \"10\"], [\"cx\", \"10\", \"cy\", \"110\", \"r\", \"8\"], [\"x\", \"25\", \"y\", \"105\", \"rx\", \"5\", \"ry\", \"5\", \"width\", \"220\", \"height\", \"10\"]], template: function BulletListContentLoaderComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"content-loader\", 0);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(1, \"circle\", 1);\n        ɵngcc0.ɵɵelement(2, \"rect\", 2);\n        ɵngcc0.ɵɵelement(3, \"circle\", 3);\n        ɵngcc0.ɵɵelement(4, \"rect\", 4);\n        ɵngcc0.ɵɵelement(5, \"circle\", 5);\n        ɵngcc0.ɵɵelement(6, \"rect\", 6);\n        ɵngcc0.ɵɵelement(7, \"circle\", 7);\n        ɵngcc0.ɵɵelement(8, \"rect\", 8);\n        ɵngcc0.ɵɵelementEnd();\n    } }, directives: [ContentLoaderComponent], encapsulation: 2, changeDetection: 0 });\nconst ɵBulletListContentLoaderComponent_BaseFactory = /*@__PURE__*/ ɵngcc0.ɵɵgetInheritedFactory(BulletListContentLoaderComponent);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BulletListContentLoaderComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bullet-list-content-loader',\n                template: `\n    <content-loader viewBox=\"0 0 245 125\">\n      <svg:circle cx=\"10\" cy=\"20\" r=\"8\" />\n      <svg:rect x=\"25\" y=\"15\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n      <svg:circle cx=\"10\" cy=\"50\" r=\"8\" />\n      <svg:rect x=\"25\" y=\"45\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n      <svg:circle cx=\"10\" cy=\"80\" r=\"8\" />\n      <svg:rect x=\"25\" y=\"75\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n      <svg:circle cx=\"10\" cy=\"110\" r=\"8\" />\n      <svg:rect x=\"25\" y=\"105\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n    </content-loader>\n  `,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            }]\n    }], null, null); })();\n\nclass FacebookContentLoaderComponent extends ContentLoaderComponent {\n}\nFacebookContentLoaderComponent.ɵfac = function FacebookContentLoaderComponent_Factory(t) { return ɵFacebookContentLoaderComponent_BaseFactory(t || FacebookContentLoaderComponent); };\nFacebookContentLoaderComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: FacebookContentLoaderComponent, selectors: [[\"facebook-content-loader\"]], features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 7, vars: 0, consts: [[\"viewBox\", \"0 0 476 124\"], [\"x\", \"48\", \"y\", \"8\", \"width\", \"88\", \"height\", \"6\", \"rx\", \"3\"], [\"x\", \"48\", \"y\", \"26\", \"width\", \"52\", \"height\", \"6\", \"rx\", \"3\"], [\"x\", \"0\", \"y\", \"56\", \"width\", \"410\", \"height\", \"6\", \"rx\", \"3\"], [\"x\", \"0\", \"y\", \"72\", \"width\", \"380\", \"height\", \"6\", \"rx\", \"3\"], [\"x\", \"0\", \"y\", \"88\", \"width\", \"178\", \"height\", \"6\", \"rx\", \"3\"], [\"cx\", \"20\", \"cy\", \"20\", \"r\", \"20\"]], template: function FacebookContentLoaderComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"content-loader\", 0);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(1, \"rect\", 1);\n        ɵngcc0.ɵɵelement(2, \"rect\", 2);\n        ɵngcc0.ɵɵelement(3, \"rect\", 3);\n        ɵngcc0.ɵɵelement(4, \"rect\", 4);\n        ɵngcc0.ɵɵelement(5, \"rect\", 5);\n        ɵngcc0.ɵɵelement(6, \"circle\", 6);\n        ɵngcc0.ɵɵelementEnd();\n    } }, directives: [ContentLoaderComponent], encapsulation: 2, changeDetection: 0 });\nconst ɵFacebookContentLoaderComponent_BaseFactory = /*@__PURE__*/ ɵngcc0.ɵɵgetInheritedFactory(FacebookContentLoaderComponent);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(FacebookContentLoaderComponent, [{\n        type: Component,\n        args: [{\n                selector: 'facebook-content-loader',\n                template: `\n    <content-loader viewBox=\"0 0 476 124\">\n      <svg:rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n      <svg:rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n      <svg:rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n      <svg:rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n      <svg:rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n      <svg:circle cx=\"20\" cy=\"20\" r=\"20\" />\n    </content-loader>\n  `,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            }]\n    }], null, null); })();\n\nclass ListContentLoaderComponent extends ContentLoaderComponent {\n}\nListContentLoaderComponent.ɵfac = function ListContentLoaderComponent_Factory(t) { return ɵListContentLoaderComponent_BaseFactory(t || ListContentLoaderComponent); };\nListContentLoaderComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ListContentLoaderComponent, selectors: [[\"list-content-loader\"]], features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 7, vars: 0, consts: [[\"viewBox\", \"0 0 400 110\"], [\"x\", \"0\", \"y\", \"0\", \"rx\", \"3\", \"ry\", \"3\", \"width\", \"250\", \"height\", \"10\"], [\"x\", \"20\", \"y\", \"20\", \"rx\", \"3\", \"ry\", \"3\", \"width\", \"220\", \"height\", \"10\"], [\"x\", \"20\", \"y\", \"40\", \"rx\", \"3\", \"ry\", \"3\", \"width\", \"170\", \"height\", \"10\"], [\"x\", \"0\", \"y\", \"60\", \"rx\", \"3\", \"ry\", \"3\", \"width\", \"250\", \"height\", \"10\"], [\"x\", \"20\", \"y\", \"80\", \"rx\", \"3\", \"ry\", \"3\", \"width\", \"200\", \"height\", \"10\"], [\"x\", \"20\", \"y\", \"100\", \"rx\", \"3\", \"ry\", \"3\", \"width\", \"80\", \"height\", \"10\"]], template: function ListContentLoaderComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"content-loader\", 0);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(1, \"rect\", 1);\n        ɵngcc0.ɵɵelement(2, \"rect\", 2);\n        ɵngcc0.ɵɵelement(3, \"rect\", 3);\n        ɵngcc0.ɵɵelement(4, \"rect\", 4);\n        ɵngcc0.ɵɵelement(5, \"rect\", 5);\n        ɵngcc0.ɵɵelement(6, \"rect\", 6);\n        ɵngcc0.ɵɵelementEnd();\n    } }, directives: [ContentLoaderComponent], encapsulation: 2, changeDetection: 0 });\nconst ɵListContentLoaderComponent_BaseFactory = /*@__PURE__*/ ɵngcc0.ɵɵgetInheritedFactory(ListContentLoaderComponent);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ListContentLoaderComponent, [{\n        type: Component,\n        args: [{\n                selector: 'list-content-loader',\n                template: `\n    <content-loader viewBox=\"0 0 400 110\">\n      <svg:rect x=\"0\" y=\"0\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\n      <svg:rect x=\"20\" y=\"20\" rx=\"3\" ry=\"3\" width=\"220\" height=\"10\" />\n      <svg:rect x=\"20\" y=\"40\" rx=\"3\" ry=\"3\" width=\"170\" height=\"10\" />\n      <svg:rect x=\"0\" y=\"60\" rx=\"3\" ry=\"3\" width=\"250\" height=\"10\" />\n      <svg:rect x=\"20\" y=\"80\" rx=\"3\" ry=\"3\" width=\"200\" height=\"10\" />\n      <svg:rect x=\"20\" y=\"100\" rx=\"3\" ry=\"3\" width=\"80\" height=\"10\" />\n    </content-loader>\n  `,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            }]\n    }], null, null); })();\n\nclass ContentLoaderModule {\n    static forRoot() {\n        return {\n            ngModule: ContentLoaderModule\n        };\n    }\n}\nContentLoaderModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ContentLoaderModule });\nContentLoaderModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ContentLoaderModule_Factory(t) { return new (t || ContentLoaderModule)(); }, imports: [[CommonModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ContentLoaderModule, { declarations: function () { return [ContentLoaderComponent, FacebookContentLoaderComponent, BulletListContentLoaderComponent, ListContentLoaderComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [ContentLoaderComponent, FacebookContentLoaderComponent, BulletListContentLoaderComponent, ListContentLoaderComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ContentLoaderModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [\n                    ContentLoaderComponent,\n                    FacebookContentLoaderComponent,\n                    BulletListContentLoaderComponent,\n                    ListContentLoaderComponent\n                ],\n                exports: [\n                    ContentLoaderComponent,\n                    FacebookContentLoaderComponent,\n                    BulletListContentLoaderComponent,\n                    ListContentLoaderComponent\n                ]\n            }]\n    }], null, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BulletListContentLoaderComponent, ContentLoaderComponent, ContentLoaderModule, FacebookContentLoaderComponent, ListContentLoaderComponent };\n\n//# sourceMappingURL=ngneat-content-loader.js.map","<div class=\"issue-wrap\">\n    <div (click)=\"openIssueModal(order.orderId)\"\n         class=\"issue\">\n         \n        <p class=\"text-textDarkest text-center\">\n            {{ order.type|orderType|translate }}\n        </p>\n       \n        <p class=\"text-textDarkest text-center\">\n            {{ order.orderId}}\n        </p>\n        <p class=\"text-textDarkest text-center\"> {{timeLeft}} </p>\n       \n            <div class=\"row\">\n                <div class=\"col\"><h5 >\n                    {{'Order Time :'|translate}} {{order?.orderTime | date: 'hh:mm a'}}\n                </h5></div>\n                <div class=\"col\"><h5 *ngIf=\"order?.prepareTime>0\">\n                    {{'Accept Time :'|translate}} {{order?.prepareTime | date: 'hh:mm a'}}\n                </h5>\n                <h5 *ngIf=\"order?.prepareTime==0\">\n                {{'Accept Time :'|translate}} --:--\n            </h5></div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col\"><h5  *ngIf=\"order?.deliveryTime>0\">\n                    {{'prepare Time :'|translate}} {{order?.deliveryTime | date: 'hh:mm a'}}\n                </h5><h5  *ngIf=\"order?.deliveryTime==0\">\n                    {{'prepare Time :'|translate}} --:--\n                </h5></div>\n                <div class=\"col\"><h5 *ngIf=\"order?.doneTime>0\">\n                    {{'Delivery Time :'|translate}} {{order?.doneTime | date: 'hh:mm a'}}\n                </h5><h5 *ngIf=\"order?.doneTime==0\">\n                    {{'Delivery Time :'|translate}} --:--\n                </h5></div>\n            </div>\n            \n        <div class=\"flex items-center justify-between\">\n           \n            \n            <div class=\"flex items-center\">\n                <svg-icon class=\"mr-1 text-textMedium\"\n                          [name]=\"issueTypeIcon\"\n                          [size]=\"20\">\n                </svg-icon>\n\n           \n            </div>            \n        </div>\n    </div>\n</div>","import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport * as moment from 'moment';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { IssuePriorityIcon } from 'src/app/shared/data/issue-priority-icon';\nimport { ProjectQuery } from 'src/app/shared/data/project.query';\nimport { JUser } from 'src/app/shared/data/user';\nimport { IssueUtil } from 'src/app/shared/data/utils/issue';\nimport { Order } from 'src/app/shared/interfaces/order';\nimport { Shop } from 'src/app/shared/interfaces/shop';\nimport { ProductService } from 'src/app/shared/service/product.service';\nimport { IssueModalComponent } from '../issue-modal/issue-modal.component';\n\n@Component({\n  selector: '[issue-card]',\n  templateUrl: './issue-card.component.html',\n  styleUrls: ['./issue-card.component.scss']\n})\n@UntilDestroy()\nexport class IssueCardComponent implements OnInit {\n  @Input() order: Order;\n  assignees: JUser[];\n  issueTypeIcon: string;\n  priorityIcon: IssuePriorityIcon;\n  shops:Shop[]=[];\n  hours:any ;\n  minutes:any ;\n  seconds:any ;\n  days:any;\n  constructor(private _projectQuery: ProjectQuery, private _modalService: NzModalService,private productService:ProductService) {}\n\n  ngOnInit(): void {\n    this.productService.getShops.subscribe(shops=>{\n      this.shops=shops;\n    })\n    this.issueTypeIcon=\"story\";\n    this.startTimer();\n  }\n  timeLeft: any;\n  interval;\n\n  startTimer() {\n    this.interval = setInterval(() => {\n\n      this.timer()\n        \n      \n    },1000)\n  }\n  updtaeClock() {\n  \n\n  }\n  timer(){\n    \n   \n   if(this.order.status ==\"0\"){\n    var now  =  new Date().getTime();\n    var then = this.order.orderTime;\n\n   var ms = moment(now).diff(moment(then));\n   var d = moment.duration(ms);\n   this.timeLeft = Math.floor(d.asHours()) + moment.utc(ms).format(\":mm:ss\");\n   var tp = Math.floor(d.asMinutes());\n    if(tp>=15){\n      this.issueTypeIcon = \"bug\"\n    }\n   }else if(this.order.status ==\"1\"){\n    var now  =  new Date().getTime();\n    var then = this.order.prepareTime;\n\n   var ms = moment(now).diff(moment(then));\n   var d = moment.duration(ms);\n   this.timeLeft = Math.floor(d.asHours()) + moment.utc(ms).format(\":mm:ss\");\n   var tp = Math.floor(d.asMinutes());\n   if(tp>=this.order.pTime){\n    this.issueTypeIcon = \"bug\"\n     }\n  }else if(this.order.status ==\"1\"){\n    var now  =  new Date().getTime();\n    var then = this.order.deliveryTime;\n\n   var ms = moment(now).diff(moment(then));\n   var d = moment.duration(ms);\n   this.timeLeft = Math.floor(d.asHours()) + moment.utc(ms).format(\":mm:ss\");\n   var tp = Math.floor(d.asMinutes());\n   \n  }\n   \n   \n\n // this.startTimer(); \n  }\n \n\n  openIssueModal(issueId: string) {\n    this._modalService.create({\n      nzContent: IssueModalComponent,\n      nzWidth: 990,\n      nzClosable: false,\n      nzFooter: null,\n      nzComponentParams: {\n        orderId: issueId\n      }\n    });\n  }\n}\n","import { Subject, Subscription } from 'rxjs';\nimport { ɵNG_PIPE_DEF } from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\n\nconst NG_PIPE_DEF = ɵNG_PIPE_DEF;\nfunction isPipe(target) {\n    return !!target[NG_PIPE_DEF];\n}\n\n/**\n * Applied to instances and stores `Subject` instance when\n * no custom destroy method is provided.\n */\nconst DESTROY = Symbol('__destroy');\n/**\n * Applied to definitions and informs that class is decorated\n */\nconst DECORATOR_APPLIED = Symbol('__decoratorApplied');\n/**\n * If we use the `untilDestroyed` operator multiple times inside the single\n * instance providing different `destroyMethodName`, then all streams will\n * subscribe to the single subject. If any method is invoked, the subject will\n * emit and all streams will be unsubscribed. We wan't to prevent this behavior,\n * thus we store subjects under different symbols.\n */\nfunction getSymbol(destroyMethodName) {\n    if (typeof destroyMethodName === 'string') {\n        return Symbol(`__destroy__${destroyMethodName}`);\n    }\n    else {\n        return DESTROY;\n    }\n}\nfunction markAsDecorated(type) {\n    // Store this property on the prototype if it's an injectable class, component or directive.\n    // We will be able to handle class extension this way.\n    type.prototype[DECORATOR_APPLIED] = true;\n}\nfunction createSubjectOnTheInstance(instance, symbol) {\n    if (!instance[symbol]) {\n        instance[symbol] = new Subject();\n    }\n}\nfunction completeSubjectOnTheInstance(instance, symbol) {\n    if (instance[symbol]) {\n        instance[symbol].next();\n        instance[symbol].complete();\n        // We also have to re-assign this property thus in the future\n        // we will be able to create new subject on the same instance.\n        instance[symbol] = null;\n    }\n}\n\nfunction unsubscribe(property) {\n    if (property instanceof Subscription) {\n        property.unsubscribe();\n    }\n}\nfunction unsubscribeIfPropertyIsArrayLike(property) {\n    Array.isArray(property) && property.forEach(unsubscribe);\n}\nfunction decorateNgOnDestroy(ngOnDestroy, options) {\n    return function () {\n        var _a;\n        // Invoke the original `ngOnDestroy` if it exists\n        ngOnDestroy && ngOnDestroy.call(this);\n        // It's important to use `this` instead of caching instance\n        // that may lead to memory leaks\n        completeSubjectOnTheInstance(this, getSymbol());\n        // Check if subscriptions are pushed to some array\n        if (options.arrayName) {\n            return unsubscribeIfPropertyIsArrayLike(this[options.arrayName]);\n        }\n        // Loop through the properties and find subscriptions\n        if (options.checkProperties) {\n            for (const property in this) {\n                if ((_a = options.blackList) === null || _a === void 0 ? void 0 : _a.includes(property)) {\n                    continue;\n                }\n                unsubscribe(this[property]);\n            }\n        }\n    };\n}\nfunction decorateProviderDirectiveOrComponent(type, options) {\n    type.prototype.ngOnDestroy = decorateNgOnDestroy(type.prototype.ngOnDestroy, options);\n}\nfunction decoratePipe(type, options) {\n    const def = type.ɵpipe;\n    def.onDestroy = decorateNgOnDestroy(def.onDestroy, options);\n}\nfunction UntilDestroy(options = {}) {\n    return (type) => {\n        if (isPipe(type)) {\n            decoratePipe(type, options);\n        }\n        else {\n            decorateProviderDirectiveOrComponent(type, options);\n        }\n        markAsDecorated(type);\n    };\n}\n\nfunction overrideNonDirectiveInstanceMethod(instance, destroyMethodName, symbol) {\n    const originalDestroy = instance[destroyMethodName];\n    if (ngDevMode && typeof originalDestroy !== 'function') {\n        throw new Error(`${instance.constructor.name} is using untilDestroyed but doesn't implement ${destroyMethodName}`);\n    }\n    createSubjectOnTheInstance(instance, symbol);\n    instance[destroyMethodName] = function () {\n        // eslint-disable-next-line prefer-rest-params\n        originalDestroy.apply(this, arguments);\n        completeSubjectOnTheInstance(this, symbol);\n        // We have to re-assign this property back to the original value.\n        // If the `untilDestroyed` operator is called for the same instance\n        // multiple times, then we will be able to get the original\n        // method again and not the patched one.\n        instance[destroyMethodName] = originalDestroy;\n    };\n}\nfunction untilDestroyed(instance, destroyMethodName) {\n    return (source) => {\n        const symbol = getSymbol(destroyMethodName);\n        // If `destroyMethodName` is passed then the developer applies\n        // this operator to something non-related to Angular DI system\n        if (typeof destroyMethodName === 'string') {\n            overrideNonDirectiveInstanceMethod(instance, destroyMethodName, symbol);\n        }\n        else {\n            ngDevMode && ensureClassIsDecorated(instance);\n            createSubjectOnTheInstance(instance, symbol);\n        }\n        return source.pipe(takeUntil(instance[symbol]));\n    };\n}\nfunction ensureClassIsDecorated(instance) {\n    const prototype = Object.getPrototypeOf(instance);\n    const missingDecorator = !(DECORATOR_APPLIED in prototype);\n    if (missingDecorator) {\n        throw new Error('untilDestroyed operator cannot be used inside directives or ' +\n            'components or providers that are not decorated with UntilDestroy decorator');\n    }\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { UntilDestroy, untilDestroyed };\n\n//# sourceMappingURL=ngneat-until-destroy.js.map","\nimport { JComment } from './comment';\n\n/* eslint-disable no-shadow */\nexport enum OrderType {\n  Shop = 'Shop',\n  Shipping = 'Shipping',\n  Pharmacy = 'Pharmacy'\n}\n\nexport enum IssueStatus {\n  NEW= '0',\n  PREPARE = '1',\n  STORED = '2',\n  DISPATCHING = '3',\n  DONE = '4'\n}\n\nexport const IssueStatusDisplay = {\n  [IssueStatus.NEW]: 'New Order',\n  [IssueStatus.PREPARE]: 'Preparing',\n  [IssueStatus.STORED]: 'Stored',\n  [IssueStatus.DISPATCHING]: 'Dispatching',\n  [IssueStatus.DONE]: 'Done'\n};\n\nexport enum IssuePriority {\n  LOWEST = 'Lowest',\n  LOW = 'Low',\n  MEDIUM = 'Medium',\n  HIGH = 'High',\n  HIGHEST = 'Highest'\n}\n\nexport const IssuePriorityColors = {\n  [IssuePriority.HIGHEST]: '#CD1317',\n  [IssuePriority.HIGH]: '#E9494A',\n  [IssuePriority.MEDIUM]: '#E97F33',\n  [IssuePriority.LOW]: '#2D8738',\n  [IssuePriority.LOWEST]: '#57A55A'\n};\n\n/* eslint-enable no-shadow */\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AddDeliveryBoyComponent } from './add-delivery-boy/add-delivery-boy.component';\nimport { ListDeliveryBoysComponent } from './list-delivery-boys/list-delivery-boys.component';\nimport { OrdersBoardComponent } from './orders-board/orders-board.component';\nimport { OrdersDashboardComponent } from './orders-dashboard/orders-dashboard.component';\nimport { ViewDeliveryBoyComponent } from './view-delivery-boy/view-delivery-boy.component';\nimport { ZoneDeliveryBoysTrackingComponent } from './zone-delivery-boys-tracking/zone-delivery-boys-tracking.component';\nimport { ZoneOrdersComponent } from './zone-orders/zone-orders.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: 'list-delivery-boys',\n        component: ListDeliveryBoysComponent,\n        data: {\n          title: \"Drivers List\",\n          breadcrumb: \"drivers-list\"\n        }\n      },\n      {\n        path: 'add-delivery-boy',\n        component: AddDeliveryBoyComponent,\n        data: {\n          title: \"Create Driver\",\n          breadcrumb: \"create-driver\"\n        }\n      },\n      {\n        path: 'orders-board',\n        component: OrdersBoardComponent,\n        data: {\n          title: \"zone orders\",\n          breadcrumb: \"zone-orders\"\n        }\n      },\n      {\n        path: 'track-delivery-boys',\n        component: ZoneDeliveryBoysTrackingComponent,\n        data: {\n          title: \"track delivery boys\",\n          breadcrumb: \"track-delivery-boys\"\n        }\n      },\n      {\n        path: 'orders-dashboard',\n        component: OrdersDashboardComponent,\n        data: {\n          title: \"orders dashboard\",\n          breadcrumb: \"orders-dashboard\"\n        }\n      },\n      {\n        path: 'view-delivery-boy',\n        component: ViewDeliveryBoyComponent,\n        data: {\n          title: \"view delivery boy\",\n          breadcrumb: \"view-delivery-boy\"\n        }\n      }\n      \n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DeliveryRoutingModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { arrayRemove, arrayUpsert, setLoading } from '@datorama/akita';\n\n\n\n\nimport { of } from 'rxjs';\nimport { catchError, tap } from 'rxjs/operators';\nimport { environment } from 'src/environments/environment';\nimport { JProject } from '../data/project';\nimport { ProjectStore } from '../data/project.store';\nimport { DateUtil } from '../data/utils/date';\nimport { Order } from '../interfaces/order';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectService {\n \n  baseUrl: string;\n  constructor(private _http: HttpClient, private _store: ProjectStore) {\n    this.baseUrl ='/assets/data'\n  }\n  getProject() {\n    this._http\n      .get<JProject>(`${this.baseUrl}/project.json`)\n      .pipe(\n        setLoading(this._store),\n        tap((project) => {\n          this._store.update((state) => ({\n              ...state,\n              ...project\n            }));\n        }),\n        catchError((error) => {\n          this._store.setError(error);\n          return of(error);\n        })\n      )\n      .subscribe();\n  }\n\n  setLoading(isLoading: boolean) {\n    this._store.setLoading(isLoading);\n  }\n\n \n\n  \n  deleteIssue(issueId: string) {\n    this._store.update((state) => {\n      const issues = arrayRemove(state.issues, issueId);\n      return {\n        ...state,\n        issues\n      };\n    });\n  }\n\n\n}\n","import { AgmMap } from '@agm/core';\nimport { DatePipe } from '@angular/common';\nimport { Component, Input, Output, EventEmitter, ViewChild, Inject, PLATFORM_ID, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { ToastrService } from 'ngx-toastr';\nimport { Customer } from 'src/app/shared/interfaces/customer';\nimport { Notification } from 'src/app/shared/interfaces/notification';\nimport { Order } from 'src/app/shared/interfaces/order';\nimport { State } from 'src/app/shared/interfaces/state';\nimport { Town } from 'src/app/shared/interfaces/town';\nimport { LocationModalComponent } from 'src/app/shared/location-modal/location-modal.component';\nimport { AuthService } from 'src/app/shared/service/auth.service';\nimport { CheckPermisson } from 'src/app/shared/service/check-permisson';\nimport { DataService } from 'src/app/shared/service/data.service';\nimport { MessengerService } from 'src/app/shared/service/messenger.service';\nimport { OrderService } from 'src/app/shared/service/order.service';\nimport { ProductService } from 'src/app/shared/service/product.service';\nimport { SendMailService } from 'src/app/shared/service/send-mail.service';\n\nexport interface ILatLng {\n  latitude: number;\n  longitude: number;\n}\n\n@Component({\n  selector: 'issue-detail',\n  templateUrl: './issue-detail.component.html',\n  styleUrls: ['./issue-detail.component.scss']\n})\nexport class IssueDetailComponent implements OnInit{\n  @Input() orderId: string;\n  order:Order;\n  @Input() isShowFullScreenButton: boolean;\n  @Input() isShowCloseButton: boolean;\n  @Output() onClosed = new EventEmitter();\n  @Output() onOpenIssue = new EventEmitter<string>();\n  ref:string;\n  public id:any;\n  client:Customer;\n  @ViewChild(AgmMap) agmMap: any;\n  public closeResult: string;\n  public modalOpen: boolean = false;\n  // Washington, DC, USA\n   origin: ILatLng ;\n  // New York City, NY, USA\n  destination: ILatLng ;\n  displayDirections = true;\n  \n  zoom = 14;\n  distance:any;\n shopIcon={\n  url:'./assets/images/icons/shop.png',\n  scaledSize: {\n      width: 40,\n      height: 40\n  }\n}\n\nuserIcon={\n  url:'./assets/images/icons/user.png',\n  scaledSize: {\n      width: 40,\n      height: 40\n  }\n}\n  showMap:boolean = false;\n  orderStatus:any;\n  pTime:number;\n  price:number;\n  canUpdate:boolean=false;\n  towns:Town[]=[];\n  states:State[]=[];\n  public pipe = new DatePipe(\"ar-EG\");\n  @ViewChild(\"locationModal\") LocationModal: LocationModalComponent;\n  token:any;\n  Status=[{id:\"0\",name:\"New\"},{id:\"1\",name:\"Prepare\"},{id:\"2\",name:\"Stored\"},{id:\"3\",name:\"Dispatching\"},{id:\"4\",name:\"Delivered\"},{id:\"5\",name:\"Cancelled\"}]\n\n\n  constructor(private _modalService: NzModalService,public productService: ProductService,\n    public route: ActivatedRoute,private router:Router,\n    private orderService: OrderService,private permisson:CheckPermisson,private toastr:ToastrService\n    ,private sendMail:SendMailService,private authService:AuthService,private messengerService:MessengerService,private dataService:DataService) {\n      this.canUpdate = this.permisson.checkPermisson('\"update_order\":true');\n      \n    }\n    ngOnInit(): void {\t\n      this.id = this.orderId;\n      this.getOrder(this.id);\n      this.getFillters();\n      \n    }\n\n    getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {\n      var R = 6371; // Radius of the earth in km\n      var dLat = this.deg2rad(lat2-lat1);  // deg2rad below\n      var dLon = this.deg2rad(lon2-lon1); \n      var a = \n        Math.sin(dLat/2) * Math.sin(dLat/2) +\n        Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) * \n        Math.sin(dLon/2) * Math.sin(dLon/2)\n        ; \n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n      var d = R * c; // Distance in km\n      return d;\n    }\n    \n    deg2rad(deg) {\n      return deg * (Math.PI/180)\n    }\n    polygonCenter(poly) {\n      const vertices = poly;\n    \n      // put all latitudes and longitudes in arrays\n      const longitudes = vertices.map(i => i.lng);\n      const latitudes = vertices.map( i => i.lat);\n    \n      // sort the arrays low to high\n      latitudes.sort();\n      longitudes.sort();\n    \n      // get the min and max of each\n      const lowX = latitudes[0];\n      console.log(lowX)\n      const highX = latitudes[latitudes.length - 1];\n      const lowy = longitudes[0];\n      const highy = longitudes[latitudes.length - 1];\n    \n      // center of the polygon is the starting point plus the midpoint\n      const centerX = lowX + ((highX - lowX) / 2);\n      const centerY = lowy + ((highy - lowy) / 2);\n    \n      return ({lat:centerX, lng:centerY});\n    }\n    getOrder(id: string) {\n      this.orderService\n      .getOrderById(id)\n      .subscribe((order) => {\n        if (order) {\n          this.order = order;\n          this.destination = {latitude: order.from.lat,longitude: order.from.lng};\n          this.origin = {latitude: order.to.lat,longitude: order.to.lng};\n          if(order.pTime)\n              this.pTime = order.pTime;\n\n          this.price = order.subtotal;\n          this.orderStatus = this.order.status;\n          this.updateS();\n          this.getStates();\n         \n          this.distance = this.getDistanceFromLatLonInKm(this.origin.latitude,this.origin.longitude,this.destination.latitude,this.destination.longitude);\n        }\n      });\n    }\n    getFillters() {\n      this.dataService.getTowns().subscribe(towns=>{\n        this.towns = towns;\n      });\n    }\n  \n    getStates(){\n      this.dataService.getStates(this.order.to.town ).subscribe(states=>{\n        this.states = states;\n      });\n    }\n  updateS() {\n     if(this.orderStatus == \"1\"){\n      this.Status=[{id:\"1\",name:\"Prepare\"},{id:\"2\",name:\"Stored\"},{id:\"3\",name:\"Dispatching\"},{id:\"4\",name:\"Delivered\"},{id:\"5\",name:\"Cancelled\"}];\n\n    }else if(this.orderStatus == \"2\"){\n      this.Status=[{id:\"2\",name:\"Stored\"},{id:\"3\",name:\"Dispatching\"},{id:\"4\",name:\"Delivered\"},{id:\"5\",name:\"Cancelled\"}];\n\n    }else if(this.orderStatus == \"3\"){\n      this.Status=[{id:\"3\",name:\"Dispatching\"},{id:\"4\",name:\"Delivered\"},{id:\"5\",name:\"Cancelled\"}];\n    }else if(this.orderStatus == \"4\"){\n      this.Status=[{id:\"4\",name:\"Delivered\"},{id:\"5\",name:\"Cancelled\"}];\n    }else if(this.orderStatus == \"5\"){\n      this.Status=[{id:\"5\",name:\"Cancelled\"}];\n    }\n  }\n\n  \n\n  closeModal() {\n    this.onClosed.emit();\n  }\n  viewMap(){\n    if(this.showMap){\n      this.showMap=false;\n    }else{\n      this.showMap=true;\n    }\n  }\n  openIssuePage() {\n    this.onOpenIssue.emit(this.order.orderId);\n  }\n\n  \n\n  updteStatus(){\n    console.log(this.orderStatus);\n\n   this.orderService.updateOrderStatus(this.order.orderId,this.orderStatus).subscribe(res=>{\n    let title = \"\";\n    let body = \"\";\n    this.authService.getToken(this.order.userId).subscribe(token=>{\n     this.token = token.token;\n     if(this.orderStatus==\"1\" ){\n      title = \"قيد التجهيز\"\n      console.log(\"pTime = \"+this.pTime)\n      const timestamp = new Date().getTime();\n      this.orderService.updateOrderTimeStatus(this.order.orderId,\"prepareTime\",timestamp).subscribe(res=>{\n\n      });\n      console.log(\"pTime = \"+this.pTime)\n      this.orderService.updateOrderPTime(this.order.orderId,this.pTime).subscribe(res=>{\n\n      });\n      this.orderService.updateOrderPice(this.order.orderId,this.price).subscribe(res=>{\n\n      });\n      body=\" الطلب رقم \"+this.order.orderId+\" قيد التجهيز\"\n     }else if(this.orderStatus==\"2\" ){\n       title = \"تم التخزين \"\n       body=\" الطلب رقم \"+this.order.orderId+\" تم التخزين  \"\n  \n     }else if(this.orderStatus==\"3\" ){\n      title = \"في الطريق\"\n      body=\" الطلب رقم \"+this.order.orderId+\" في الطريق \"\n      const timestamp = new Date().getTime();\n      this.orderService.updateOrderTimeStatus(this.order.orderId,\"deliveryTime\",timestamp).subscribe(res=>{\n\n      });\n    }else if(this.orderStatus==\"4\" ){\n      title = \"تم التسليم \"\n      body=\" الطلب رقم \"+this.order.orderId+\" تم التسليم\"\n      const timestamp = new Date().getTime();\n      this.deliveryRequest()\n       this.orderService.updateOrderTimeStatus(this.order.orderId,\"doneTime\",timestamp).subscribe(res=>{\n \n       });\n     }else if(this.orderStatus==\"5\"){\n      title = \"تم الغاء الطلب \"\n      body=\" الطلب رقم \"+this.order.orderId+\" تم الالغاء \"\n      this.cancelRequest();\n    }else{\n      this.toastr.error(\"Cant/'t update\")\n    }\n     this.sendNotification(title,body,this.token);\n     this.router.navigate(['/sales/orders']);\n    })\n   \n   })\n\n   this.closeModal();\n   \n  }\n\n  chat(){\n    this.messengerService.getChatReciverId('0102',this.order.userId).subscribe(chatMs=>{\n      if(chatMs.length>0){\n        this.ref=chatMs[0].ref\n        const url = this.router.serializeUrl(\n          this.router.createUrlTree(['/chat/chat'], { queryParams: { id: this.ref,user:this.order.userId}})\n        );\n      \n        window.open(url, '_blank');\n        //this.router.navigate(['/chat/chat'], { queryParams: { id: this.ref,user:this.order.userId},replaceUrl: true})\n      }else{\n        this.ref=\"\"+new Date().getTime();\n        const url = this.router.serializeUrl(\n          this.router.createUrlTree(['/chat/chat'], { queryParams: { id: this.ref,user:this.order.userId}})\n        );\n      \n        window.open(url, '_blank');\n      }\n      }\n      );\n  }\n   \n  sendNotification(title:string,body:string,id:string){\n    const content = {notification: {\n      title: title, \n      body: body\n      },\n      to : id\n     }\n    \n  this.sendMail.sendMessage(content);\n  const  myDate = this.pipe.transform(new Date(), 'yyyy-MM-dd hh:mm a');\n  const gid = this.createId();\n  let notification = new Notification(gid,title,body,true,this.order.orderId,this.order.shopId,true,false,this.order.userId,myDate);\n  this.orderService.sendNotification(notification);\n\n  }\n  ngAfterViewInit() {\n    \n  }\n  RequestDelivery(){\n    this.orderService.requestDelivery(this.order.orderId,this.order).subscribe(res=>{\n      this.toastr.success('Resqust send succesfully');\n    })\n\n   \n\n  }\n\n  cancelRequest(){\n    this.authService.getCustomer(this.order.userId).subscribe(customer=>{\n     // var balanceH = customer.balanceH - this.order.subtotal;\n     // this.orderService.updateUserPayments(customer.uid,\"balanceH\",balanceH).subscribe(res=>{\n  \n   //   })\n    })\n   \n  }\n\n  deliveryRequest(){\n    this.authService.getCustomer(this.order.userId).subscribe(customer=>{\n      //var balanceH = customer.balanceH - this.order.subtotal;\n     // var balanceM = customer.balanceM + this.order.subtotal;\n     // this.orderService.updateUserPayments(customer.uid,\"balanceH\",balanceH).subscribe(res=>{\n     //     this.orderService.updateUserPayments(customer.uid,\"balanceM\",balanceM)\n   //   })\n    })\n   \n  }\n  \n  private createId(): string {\n    let t = new Date();\n    const randomId = this.pipe.transform(new Date(), 'yyyyMMdd')+t.getUTCMilliseconds();\n    let id =  \"\"+randomId;\n    if (id === \"1\") {\n      id = \"\"+randomId;\n    }\n    return id;\n  }\n}\n","<div *ngIf=\"order; else loaderTmpl\" class=\"w-full h-full\">\n    <div class=\"row \">   \n        <div class=\"col-lg-12\">\n            <div class=\"row order-success-sec\">\n                <div class=\"col-sm-12\">\n                    <h4>{{'Order Type'|translate}} {{ order.type|orderType|translate }}</h4>\n                    <div class=\"myy-5\"></div>\n                </div>\n                <div class=\"col-sm-4 border-br\">\n                    <h4>{{'Summery'|translate}}</h4>\n                    <div class=\"myy-5\"></div>\n                    <ul class=\"order-detail\">\n                        <li>{{'Order ID :'|translate}} {{ order.orderId }}</li>\n                        <li>{{'Order Date :'|translate}} {{ order.date}}</li>\n                        <li>{{'Order Total :'|translate}} {{ order.totalAmount}} {{'EGP'|translate}}</li>\n                    </ul>\n                    <div class=\"myy-5\"></div>\n                </div>\n                <div *ngIf=\"order.type=='1' || order.type=='3'\" class=\"col-sm-4 border-br\">\n                    <h4>{{'Client Information'|translate}}</h4>\n                    <div class=\"myy-5\"></div>\n                    <ul class=\"order-detail\">\n                        <li><a routerLink = \"/customers/view-customer\" [queryParams]=\"{id: order?.userId}\" target=\"_blank\">{{ order.to.name }}</a></li>\n                        <li>{{'Contact No.'|translate}} {{ order.to.phone }}</li>\n                        <li>  <button (click)=\"chat()\" class=\"btn btn-primary mr-1\" style=\"margin: 5px;\" >\n                            {{'Messege'|translate}}\n                        </button></li>\n                    </ul>\n                    <div class=\"myy-4\"></div>\n                  \n                </div>\n                <div *ngIf=\"order.type=='1'\" class=\"col-sm-4 border-br\">\n                    \n                    <h4>{{'Shop Information'|translate}}</h4>\n                    <div class=\"myy-5\"></div>\n                    <ul class=\"order-detail\">\n                        <li><a routerLink = \"/shops/view-shop\" [queryParams]=\"{id: order?.shopId}\" target=\"_blank\">{{ order.from.name }} </a></li>\n                        <li>{{'Contact No.'|translate}} {{ order.from.phone }}</li>\n                     \n                    </ul>\n                    <div class=\"myy-5\"></div>\n                </div>\n                <div *ngIf=\"order.type=='2'\" class=\"col-sm-4 border-br\">\n                    \n                    <h4>{{'Sender Information'|translate}}</h4>\n                    <div class=\"myy-5\"></div>\n                    <ul class=\"order-detail\">\n                        <li>{{ order.from.name }} </li>\n                        <li>{{'Contact No.'|translate}} : {{ order.from.phone }}</li>\n                    </ul>\n                    <div class=\"myy-5\"></div>\n                </div>\n                <div *ngIf=\"order.type=='2'\" class=\"col-sm-4 border-br\">\n                    <h4>{{'Reciver Information'|translate}}</h4>\n                    <div class=\"myy-5\"></div>\n                    <ul class=\"order-detail\">\n                        <li>{{ order.to.name }}</li>\n                        <li>{{'Contact No.'|translate}} : {{ order.to.phone }}</li>\n                    </ul>\n                    <div class=\"myy-4\"></div>\n                  \n                </div>\n               \n                \n                <div *ngIf=\"order.payment == 'Delivery'\" class=\"col-sm-8 border-br\">\n                    <div *ngIf=\"order.type=='2'\"  class=\"row\">\n                       <div class=\"col-sm-6 \">\n                        <h4>{{'Sender address'|translate}}</h4>\n                        <div class=\"myy-5\"></div>\n                        <ul class=\"order-detail\">\n                        <li>{{ order.from.address }}</li>\n                        <li>{{ order.from.state }} , {{ order.from.town }} ,{{'Building No.'|translate}} ( {{ order.from.building }} )  {{'Appartment No.'|translate}} ( {{ order.from.apartment }} )</li>\n                       \n                       </ul>   \n                       </div>\n                       <div   class=\"col-sm-6\">\n                        <h4>{{'Reciver address'|translate}}</h4>\n                        <div class=\"myy-5\"></div>\n                        <ul class=\"order-detail\">\n                        <li>{{ order.to.address }}</li>\n                        <li>{{states|statePipe: order.to.state }} , {{towns|townPipe: order.to.town }} ,{{'Building No.'|translate}} ( {{ order.to.building }} )  {{'Appartment No.'|translate}} ( {{ order.to.apartment }} )</li>\n                       \n                        </ul>   \n                       </div>\n                    </div>\n                    <div *ngIf=\"order.type=='1' || order.type=='3'\">\n                         <h4>{{'Shipping address'|translate}}</h4>\n                         <div class=\"myy-5\"></div>\n                         <ul class=\"order-detail\">\n                        <li>{{ order.to.address }}</li>\n                        <li>{{ order.to.state }} , {{ order.to.town }} ,{{'Building No.'|translate}} ( {{ order.to.building }} )  {{'Appartment No.'|translate}} ( {{ order.to.apartment }} )</li>\n                       \n                       </ul>\n                       </div>\n                   \n                    <a (click)=\"viewMap()\" style=\"margin: 5px; float: right;\" class=\"btn btn-primary mr-1\" translate><i class=\"fa fa-map-marker\" aria-hidden=\"true\" ></i>Map</a>\n                    <div class=\"myy-5\"></div>\n                </div>\n                \n                \n                <div class=\"col-sm-4 border-br\">\n                    <h4>{{'Order Status'|translate}}</h4>\n                    <div class=\"myy-5\"></div>\n                    <select class=\"form-control digits col-xl-12 col-sm-12\"\n                                id=\"exampleFormControlSelect2\"  [(ngModel)]= \"orderStatus\" [ngModelOptions]=\"{standalone: true}\" [disabled] = \"!canUpdate\">\n                                <option *ngFor=\"let sta of Status\" [value]=\"sta.id\" [selected] = \"sta.id==orderStatus\">\n                                    {{sta.name|translate}}\n                                </option>\n                            </select>\n                            <div class=\"myy-5\"></div>\n                            <div *ngIf=\"orderStatus == '1'\" class=\"form-group\">\n                                <h4>{{'Prepare time in minits'|translate}}</h4>\n                                    \n                                <input class=\"form-control col-xl-12 col-sm-12\" id=\"validationCustom0\"\n                                    type=\"number\" [(ngModel)]= \"pTime\" [value]=\"pTime\"  required=\"\">\n                                <h4 *ngIf=\"order.type == '3'\">{{'Price'|translate}}</h4>\n                                    \n                                <input *ngIf=\"order.type == '3'\" class=\"form-control col-xl-12 col-sm-12\" id=\"validationCustom0\"\n                                    type=\"number\" [(ngModel)]= \"price\" [value]=\"price\"  required=\"\">\n                            </div>\n                        <button (click)=\"updteStatus()\" class=\"btn btn-primary mr-1\" style=\"margin: 5px;\" [disabled] = \"!canUpdate || orderStatus != '5'\"  >\n                            {{'Update'|translate}}\n                        </button>\n                        <button *ngIf=\"order.deliveryBoy == '' && order.type!='2'\" (click)=\"RequestDelivery()\" class=\"btn btn-primary mr-1\" style=\"margin: 5px; float: right;\" [disabled] = \"!canUpdate\" >\n                            {{'Request Delivery'|translate}}\n                        </button>\n                       <h5 *ngIf=\"order.deliveryBoy != ''\" style=\"margin: 5px; float: right;\">{{'Delivery Boy'|translate}}  <a *ngIf=\"order.deliveryBoy != ''\"  target=\"_blank\" routerLink = \"/delivery/view-delivery-boy\" [queryParams]=\"{id: order?.deliveryBoy}\">{{ order?.deliveryBoy }}</a></h5>\n                    <div class=\"myy-5\"></div>\n                </div>\n                \n                \n            </div>\n        </div>\n\n    </div>\n    <div class=\"row\" *ngIf=\"showMap && order.type!='3'\">\n        <div  class=\"col-md-12\">\n            <div class=\"form-group col-md-12 col-sm-12 col-xs-12\">  \n                <div class=\"col-md-12\">\n                    <div class=\"map-icons street\">\n                    \n                        <div  style=\"background-color: #ff5a00; padding: 14px;\">\n                            <h6 class=\"text-white\">{{'Distance :'|translate}} {{distance | number : '1.2-2'}} {{'Km'|translate}}</h6>\n                        </div>\n    \n                        </div>\n                    <agm-map directionsMap \n                    [showDirection]=\"displayDirections\"\n                    [origin]=\"origin\"\n                    [destination]=\"destination\"\n                    [zoom]=\"zoom\"\n                    [disableDefaultUI]=\"false\">\n                    \n                     <agm-marker\n                     [latitude]=\"origin.latitude\"\n                     [longitude]=\"origin.longitude\"\n                     [iconUrl] =\"shopIcon\">\n                    </agm-marker>\n                    <agm-marker\n                    [latitude]=\"destination.latitude\"\n                    [longitude]=\"destination.longitude\"\n                    [iconUrl] =\"userIcon\">\n                   </agm-marker>\n                </agm-map>\n                </div>\n            </div>\n        \n\n            \n        </div>\n    </div>\n    <div class=\"row\" *ngIf=\"showMap && order.type=='3'\">\n        <div  class=\"col-md-12\">\n            <div class=\"form-group col-md-12 col-sm-12 col-xs-12\">  \n                <div class=\"col-md-12\">\n                    <div class=\"map-icons street\">\n                    \n                    \n    \n                        </div>\n                    <agm-map \n                    [latitude]=\"origin.latitude\" [longitude]=\"origin.longitude\"\n                    [zoom]=\"zoom\"\n                    [disableDefaultUI]=\"false\">\n                    \n                     <agm-marker\n                     [latitude]=\"origin.latitude\"\n                     [longitude]=\"origin.longitude\"\n                     [iconUrl] =\"userIcon\">\n                    </agm-marker>\n\n                </agm-map>\n                </div>\n            </div>\n        \n\n            \n        </div>\n    </div>\n    <div class=\"row  \">\n        <div class=\"col-lg-12\">\n            <div class=\"product-order\">\n                <div  class=\"col-sm-12\">\n                    <div *ngIf=\"order.type == '2' || order.type=='3'\" style=\"display: flex;\">\n                        <div class=\"col-md-6\">\n                            <h4>{{'Order Details'|translate}}</h4>\n                            <h5>{{order.txt_order}}</h5>\n                        </div>\n                        <div *ngIf=\"order.img_order !=''\" class=\"col-md-6\">\n                           <a [href]=\"order.img_order\" target=\"_blank\"><img [src]=\"order.img_order\" alt=\"\" class=\"img-fluid image_zoom_1\" width=\"200px\"></a> \n                        </div>\n                        \n                    </div>\n                    <table *ngIf=\"order.type == '1'\" class=\"table cart-table table-responsive-xs\">\n                        <thead>\n                            <tr class=\"table-head\">\n                                <th scope=\"col\">{{'product name'|translate}}</th>\n                                <th scope=\"col\">{{'Add-ons'|translate}}</th>\n                                <th scope=\"col\">{{'price'|translate}}</th>\n                                <th scope=\"col\">{{'quantity'|translate}}</th>\n                                <th scope=\"col\">{{'total'|translate}}</th>\n                            </tr>\n                        </thead>\n                        <tbody *ngFor=\"let product of order.product\">\n                            <tr>\n                              \n                                <td>\n                                    {{ product.title | titlecase }} ({{ product.size | titlecase}}) \n                                   \n                                </td>\n                               <td>\n                                <div class=\"col-xs-3\">\n                                    <ul>\n                                        <li *ngFor=\"let side of product.sides\">\n                                    \n                                        {{ side.name}} {{ side.price }} {{'EGP'|translate}}\n                                      \n                                        </li>\n                                    </ul>\n                                    \n                                </div>\n                               </td>\n                                <td>\n                                    <h2>\n                                        {{ product.price }} {{'EGP'|translate}}\n                                    </h2>\n                                </td>\n                                <td>\n                                    <h2>{{product.quantity}}</h2>\n                                </td>\n                                \n                                <td>\n                                    <h2 class=\"td-color\">\n                                        {{ (product.price * product.quantity) * productService?.Currency.price }} {{'EGP'|translate}}\n                                    </h2>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <table class=\"table cart-table table-responsive-md\">\n                        <tfoot>\n                            <tr>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                        \n                                <td>{{'Subtotal'|translate}} </td>\n                                <td>\n                                    <h2> {{ order.subtotal | number : '1.2-2' }} {{'EGP'|translate}}</h2>\n                                </td>\n                            </tr>\n                            <tr >\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                        \n                                <td>{{'Tax'|translate}}</td>\n                                <td>\n                                    <h2> {{ order.tax | number : '1.2-2'}} {{'EGP'|translate}}</h2>\n                                </td>\n                            </tr>\n                            <tr *ngIf=\"order.shipping > 0\">\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                        \n                                <td>{{'Shipping'|translate}} </td>\n                                <td>\n                                    <h2> {{ order.shipping | number : '1.2-2'}} {{'EGP'|translate}}</h2>\n                                </td>\n                            </tr>\n                            <tr *ngIf=\"order.discount > 0\">\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                        \n                                <td>{{'Discount'|translate}} </td>\n                                <td>\n                                    <h2> {{ order.discount | number : '1.2-2'}} {{'EGP'|translate}}</h2>\n                                </td>\n                            </tr>\n                            <tr >\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                        \n                                <td><h5>{{'Total'|translate}}</h5></td>\n                                <td>\n                                    <h5> {{ order.totalAmount | number : '1.2-2'}} {{'EGP'|translate}}</h5>\n                                </td>\n                            </tr>\n                        </tfoot>\n                    </table>\n                </div>\n                \n                \n            </div>\n        </div>\n    </div>\n</div>\n\n<ng-template #loaderTmpl>\n    <issue-loader></issue-loader>\n</ng-template>\n","import { Injectable } from '@angular/core';\nimport { Query } from '@datorama/akita';\nimport { FilterStore, FilterState } from './filter.store';\n\n@Injectable({ providedIn: 'root' })\nexport class FilterQuery extends Query<FilterState> {\n  any$ = this.select(\n    ({ searchTerm, userIds, onlyMyIssue, ignoreResolved }) =>\n      !!searchTerm || !!userIds?.length || onlyMyIssue || ignoreResolved\n  );\n  all$ = this.select();\n  userIds$ = this.select('userIds');\n  onlyMyIssue$ = this.select('onlyMyIssue');\n  ignoreResolve$ = this.select('ignoreResolved');\n\n  constructor(protected store: FilterStore) {\n    super(store);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DeliveryRoutingModule } from './delivery-routing.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { GalleryModule } from '@ks89/angular-modal-gallery';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CountToModule } from 'angular-count-to';\nimport { DataTablesModule } from 'angular-datatables';\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\nimport { ContentLoaderModule } from '@ngneat/content-loader';\nimport { CKEditorModule } from 'ngx-ckeditor';\nimport { DropzoneModule } from 'ngx-dropzone-wrapper';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { ListDeliveryBoysComponent } from './list-delivery-boys/list-delivery-boys.component';\nimport { ViewDeliveryBoyComponent } from './view-delivery-boy/view-delivery-boy.component';\nimport { AddDeliveryBoyComponent } from './add-delivery-boy/add-delivery-boy.component';\nimport { ZoneHoursComponent } from './zone-hours/zone-hours.component';\nimport { ZoneDeliveryBoysTrackingComponent } from './zone-delivery-boys-tracking/zone-delivery-boys-tracking.component';\nimport { ZoneOrdersComponent } from './zone-orders/zone-orders.component';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport { IssueCardComponent } from './issue-card/issue-card.component';\nimport { IssueModalComponent } from './issue-modal/issue-modal.component';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { OrdersBoardComponent } from './orders-board/orders-board.component';\nimport { NzModalModule } from 'ng-zorro-antd/modal';\nimport { IssueDetailComponent } from './issue-detail/issue-detail.component';\nimport { IssueLoaderComponent } from './issue-loader/issue-loader.component';\nimport { AgmCoreModule } from '@agm/core';\nimport { AgmDrawingModule } from '@agm/drawing';\nimport { mapDirective } from 'src/app/shared/service/map.directive';\nimport { OrdersDashboardComponent } from './orders-dashboard/orders-dashboard.component';\nimport { NgChatModule } from 'ng-chat';\nimport { DeliverySummeryComponent } from './delivery-summery/delivery-summery.component';\nimport { DeliveryOrdersComponent } from './delivery-orders/delivery-orders.component';\nimport { DeliveryAccountsComponent } from './delivery-accounts/delivery-accounts.component';\nimport { ZoneChatComponent } from './zone-chat/zone-chat.component';\nimport { DeliveryHourReportComponent } from './delivery-hour-report/delivery-hour-report.component';\n\n\n\n@NgModule({\n  declarations: [ListDeliveryBoysComponent,IssueLoaderComponent,IssueCardComponent,IssueModalComponent,IssueDetailComponent, ViewDeliveryBoyComponent,\n     AddDeliveryBoyComponent, ZoneHoursComponent, ZoneDeliveryBoysTrackingComponent, ZoneOrdersComponent, OrdersBoardComponent,mapDirective, OrdersDashboardComponent, DeliverySummeryComponent, DeliveryOrdersComponent, DeliveryAccountsComponent, ZoneChatComponent, DeliveryHourReportComponent],\n  imports: [\n    CommonModule,\n    DeliveryRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    CKEditorModule,\n    NzModalModule,\n    Ng2SmartTableModule,\n    NgbModule,\n    DropzoneModule,\n    TranslateModule,\n    DragDropModule,\n    ContentLoaderModule,\n    DataTablesModule,\n    CountToModule,\n    SharedModule,\n    MatProgressSpinnerModule,\n    GalleryModule.forRoot(),\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyCzWiF1jqp_BF-jxFHEq53C23NUZ81VwVc',\n      libraries: ['places', 'drawing', 'geometry'],\n      language: localStorage && localStorage.lang || 'ar'\n\n    }),\n    AgmDrawingModule\n  ]\n})\nexport class DeliveryModule { }\n","import { Component, Input } from '@angular/core';\nimport { Router } from '@angular/router';\n\n\nimport { NzModalRef } from 'ng-zorro-antd/modal';\nimport { Observable } from 'rxjs';\nimport { DeleteIssueModel } from 'src/app/shared/data/delete-issue-model';\nimport { Order } from 'src/app/shared/interfaces/order';\n\n\nimport { ProjectService } from 'src/app/shared/service/project.service';\n\n@Component({\n  selector: 'issue-modal',\n  templateUrl: './issue-modal.component.html',\n  styleUrls: ['./issue-modal.component.scss']\n})\nexport class IssueModalComponent {\n  @Input() orderId: string;\n\n  constructor(\n    private _modal: NzModalRef,\n    private _router: Router,\n    private _projectService: ProjectService\n  ) {}\n\n  closeModal() {\n    this._modal.close();\n  }\n\n  openIssuePage(issueId: string) {\n    this.closeModal();\n    this._router.navigate(['project', 'issue', issueId]);\n  }\n\n  deleteIssue({ issueId, deleteModalRef }: DeleteIssueModel) {\n    this._projectService.deleteIssue(issueId);\n    deleteModalRef.close();\n    this.closeModal();\n  }\n  \n}\n","<div class=\"px-3\">\n    <issue-detail [orderId]=\"orderId\"\n                  [isShowFullScreenButton]=\"true\"\n                  [isShowCloseButton]=\"true\"\n                  (onClosed)=\"closeModal()\"\n                  (onOpenIssue)=\"openIssuePage($event)\"\n                  (onDelete)=\"deleteIssue($event)\">\n    </issue-detail>\n</div>","import { AgmMap } from '@agm/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Component, Inject, Input, OnInit, PLATFORM_ID, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport { ToastrService } from 'ngx-toastr';\nimport { State } from 'src/app/shared/interfaces/state';\nimport { Town } from 'src/app/shared/interfaces/town';\nimport { AuthService } from 'src/app/shared/service/auth.service';\nimport { ProductService } from 'src/app/shared/service/product.service';\nimport { MapsAPILoader,MouseEvent } from '@agm/core';\nimport { DeliveryService } from 'src/app/shared/service/delivery.service';\nimport { DeliveryBoy } from 'src/app/shared/interfaces/delivery-boy';\nimport { Hour, ZoneUser } from 'src/app/shared/interfaces/hour';\ndeclare const google: any;\nexport interface DBLatLng {\n  id:string;\n  name:string;\n  latitude: number;\n  longitude: number;\n\n}\n@Component({\n  selector: 'app-zone-delivery-boys-tracking',\n  templateUrl: './zone-delivery-boys-tracking.component.html',\n  styleUrls: ['./zone-delivery-boys-tracking.component.scss']\n})\nexport class ZoneDeliveryBoysTrackingComponent implements OnInit {\n\n  @ViewChild(AgmMap) agmMap: any;\n  title: string = 'AGM project';\n  latitude: number=30.033333;\n  longitude: number=31.233334;\n  zoom: number = 17;\n  address: string;\n  private geoCoder;\n  polygon: any;\n  Zone:any = [];\n  state:State;\n  zoneHour:Hour;\n  triangleCoords:any;\n  zoneUsers:ZoneUser[] = [];\n  managerOptions = {\n    drawingControl: true,\n    drawingControlOptions: {\n      drawingModes: ['polygon']\n    },\n    polygonOptions: {\n      draggable: false,\n      editable: true\n    },\n    drawingMode: \"polygon\"\n  };\n\n  options: any = {\n    lat: this.latitude,\n    lng: this.longitude,\n    zoom: 14,\n    fillColor: '#DC143C',\n    draggable: true,\n    editable: true,\n    visible: true\n  };\n  public closeResult: string;\n  public modalOpen: boolean = false;\n  public products: any[] = [];\n  public towns:Town[] = [];\n  public states:State[] = [];\n  public dBoyes:DeliveryBoy[]=[];\n  public locations:string[]=[];\n  public dbL:DBLatLng[] = [];\n  @Input() stateId = \"\";\n  townId = \"\";\n  lang:any;\n  dbIcon={\n    url:'./assets/images/icons/db.png',\n    scaledSize: {\n        width: 40,\n        height: 40\n    },\n    labelOrigin: { x: 16, y: 48 }\n  }\n  constructor(private deliveryService: DeliveryService,@Inject(PLATFORM_ID) private platformId: Object,\n    private modalService: NgbModal,\n    private toastr:ToastrService,\n    private productService: ProductService,\n    private router:Router) {\n      this.lang=localStorage.getItem('language');\n      \n    \n  }\n  onMapReady(map){\n    this.geoCoder = new google.maps.Geocoder;\n    this.agmMap = map;\n  }\n  mapClicked($event: MouseEvent) {\n   if(this.isWithinPoly($event,this.polygon)){\n    this.latitude = $event.coords.lat;\n    this.longitude = $event.coords.lng;\n    //this.getMAddress(this.latitude, this.longitude);\n   }else{\n     this.toastr.error(\"لا يمكن التوصيل خارج المنطقة المظللة\")\n   }\n    \n    \n  }\n  \n  getLocation() {\n\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((response) => {\n            //this.setPosition(response);\n            this.latitude = response.coords.latitude;\n            this.longitude = response.coords.longitude;\n            this.options.lat = response.coords.latitude;\n            this.options.lng = response.coords.longitude;\n        }, function () {\n            alert(\"Unable to get the GPS location\");\n        }, { maximumAge: 60000, timeout: 5000, enableHighAccuracy: true });\n    };\n}\n\n\n  addPolygon(){\n    this.polygon = new google.maps.Polygon({\n      paths: this.triangleCoords,\n      strokeColor: '#FF0000',\n      strokeOpacity: 0.8,\n      strokeWeight: 2,\n      fillColor: '#FF0000',\n      fillOpacity: 0.35,\n      editable: false,\n      draggable: false,\n    });\n\n   \n\n   var cn =  this.polygonCenter(this.triangleCoords);\n   this.longitude = cn.lng;\n   this.latitude = cn.lat;\n   this.options.lat = this.latitude\n   this.options.lng = this.longitude\n    \n\n  }\n  showDb(db:DeliveryBoy){\n    this.options.lat = db.location.lat;\n    this.options.lng = db.location.lng;\n    this.options.zoom = 15;\n  }\n  \n  ngOnInit(): void {\n    this.getZone();\n    let date = new Date();\n    var hours = date.getHours();\n    let h = this.selectedHour(hours);\n    var day = date.getDay();\n    let d = this.selectedDay(day);\n    console.log(h,d);\n\n        this.deliveryService.getOnlineDeliveryBoysByZone(this.stateId).subscribe(res=>{\n          this.dBoyes = [];\n          this.dBoyes = res ;\n          console.log(this.dBoyes)\n        \n         })\n      \n   \n  }\n  selectedHour(hours: number) {\n    if(hours>10){\n      return \"\"+hours\n    }else{\n      return \"0\"+hours;\n    }\n  }\n  selectedDay(day:number) {\n    if(day==0){\n      return '2'\n    }else if(day==1){\n      return '3'\n    }else if(day==2){\n      return '4'\n    }else if(day==3){\n      return '5'\n    }else if(day==4){\n      return '6'\n    }else if(day==5){\n      return '0'\n    }else if(day==6){\n      return '1'\n    }\n  }\n\n  \n\n  getZone(){\n    this.deliveryService.getState(this.stateId).subscribe(state=>{\n      this.state = state;\n      this.triangleCoords = this.state.map;\n      google.maps.Polygon.prototype.my_getBounds=function(){\n        var bounds = new google.maps.LatLngBounds()\n        this.getPath().forEach(function(element,index){bounds.extend(element)})\n        return bounds\n    }\n      \n      this.addPolygon()\n    })\n  }\n\n \n  \n  getMAddress(latitude, longitude) {\n    this.geoCoder.geocode({ 'location': { lat: latitude, lng: longitude } }, (results, status) => {\n      if (status === 'OK') {\n        if (results[0]) {\n          this.zoom = 17;\n          this.address = results[0].formatted_address;\n        } else {\n          window.alert('No results found');\n        }\n      } else {\n        window.alert('Geocoder failed due to: ' + status);\n      }\n  \n    });\n  }\n\n  ngAfterViewInit(): void {\n  }\n\n  \n\n  \n\n  private getDismissReason(reason: any): string {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return `with: ${reason}`;\n    }\n  }\n\n  ngOnDestroy() {\n    if(this.modalOpen){\n      this.modalService.dismissAll();\n    }\n  }\n\n  isWithinPoly(event,polgon){\n    var isWithinPolygon = google.maps.geometry.poly.containsLocation(new google.maps.LatLng(event.coords.lat, event.coords.lng), polgon);\n    return isWithinPolygon;\n  }\n\n  polygonCenter(poly) {\n    const vertices = poly;\n  \n    // put all latitudes and longitudes in arrays\n    const longitudes = vertices.map(i => i.lng);\n    const latitudes = vertices.map( i => i.lat);\n  \n    // sort the arrays low to high\n    latitudes.sort();\n    longitudes.sort();\n  \n    // get the min and max of each\n    const lowX = latitudes[0];\n    const highX = latitudes[latitudes.length - 1];\n    const lowy = longitudes[0];\n    const highy = longitudes[latitudes.length - 1];\n  \n    // center of the polygon is the starting point plus the midpoint\n    const centerX = lowX + ((highX - lowX) / 2);\n    const centerY = lowy + ((highy - lowy) / 2);\n  \n    return ({lat:centerX, lng:centerY});\n  }\n  }\n","<div class=\"container-fluid\" >\n  <div class=\"row\">\n    <div class=\"col-xl-2\" style=\"padding-right: 0;padding-left: 0;\" >  \n    <div  style=\"background-color: #ff5a00; padding: 5px;\" class=\"text-center\">\n        <h6 class=\"text-white\">{{'Delivery Boys'|translate}} </h6>\n        \n    </div>\n    <ul class=\"order-detail\">\n      <li style=\"display: flex;\" *ngFor=\"let db of dBoyes\"><div class=\"col-md-8\"><a (click)=\"showDb(db)\">{{ db.name }} </a></div><div class=\"col-md-4\"><a *ngIf=\"db.online && db.busy\">{{ 'Busy'|translate }} </a><a style=\"color: rgb(84, 167, 2);\" *ngIf=\"db.online &&!db.busy\">{{ 'Online'|translate }} </a><a style=\"color: rgb(74, 75, 73);\" *ngIf=\"!db.online \">{{ 'Offline'|translate }} </a></div></li>\n  </ul>\n    </div>\n    <div  class=\"col-xl-10\" style=\"padding-right: 0;padding-left: 0;\" fxLayout=\"column\">\n       <div class=\"map\" fxFlex=\"1 1 100%\" #map>\n         \n            <agm-map [latitude]=\"options.lat\" [longitude]=\"options.lng\" [zoom]=\"options.zoom\" (mapReady)=\"onMapReady($event)\" (mapClick)=\"mapClicked($event)\" #agmMap>\n                                            \n            <agm-marker *ngFor=\"let db of dBoyes \" [latitude]=\"db.location.lat\" [longitude]=\"db.location.lng\" [markerDraggable]=\"false\"  [iconUrl] =\"dbIcon\" [label]=\"db.name\"\n            ></agm-marker>\n            <agm-polygon [paths]=\"triangleCoords\" [clickable]=\"false\">\n            </agm-polygon>\n\n          </agm-map>\n        </div>\n    </div>\n  </div>\n  \n       \n        \n    \n</div>\n","import { ProjectState, ProjectStore } from './project.store';\nimport { Injectable, Input } from '@angular/core';\nimport { Query } from '@datorama/akita';\n\nimport { map, delay } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { IssueStatus } from './issue';\nimport { Order } from '../interfaces/order';\nimport { OrderService } from '../service/order.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectQuery extends Query<ProjectState> {\n  \n\n  orders:Order[] =[] \n \n\n  constructor(protected store: ProjectStore,private orderService:OrderService) {\n    super(store);\n    \n  }\n\n  \n  lastIssuePosition = (status: IssueStatus): number => {\n    const raw = this.orders;\n    console.log(\"raw:\"+raw)\n    const issuesByStatus = raw.filter(x => x.status === status);\n    return issuesByStatus.length;\n  };\n\n  issueByStatusSorted$ = (status: IssueStatus,orders:Order[] ): Order[] => orders\n          .filter((x) => x.status === status)\n          .sort((a, b) => a.orderId - b.orderId);\n\n  //issueById$(issueId: string){\n ////   return this.issues$.pipe(\n  //    delay(500),\n  //    map((issues) => issues.find(x => x.id === issueId))\n //   );\n // }\n}\n","import {Directive, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {GoogleMapsAPIWrapper} from '@agm/core';\n\n// You can use any other interface for origin and destination, but it must contain latlng data\nexport interface ILatLng {\n  latitude: number;\n  longitude: number;\n}\n\n// the will keep typescript from throwing errors w.r.t the google object\ndeclare var google: any;\n\n@Directive({\n  selector: '[directionsMap]'\n})\nexport class mapDirective implements OnInit, OnChanges {\n  @Input() origin: ILatLng;\n  @Input() destination: ILatLng;\n  @Input() showDirection: boolean;\n\n  // We'll keep a single google maps directions renderer instance so we get to reuse it.\n  // using a new renderer instance every time will leave the previous one still active and visible on the page\n  private directionsRenderer: any;\n\n  // We inject AGM's google maps api wrapper that handles the communication with the Google Maps Javascript\n  constructor(private gmapsApi: GoogleMapsAPIWrapper) {}\n\n  ngOnInit() {\n    this.drawDirectionsRoute();\n  }\n\n  drawDirectionsRoute() {\n      this.gmapsApi.getNativeMap().then(map => {\n        if (!this.directionsRenderer) {\n          // if you already have a marker at the coordinate location on the map, use suppressMarkers option\n          // suppressMarkers prevents google maps from automatically adding a marker for you\n          this.directionsRenderer = new google.maps.DirectionsRenderer({suppressMarkers: true});\n        }\n        const directionsRenderer = this.directionsRenderer;\n\n        if ( this.showDirection && this.destination ) {\n            const directionsService = new google.maps.DirectionsService;\n            directionsRenderer.setMap(map);\n            directionsService.route({\n                origin: {lat: this.origin.latitude, lng: this.origin.longitude},\n                destination: {lat: this.destination.latitude, lng: this.destination.longitude},\n                waypoints: [],\n                optimizeWaypoints: true,\n                travelMode: 'DRIVING'\n            }, (response, status) => {\n                if (status === 'OK') {\n                    directionsRenderer.setDirections(response);\n                    // If you'll like to display an info window along the route\n                    // middleStep is used to estimate the midpoint on the route where the info window will appear\n                    // const middleStep = (response.routes[0].legs[0].steps.length / 2).toFixed();\n                    // const infowindow2 = new google.maps.InfoWindow();\n                    // infowindow2.setContent(`${response.routes[0].legs[0].distance.text} <br> ${response.routes[0].legs[0].duration.text}  `);\n                    // infowindow2.setPosition(response.routes[0].legs[0].steps[middleStep].end_location);\n                    // infowindow2.open(map);\n                } else {\n                    console.log('Directions request failed due to ' + status);\n                }\n            });\n        }\n\n      });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n      if (changes.destination || changes.showDirection) {\n          // this checks if the show directions input changed, if so the directions are removed\n          // else we redraw the directions\n          if (changes.showDirection && !changes.showDirection.currentValue) {\n              if (this.directionsRenderer !== undefined) { // check this value is not undefined\n                  this.directionsRenderer.setDirections({routes: []});\n                  return;\n              }\n          } else {\n              this.drawDirectionsRoute();\n          }\n      }\n  }\n\n}","import { IssuePriority, IssuePriorityColors } from './issue';\n\nexport class IssuePriorityIcon {\n  icon: string;\n  value: string;\n  color: string;\n\n  constructor(issuePriority: IssuePriority) {\n    const lowerPriorities = [IssuePriority.LOW, IssuePriority.LOWEST];\n    this.value = issuePriority;\n    this.icon = lowerPriorities.includes(issuePriority) ? 'arrow-down' : 'arrow-up';\n    this.color = IssuePriorityColors[issuePriority];\n  }\n}\n"]}